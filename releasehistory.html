<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.12: http://docutils.sourceforge.net/" />
<title></title>
<style type="text/css">

/*
:Author: David Goodger (goodger@python.org)
:Id: $Id: html4css1.css 7614 2013-02-21 15:55:51Z milde $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

object[type="image/svg+xml"], object[type="application/x-shockwave-flash"] {
  overflow: hidden;
}

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title, .code .error {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin: 0 0 0.5em 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left, .figure.align-left, object.align-left {
  clear: left ;
  float: left ;
  margin-right: 1em }

img.align-right, .figure.align-right, object.align-right {
  clear: right ;
  float: right ;
  margin-left: 1em }

img.align-center, .figure.align-center, object.align-center {
  display: block;
  margin-left: auto;
  margin-right: auto;
}

.align-left {
  text-align: left }

.align-center {
  clear: both ;
  text-align: center }

.align-right {
  text-align: right }

/* reset inner alignment in figures */
div.align-right {
  text-align: inherit }

/* div.align-center * { */
/*   text-align: left } */

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font: inherit }

pre.literal-block, pre.doctest-block, pre.math, pre.code {
  margin-left: 2em ;
  margin-right: 2em }

pre.code .ln { color: grey; } /* line numbers */
pre.code, code { background-color: #eeeeee }
pre.code .comment, code .comment { color: #5C6576 }
pre.code .keyword, code .keyword { color: #3B0D06; font-weight: bold }
pre.code .literal.string, code .literal.string { color: #0C5404 }
pre.code .name.builtin, code .name.builtin { color: #352B84 }
pre.code .deleted, code .deleted { background-color: #DEB0A1}
pre.code .inserted, code .inserted { background-color: #A3D289}

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

/* "booktabs" style (no vertical lines) */
table.docutils.booktabs {
  border: 0px;
  border-top: 2px solid;
  border-bottom: 2px solid;
  border-collapse: collapse;
}
table.docutils.booktabs * {
  border: 0px;
}
table.docutils.booktabs th {
  border-bottom: thin solid;
  text-align: left;
}

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

ul.auto-toc {
  list-style-type: none }

</style>
</head>
<body>
<div class="document">


<div class="section" id="version-v6r17p11">
<h1>Version v6r17p11</h1>
<div class="section" id="core">
<h2>Core</h2>
<div class="section" id="bugfix">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ElasticSearchDB - set a very high number (10K) for the size of the ElasticSearch result</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="monitoring">
<h2>Monitoring</h2>
<div class="section" id="id1">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>MonitoringDB - et a very high number (10K) for the size of the ElasticSearch result</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="wms">
<h2>WMS</h2>
<div class="section" id="id2">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>pilotCommands - get the pilot environment from the contents of the bashrc script</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="dms">
<h2>DMS</h2>
<div class="section" id="id3">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RemoveReplica - fix for the problem that if an error was set it was never reset</li>
<li>SE metadata usage in several components: ConsistencyInspector, DataIntwgrityClient, FTSRequest, dirac-dms-replica-metadata, StageMonitorAgent, StageRequestAgent, StorageManagerClient, DownloadInputData, InputDataByProtocol</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r17p10">
<h1>Version v6r17p10</h1>
<div class="section" id="id4">
<h2>Core</h2>
<div class="section" id="id5">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ElastocSearchDB - error messages demoted to warnings</li>
</ul>
</blockquote>
</div>
<div class="section" id="feature">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Logger - printing methods return True/False if the message was printed or not</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id6">
<h2>Monitoring</h2>
<div class="section" id="id7">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>MonitoringReporter - create producers if the CS definitions are properly in place</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="ts">
<h2>TS</h2>
<div class="section" id="change">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>TaskManagerPlugin - allow to redefine the AutoAddedSites for each job type</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r17p9">
<h1>Version v6r17p9</h1>
<div class="section" id="id8">
<h2>WMS</h2>
<div class="section" id="id9">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>JobScheduling - bug fixed introduced in the previous patch</li>
</ul>
</blockquote>
</div>
<div class="section" id="id10">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>pilotTools - introduced -o swicth for a generic CS option</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="sms">
<h2>SMS</h2>
<div class="section" id="id11">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>StorageManagerClient - fixes in the unit test</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id12">
<h2>DMS</h2>
<div class="section" id="id13">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FileManagerPs - in _getFileLFNs() - break a long list of LFNs into smaller chunks</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r17p8">
<h1>Version v6r17p8</h1>
<div class="section" id="id14">
<h2>Core</h2>
<div class="section" id="id15">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-install, dirac-deploy-scripts - fixes to allow DIRAC client installation on recent MacOS versions with System Integrity Protection feature</li>
<li>Proxy - fix indentation in getProxy() preventing looping on the DNs</li>
</ul>
</blockquote>
</div>
<div class="section" id="id16">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>X509Chain - use DErrno.ENOGROUP error</li>
<li>Proxy - added executionLock optional argument to executeWithUserProxy() decorator to lock while executing the function with user proxy</li>
</ul>
</blockquote>
</div>
<div class="section" id="id17">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>DErrno.ENOGROUP error to denote proxies without DIRAC group extension embedded</li>
<li>Proxy - added executionLock argument to the executeWithUserProxy decorator in order to execute the decorated function with a global lock</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="framework">
<h2>Framework</h2>
<div class="section" id="id18">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ProxyDB - fix of error message check in completeDelegation()</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id19">
<h2>WMS</h2>
<div class="section" id="id20">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TaskQueueDB - when an empty TaskQueue is marked for deletion, it can still get matches which result in no selected jobs that produced unnecessary error messages</li>
<li>JobScheduling executor - calls getFilesToStage() with a flag to lock while file lookup with user proxy; same for InputData executor for calling _resolveInputData()</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id21">
<h2>TS</h2>
<div class="section" id="id22">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FileReport - fix in setFileStatus() for setting status for multiple LFNs at once</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id23">
<h2>SMS</h2>
<div class="section" id="id24">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>StorageManagerClient - in getFilesToStage() avoid using proxy if no files to check on a storage element</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="resources">
<h2>Resources</h2>
<div class="section" id="id25">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>GFAL2_XROOTStorage - fix to allow interactive use of xroot plugin</li>
<li>GFAL2_StorageBase - enable IPV6 for gsiftp</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r17p7">
<h1>Version v6r17p7</h1>
<div class="section" id="id26">
<h2>DMS</h2>
<div class="section" id="id27">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-dms-user-lfns - do not print out empty directories</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id28">
<h2>WMS</h2>
<div class="section" id="id29">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>InputData Executor, JobWrapper - use DataManager.getReplicasForJobs() for getting input data replicas</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id30">
<h2>TS</h2>
<div class="section" id="id31">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationAgent - use DataManager.getReplicasForJobs() for transformations creating jobs</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r17p6">
<h1>Version v6r17p6</h1>
<div class="section" id="id32">
<h2>DMS</h2>
<div class="section" id="id33">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>DataManager - add key argument forJobs (default False) in getReplicas() in order to get only replicas that can be used for jobs (as defined in the CS); added getReplicasForJobs(), also used in the Dirac API</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id34">
<h2>SMS</h2>
<div class="section" id="id35">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Stager agents - monitor files even when there is no requestID, e.g. dCache returns None when staging a file that is already staged</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id36">
<h2>Resources</h2>
<div class="section" id="id37">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>StorageFactory - bug fixes when interpreting SEs inheriting other SE parameters</li>
<li>Torque - some sites put advertising in the command answer that can not be parsed: redirect stderr to /dev/null</li>
</ul>
</blockquote>
</div>
<div class="section" id="id38">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Test_StorageFactory unit test and corresponding docs</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r17p5">
<h1>Version v6r17p5</h1>
<div class="section" id="id39">
<h2>Resources</h2>
<div class="section" id="id40">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>LcgFileCatalogClient - do not evaluate GUID if it is not a string</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r17p4">
<h1>Version v6r17p4</h1>
<div class="section" id="configuration">
<h2>Configuration</h2>
<div class="section" id="id41">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Utilities - fixed interpretation of weird values of GlueCEPolicyMaxWallClockTime BDII parameter; newMaxCPUTime should is made integer</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id42">
<h2>Framework</h2>
<div class="section" id="id43">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Logger - make subloggers processing messages with the same level as the parent logger</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="docs">
<h2>Docs</h2>
<div class="section" id="id44">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Updated documentation in several sections</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id45">
<h2>DMS</h2>
<div class="section" id="id46">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RemoveReplica operation - don't set file Done in RemoveReplicas if there is an error</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r17p3">
<h1>Version v6r17p3</h1>
<div class="section" id="rss">
<h2>RSS</h2>
<div class="section" id="id47">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Synchronizer - the sync method removes the resources that are no longer in the CS from the DowntimeCache table</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id48">
<h2>DMS</h2>
<div class="section" id="id49">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>dirac-dms-find-lfns - added SE switch to look for files only having replicas on a given SE (list)</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id50">
<h2>TS</h2>
<div class="section" id="id51">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TaskManager - optimization of the site checking while preparing job; optimized creation of the job template</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id52">
<h2>Resources</h2>
<div class="section" id="id53">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>GFAL2_SRM2Storage, SRM2Storage - added gsiftp to the list of OUTPUT protocols</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r17p2">
<h1>Version v6r17p2</h1>
<div class="section" id="id54">
<h2>Monitoring</h2>
<div class="section" id="id55">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ElasticSearchDB - fixes required to use host certificate for connection; fixes required to pass to version 5.0.1 of the elasticsearch.py binding</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r17p1">
<h1>Version v6r17p1</h1>
<div class="section" id="id56">
<h2>RSS</h2>
<div class="section" id="id57">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>GOCDBSync - make commmand more verbose and added some minor fixes</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r17">
<h1>Version v6r17</h1>
<div class="section" id="id58">
<h2>Core</h2>
<div class="section" id="id59">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Adler - check explicitly if the checksum value is &quot;False&quot;</li>
<li>install_site.sh - added command line option to choose DIRAC version to install</li>
</ul>
</blockquote>
</div>
<div class="section" id="id60">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>ComponentInstaller - added configuration parameters to setup NoSQL database</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id61">
<h2>Framework</h2>
<div class="section" id="id62">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Logger - test level before processing string (i.e. mostly converting objects to strings)</li>
<li>dirac-proxy-init - check and attempt to update local CRLs at the same time as generating user proxy</li>
<li>ProxyManager service - always store the uploaded proxy even if the already stored one is of the same validity length to allow replacement in case of proxy type changes, e.g. RFC type proxies</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id63">
<h2>DMS</h2>
<div class="section" id="id64">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ReplicateAndRegister - fix the case when checksum is False in the FC</li>
</ul>
</blockquote>
</div>
<div class="section" id="id65">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Next in implementation multi-protocol support for storage elements. When performing an action on the StorageElement, instead of looping over all the protocol plugins, we loop over a filtered list. This list is built taking into account which action is taken (read vs write), and is also sorted according to lists defined in the CS. The negotiation for third party transfer is also improved: it takes into account all possible protocols the source SE is able to produce, and all protocols the target is able to receive as input.</li>
<li>StorageElement - added methods for monitoring used disk space</li>
<li>DMSHelpers - get list of sites from CS via methods; allow to add automatically sites with storage</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id66">
<h2>RSS</h2>
<div class="section" id="id67">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>FreeDiskSpace - added new command which is used to get the total and the remaining disk space of all dirac storage elements that are found in the CS and inserts the results in the SpaceTokenOccupancyCache table of ResourceManagementDB database.</li>
<li>GOCDBSync command to ensure that all the downtime dates in the DowntimeCache table are up to date Resources*</li>
<li>Updated Message Queue interface: MQ service connection management, support for SSL connections, better code arrangement</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="workflow">
<h2>Workflow</h2>
<div class="section" id="id68">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Modulebase, Script - avoid too many unnecessarily different application states</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id69">
<h2>WMS</h2>
<div class="section" id="id70">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>JobStateUpdate service - in setJobStatusBulk() avoid adding false information when adding an application status</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id71">
<h2>TS</h2>
<div class="section" id="id72">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TaskManager, TaskManagerAgentBase - standardize the logging information; removed unnecessary code; use iterators wherever possible</li>
</ul>
</blockquote>
</div>
<div class="section" id="id73">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Introduced metadata-based filters when registering new data in the TS as catalog</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r16p6">
<h1>Version v6r16p6</h1>
<div class="section" id="id74">
<h2>WMS</h2>
<div class="section" id="id75">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Added MultiProcessorSiteDirector section to the ConfigTemplate.cfg</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id76">
<h2>DMS</h2>
<div class="section" id="id77">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FileCatalogClient - added missing read methods to the interface description getDirectoryUserMetadata(), getFileUserMetadata()</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r16p5">
<h1>Version v6r16p5</h1>
<p>FIX: included patches from v6r15p27</p>
</div>
<div class="section" id="version-v6r16p4">
<h1>Version v6r16p4</h1>
<p>FIX: applied fixes from v6r15p26</p>
</div>
<div class="section" id="version-v6r16p3">
<h1>Version v6r16p3</h1>
<p>FIX: incorporated fixes from v6r15p25</p>
</div>
<div class="section" id="version-v6r16p2">
<h1>Version v6r16p2</h1>
<div class="section" id="id78">
<h2>Configuration</h2>
<div class="section" id="id79">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>VOMS2CSAgent - remove user DNs which are no more in VOMS. Fixes #3130</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id80">
<h2>Monitoring</h2>
<div class="section" id="id81">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>WMSHistory - added user, jobgroup and usergroup selection keys</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id82">
<h2>DMS</h2>
<div class="section" id="id83">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>DataManager - retry checksum calculation on putAndRegister, pass checksum to the DataManager object in the FailoverTransfer object.</li>
<li>DatasetManager, FileCatalogClientCLI - bug fixes in the dataset management and commands</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id84">
<h2>WMS</h2>
<div class="section" id="id85">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>JobManager - added 'Killed' to list of jobs status that can be deleted</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r16p1">
<h1>Version v6r16p1</h1>
<div class="section" id="id86">
<h2>Monitoring</h2>
<div class="section" id="id87">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>MonitorinDB - allow to use more than one filter condition</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id88">
<h2>WMS</h2>
<div class="section" id="id89">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>StalledJobAgent - send a kill signal to the job before setting it Failed. This should prevent jobs to continue running after they have been found Stalled and then Failed.</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r16">
<h1>Version v6r16</h1>
<div class="section" id="id90">
<h2>Core</h2>
<div class="section" id="id91">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-setup-site - added switch to exitOnError, do not exit on error by default</li>
<li>ComponentInstaller - always update CS when a database is installed, even if it is already existing in the db server</li>
<li>SSLSocketFactory - in __checkKWArgs() use correct host address composed of 2 parts</li>
</ul>
</blockquote>
</div>
<div class="section" id="id92">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>dirac-install, dirac-configure - use Extensions options consistently, drop ExtraModule option</li>
<li>dirac-install - use insecure ssl context for downloading files with urllib2.urlopen</li>
<li>GOCDBClient - replaced urllib2 with requests module</li>
<li>Added environment variables to rc files to enable certificates verification (necessary for python 2.7.9+)</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id93">
<h2>Framework</h2>
<div class="section" id="id94">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SystemAdministrator service - do not install WebAppDIRAC by default, only for the host really running the web portal</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="accounting">
<h2>Accounting</h2>
<div class="section" id="id95">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>JobPolicy - remove User field from the policy conditions to fix a problem that non-authenticated user gets more privileges on the Accounting info.</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id96">
<h2>Monitoring</h2>
<div class="section" id="id97">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>New Monitoring system is introduced to collect, analyze and display various monitoring information on DIRAC components status and behavior using ElasticSearch database. The initial implementation is to collect WMSHistory counters.</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id98">
<h2>DMS</h2>
<div class="section" id="id99">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>MoveReplica operation for the RMS system and a corresponding dirac-dms-move-replica-request comand line tool</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id100">
<h2>Resources</h2>
<div class="section" id="id101">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>MessageQueue resources to manage MQ connections complemented with MQListener and MQPublisher helper classes</li>
<li>SudoComputingElement - computing element to execute payload with a sudo to a dedicated UNIX account</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r15p27">
<h1>Version v6r15p27</h1>
<div class="section" id="id102">
<h2>Configuration</h2>
<div class="section" id="id103">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>CSAPI - changed so that empty but existing options in the CS can be still modified</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r15p26">
<h1>Version v6r15p26</h1>
<div class="section" id="id104">
<h2>WMS</h2>
<div class="section" id="id105">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SandboxStoreClient - ensure that the latest sandbox is returned in the Web portal in the case the job was reset.</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r15p25">
<h1>Version v6r15p25</h1>
<div class="section" id="id106">
<h2>Resources</h2>
<div class="section" id="id107">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>HTCondorCEComputingElement - cast useLocalSchedd to bool value even if it is defined as srting</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r15p24">
<h1>Version v6r15p24</h1>
<div class="section" id="id108">
<h2>Resources</h2>
<div class="section" id="id109">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>HTCondorCE - added option to use remote scheduler daemon</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r15p23">
<h1>Version v6r15p23</h1>
<div class="section" id="id110">
<h2>DMS</h2>
<div class="section" id="id111">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-dms-find-lfns - fixed bug causing generl script failure</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r15p22">
<h1>Version v6r15p22</h1>
<div class="section" id="interfaces">
<h2>Interfaces</h2>
<div class="section" id="id112">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Dirac API - add possibility to define the VO in the API</li>
<li>Dirac API - add checkSEAccess() method for checking SE status</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r15p21">
<h1>Version v6r15p21</h1>
<div class="section" id="id113">
<h2>WMS</h2>
<div class="section" id="id114">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>removed default LCG version from the pilot (dirac-install will use the one of the requested release)</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="rms">
<h2>RMS</h2>
<div class="section" id="id115">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>reject bad checksum</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r15p20">
<h1>Version v6r15p20</h1>
<div class="section" id="id116">
<h2>Framework</h2>
<div class="section" id="id117">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SystemAdministratorHandler - in updateSoftware() put explicitly the project name into the command</li>
<li>ComponentInstaller - added baseDir option to the mysql_install_db call while a fresh new database server installation</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r15p19">
<h1>Version v6r15p19</h1>
<div class="section" id="id118">
<h2>Core</h2>
<div class="section" id="id119">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-install - lcg-binding version specified in the command switch overrides the configuration option value</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id120">
<h2>DMS</h2>
<div class="section" id="id121">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RemoveFile operation - Remove all files that are not at banned SEs</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="tms">
<h2>TMS</h2>
<div class="section" id="id122">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FileReport - after successful update of input files status, clear the cache disctionary to avoid double update</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r15p18">
<h1>Version v6r15p18</h1>
<div class="section" id="id123">
<h2>Configuration</h2>
<div class="section" id="id124">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Utilities - take into account WallClock time limit while the MaxCPUTime evaluation in the <a class="reference external" href="mailto:Bdii&#64;CSAgent">Bdii&#64;CSAgent</a></li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id125">
<h2>DMS</h2>
<div class="section" id="id126">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FTSJob - specify checksum type at FTS request submission</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="storagemanagement">
<h2>StorageManagement</h2>
<div class="section" id="id127">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>StorageManagerClient - in getFilesToStage() avoid exception in case of no active replicas</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id128">
<h2>Resources</h2>
<div class="section" id="id129">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>StorageBase - in getParameters() added baseURL in the list of parameters returned</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id130">
<h2>WMS</h2>
<div class="section" id="id131">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>CPUNormalization - minor code rearrangement</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r15p17">
<h1>Version v6r15p17</h1>
<div class="section" id="id132">
<h2>Core</h2>
<div class="section" id="id133">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>LSFTimeLeft - accept 2 &quot;word&quot; output from bqueues command</li>
</ul>
</blockquote>
</div>
<div class="section" id="id134">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>GOCDBClient - catch all downtimes, independently of their scope</li>
<li>dirac-install - create bashrc/cshrc with the possibility to define installation path in the $DIRAC env variable, this is needed for the cvmfs DIRAC client installation</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r15p16">
<h1>Version v6r15p16</h1>
<div class="section" id="id135">
<h2>Core</h2>
<div class="section" id="id136">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>AgentModule - added a SIGALARM handler to set a hard timeout for each Agent cycle to avoid agents stuck forever due to some faults in the execution code</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id137">
<h2>DMS</h2>
<div class="section" id="id138">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>DataManager - cache SE status information in filterTapeReplicas() to speed up execution</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id139">
<h2>WMS</h2>
<div class="section" id="id140">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>InputDataByProtocol - the failed resolution for local SEs was not considered correctly: if there were other SEs that were ignored (e.g. because on tape)</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id141">
<h2>TS</h2>
<div class="section" id="id142">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationAgent - in getDataReplicasDM() no need to get replica PFNs</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r15p15">
<h1>Version v6r15p15</h1>
<div class="section" id="id143">
<h2>Configuration</h2>
<div class="section" id="id144">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>VOMS2CSAgent - added new features: deleting users no more registered in VOMS; automatic creation of home directories in the File Catalog for new users</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id145">
<h2>WMS</h2>
<div class="section" id="id146">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>CPUNormalization - accept if the JOBFEATURES information is zero or absent</li>
</ul>
</blockquote>
</div>
<div class="section" id="id147">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>JobScheduling - correct handling of user specified sites in the executor, including non-existent (misspelled) site names</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r15p14">
<h1>Version v6r15p14</h1>
<div class="section" id="id148">
<h2>Core</h2>
<div class="section" id="id149">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>BaseClient - proper error propagation to avoid excessive output in the logger</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id150">
<h2>Configuration</h2>
<div class="section" id="id151">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Resources helper - in getStorageElementOptions() dereference SEs containing BaseSE and Alias references</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id152">
<h2>Accounting</h2>
<div class="section" id="id153">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>AccountingDB - changes to use DB index to speed-up removal query</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id154">
<h2>DMS</h2>
<div class="section" id="id155">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FTSJob - temporary fix for the FTS rest interface Request object until it is fixed in the FTS REST server</li>
</ul>
</blockquote>
</div>
<div class="section" id="id156">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>DMSHelpers - define SE groups SEsUsedForFailover, SEsNotToBeUsedForJobs, SEsUsedForArchive in the Operations/DataManagement and use them in the corresponding helper functions</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id157">
<h2>Resources</h2>
<div class="section" id="id158">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>HTCondorCEComputingElement - check that some path was found in findFile(), return with error otherwise</li>
<li>ARCComputingElement - ensure that pilot jobs that are queued also get their proxies renewed on ARC-CE</li>
</ul>
</blockquote>
</div>
<div class="section" id="id159">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>ARCComputingElement - consider jobs in Hold state as Failed as they never come back</li>
<li>ARCComputingElement - do not use JobSupervisor tool for bulk job cancellation as it does not seem to work, cancel jobs one by one</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id160">
<h2>WMS</h2>
<div class="section" id="id161">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SiteDirector - ensure that a proxy of at least 3 hours is available to the updatePilotStatus function so that if it renews any proxies, it's not renewing them with a very short proxy</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r15p13">
<h1>Version v6r15p13</h1>
<div class="section" id="id162">
<h2>Resources</h2>
<div class="section" id="id163">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>HTCondorCEComputingElement - fixed location of log/output files</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id164">
<h2>TS</h2>
<div class="section" id="id165">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ValidateOutputDataAgent - works now with the DataManager shifter proxy</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r15p12">
<h1>Version v6r15p12</h1>
<div class="section" id="id166">
<h2>Core</h2>
<div class="section" id="id167">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Graphs - make sure matplotlib package is always using Agg backend</li>
<li>cshrc - added protection for cases with undefined environment variables</li>
</ul>
</blockquote>
</div>
<div class="section" id="id168">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>AuthManager - added possibility to define authorization rules by VO and by user group</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id169">
<h2>Configuration</h2>
<div class="section" id="id170">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Resources, ComputingElement(Factory) - added possibility to define site-wide CE parameters; added possibility to define common parameters for a given CE type.</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id171">
<h2>Framework</h2>
<div class="section" id="id172">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SystemAdministrator service - avoid using its own client to connect to itself for storing host information</li>
<li>SystemAdministratorClientCLI, dirac-populate-component-db - fix insertion of wrongly configured component to the ComponentMonitorDB</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id173">
<h2>DMS</h2>
<div class="section" id="id174">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FileCatalog service - fix the argument type for getAncestor(), getDescendents()</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id175">
<h2>WMS</h2>
<div class="section" id="id176">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>JobCleaningAgent - add an option (disabled by default) to remove Jobs from the dirac server irrespective of their state</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id177">
<h2>Resources</h2>
<div class="section" id="id178">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>HTCondorCE - added new configurable options - ExtraSubmitString, WorkingDirectory DaysToKeepLogs</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r15p11">
<h1>Version v6r15p11</h1>
<div class="section" id="id179">
<h2>Framework</h2>
<div class="section" id="id180">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>ProxyManagerClient - reduce the proxy caching time to be more suitable for cases with short VOMS extensions</li>
</ul>
</blockquote>
</div>
<div class="section" id="id181">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>dirac-proxy-destroy command to destroy proxy locally and in the ProxyManager service</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id182">
<h2>Configuration</h2>
<div class="section" id="id183">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>VOMS2CSAgent - fixed typo bug in execute()</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id184">
<h2>RMS</h2>
<div class="section" id="id185">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RequestTask - fix if the problem when the processing of an operation times out, there was no increment of the attempts done.</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id186">
<h2>DMS</h2>
<div class="section" id="id187">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FTSAgent - avoid FTS to fetch a request that was canceled</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id188">
<h2>Resources</h2>
<div class="section" id="id189">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>HTCondorCE - protect against non-standard line in 'job status' list in the getJobStatus()</li>
</ul>
</blockquote>
</div>
<div class="section" id="id190">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>ComputingElement - reduce the default time length of the payload proxy to accomodate the case with short VOMS extensions</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r15p10">
<h1>Version v6r15p10</h1>
<div class="section" id="id191">
<h2>Core</h2>
<div class="section" id="id192">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>MySQL - do not print database access password explicitly in the logs</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id193">
<h2>Configuration</h2>
<div class="section" id="id194">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>VOMS2CSAgent - show in the log if there are changes ready to be committed</li>
<li>Bdii2CSAgent - get information from alternative BDII's for sites not existing in central BDII</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id195">
<h2>Framework</h2>
<div class="section" id="id196">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ComponentInstaller - fixed location of stop_agent file in the content of t file of the runsv tool</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id197">
<h2>RMS</h2>
<div class="section" id="id198">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Changed default port of ReqProxy service to 9161 from 9198</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id199">
<h2>Resources</h2>
<div class="section" id="id200">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>BatchSystem/Condor, HYCondroCEComputingElement - more resilient parsing of the status lookup command</li>
<li>CREAMComputingElement - in case of glite-ce-job-submit error print our both std.err and std.out for completeness and better understanding</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id201">
<h2>DMS</h2>
<div class="section" id="id202">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FileCatalogClient - bug fix in getDirectoryUserMetadata()</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id203">
<h2>Interfaces</h2>
<div class="section" id="id204">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Dirac - in replicateFile() in case of copying via the local cache check if there is another copy for the same file name is happening at the same time</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r15p9">
<h1>Version v6r15p9</h1>
<div class="section" id="id205">
<h2>Configuration</h2>
<div class="section" id="id206">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>fixed CS agents initialization bug</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id207">
<h2>DMS</h2>
<div class="section" id="id208">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>fixed inconsistency between DataIntegrity and ConsistencyInspector modules</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id209">
<h2>Interfaces</h2>
<div class="section" id="id210">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Fix download of LFNs in InputSandbox when running job locally</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r15p8">
<h1>Version v6r15p8</h1>
<div class="section" id="id211">
<h2>Configuration</h2>
<div class="section" id="id212">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Added DryRun option for CS agents (false by default, True for new installations)</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r15p7">
<h1>Version v6r15p7</h1>
<div class="section" id="id213">
<h2>Core</h2>
<div class="section" id="id214">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Enabled attachments in the emails</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r15p6">
<h1>Version v6r15p6</h1>
<div class="section" id="id215">
<h2>Resources</h2>
<div class="section" id="id216">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FCConditionParser: ProxyPlugin handles the case of having no proxy</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id217">
<h2>WMS</h2>
<div class="section" id="id218">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>MJF messages correctly parsed from the pilot</li>
</ul>
</blockquote>
</div>
<div class="section" id="id219">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Added integration test for TimeLeft utility and script calling it</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r15p5">
<h1>Version v6r15p5</h1>
<p>Included fixes from v6r14p36 patch release</p>
<div class="section" id="id220">
<h2>Framework</h2>
<div class="section" id="id221">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>added GOCDB2CSAgent in template</li>
<li>Fixed permissions for HostLogging</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id222">
<h2>DMS</h2>
<div class="section" id="id223">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Introduced hopefully temporary fix to circumvent globus bug in gfal2</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id224">
<h2>WMS:</h2>
<div class="section" id="id225">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>added test for MJF and made code more robust</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id226">
<h2>RSS</h2>
<div class="section" id="id227">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>HTML notification Emails</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r15p4">
<h1>Version v6r15p4</h1>
<p>Included fixes from v6r14p35 patch release</p>
<div class="section" id="id228">
<h2>Core</h2>
<div class="section" id="id229">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Added a new way of doing pfnparse and pfnunparse using the standard python library. The two methods now contains a flag to know which method to use. By default, the old hand made one is used. The new one works perfectly for all standard protocols, except SRM</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id230">
<h2>RSS</h2>
<div class="section" id="id231">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-rss-sync - command fixed to work with calling services rather than databases directly</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id232">
<h2>Resources</h2>
<div class="section" id="id233">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>In multiple Storage classes use pfnparse and pfnunparse methods to manipulate url strings instead of using just string operations</li>
</ul>
</blockquote>
</div>
<div class="section" id="id234">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>A new attribute is added to the storage plugins: DYNAMIC_OPTIONS. This allows to construct URLs with attributes going at the end of the URL, in the form ?key1=value1&amp;key2=value2 This is useful for xroot and http.</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r15p3">
<h1>Version v6r15p3</h1>
<p>Included changes from v6r14p34 patch release</p>
<div class="section" id="id235">
<h2>Accounting</h2>
<div class="section" id="id236">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>DataStoreClient - catch all exceptions in sending failover accounting requests as it could disrupt the logic of the caller</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id237">
<h2>DMS</h2>
<div class="section" id="id238">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-dms-replicate-and-register-request - prints out the new request IDs to allow their monitoring by ID rather than possibly ambiguous request name</li>
</ul>
</blockquote>
</div>
<div class="section" id="id239">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>dirac-dms-show-se-status - added switches to show SEs only accessible by a given VO and SEs not assigned to any VO</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r15p2">
<h1>Version v6r15p2</h1>
<div class="section" id="id240">
<h2>WMS</h2>
<div class="section" id="id241">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>pilotCommands - protect calls to external commands in case of empty or erroneous output</li>
<li>Matcher - fixed bug in the tag matching logic: if a site presented an empty Tag list instead of no Tag field at all, it was interpreted as site accepts all the tags</li>
<li>Matcher - matching parameters are printed out in the Matcher rather than in the TaskQueueDB, MaxRAM and Processors are not expanded into tags</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r15p1">
<h1>Version v6r15p1</h1>
<p>Included patches for v6r14p32</p>
<div class="section" id="id242">
<h2>Configuration</h2>
<div class="section" id="id243">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Resources helper - remove &quot;dips&quot; protocol from the default list of third party protocols</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id244">
<h2>Resources</h2>
<div class="section" id="id245">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>XROOTStorage - bug fixed in __createSingleDirectory() - proper interpretation of the xrootClient.mkdir return status</li>
<li>XROOTStorage unit test reenabled by mocking the xrootd import</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r15">
<h1>Version v6r15</h1>
<p>Removed general &quot;from DIRAC.Core.Utilities import <a href="#id246"><span class="problematic" id="id247">*</span></a>&quot; in the top-level __init__.py</p>
<div class="system-message" id="id246">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">&lt;string&gt;</tt>, line 1370); <em><a href="#id247">backlink</a></em></p>
Inline emphasis start-string without end-string.</div>
<p>Made service handlers systematically working with unicode string arguments</p>
<p>Added requirements.txt and Makefile in the root of the project to support pip style installation</p>
<p>DIRAC documentation moved to the &quot;docs&quot; directory if the DIRAC project from the</p>
<p>DIRACDocs separate project.</p>
<div class="section" id="id248">
<h2>Accounting</h2>
<div class="section" id="id249">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>INTEGER -&gt; BIGINT for &quot;id&quot; in &quot;in&quot; accountingDB tables</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id250">
<h2>Core</h2>
<div class="section" id="id251">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>BaseClient - only give warning log message &quot;URL banned&quot; when one of the service URLs is really banned</li>
<li>XXXTimeLeft - do not mix CPU and WallTime values</li>
<li>ComponentInstaller - longer timeout for checking components PID (after restart)</li>
</ul>
</blockquote>
</div>
<div class="section" id="id252">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>gMonitor instantiation removed from DIRAC.__init__.py to avoid problems in documentation generation</li>
<li>removed Core.Utilities.List.sortList (sorted does the job)</li>
<li>removed unused module Core.Utilities.TimeSeries</li>
<li>dirac-install - when generating bashrc and cshrc scripts prepend DIRAC paths to the ones existing in the environment already</li>
<li>DISET components - improved logic of service URL retries to speedup queries in case of problematic services</li>
<li>Proxy - in executeWithUserProxy() when multiple DNs are present, try all of them</li>
<li>List utility - change uniqueElements() to be much faster</li>
</ul>
</blockquote>
</div>
<div class="section" id="id253">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>The S_ERROR has an enhanced structure containing also the error code and the call stack from where the structure was created</li>
<li>DErrno module to contain definitions of the DIRAC error numbers and standard descriptions to be used from now on in any error code check</li>
<li>dirac-install - makes us of the DIRAC tar files in CVMFS if available</li>
<li>dirac-install-client - a guiding script to install the DIRAC client from A to Z</li>
<li>MJFTimeLeft - using Machine JOb features in the TimeLeft utility</li>
<li>dirac-rss-policy-manager - allows to interactively modify and test only the policy section of Dirac.cfg</li>
<li>Platform - added getPlatform() and getPlatformTuple() utilities to evaluate lazily the DIRAC platform only when it is needed, this accelerates DIRAC commands not needing the platform information.</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id254">
<h2>Configuration</h2>
<div class="section" id="id255">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>ConfigurationData - lazy config data compression in getCompressedData()</li>
</ul>
</blockquote>
</div>
<div class="section" id="id256">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>GOCDB2CSAgent agent to synchronize GOCDB and CS data about perfSONAR services</li>
<li>VOMS2CSAgent to synchronize VOMS user data with the DIRAC Registry</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id257">
<h2>Framework</h2>
<div class="section" id="id258">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SystemLoggingDB - fixed double creation of db tables</li>
</ul>
</blockquote>
</div>
<div class="section" id="id259">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>SystemAdministratorIntegrator - make initial pinging of the hosts in parallel to speed up the operation</li>
<li>InstalledComponentsDB - table to cache host status information populated by a periodic task</li>
</ul>
</blockquote>
</div>
<div class="section" id="id260">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>ComponentInstaller Client class to encapsulate all the installation utilities from InstallTools module</li>
<li>SystemAdministratorClientCLI - added uninstall host command</li>
<li>SystemAdministratorClientCLI - added show ports command</li>
<li>SystemAdministratorHandler - added getUsedPorts() interface</li>
<li>SystemAdministratorHandler - show host command shows also versions of the Extensions</li>
<li>InstalledComponentsDB - added Extension field to the HostLogging table</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id261">
<h2>Accounting</h2>
<div class="section" id="id262">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>DataStoreClient - Synchronizer based decorators have been replaced with a simple lock as they were blocking addRegister() during every commit();</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id263">
<h2>RSS</h2>
<div class="section" id="id264">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Ported setStatus and setToken rpc calls to PublisherHandler from LHCb implementation</li>
</ul>
</blockquote>
</div>
<div class="section" id="id265">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>CE Availability policy, closing #2373</li>
<li>E-mails generated while RSS actions are now aggregated to avoid avalanches of mails</li>
<li>dirac-rss-sync is also synchronizing Sites now</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id266">
<h2>DMS</h2>
<div class="section" id="id267">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>FileCatalogClient - make explicit methods for all service calls</li>
<li>DataManager, StorageElement - move physical accounting the StorageElement</li>
<li>FileCatalog - added recursive changePathXXX operations</li>
<li>FileCatalog contained objects have Master attribute defined in the CS. Extra check of eligibility of the catalogs specified explicitely. No-LFN write methods return just the Master result to be compatible with the current use in the clients.</li>
<li>Removed LcgFileCatalogXXX obsoleted classes</li>
<li>FileCatalog(Client) - refactored to allow clients declare which interface they implement</li>
</ul>
</blockquote>
</div>
<div class="section" id="id268">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>ConsistencyInspector class to perform data consistency checks between different databases</li>
<li>FileCatalog - conditional FileCatalog instantiation based on the configured Operations criteria</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id269">
<h2>TS</h2>
<div class="section" id="id270">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TaskManager - fix bug in case there is no InputData for a task, the Request created for the previous task was reassigned</li>
</ul>
</blockquote>
</div>
<div class="section" id="id271">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>TransformationDB table TaskInputs: InputVector column from BLOB to MEDIUMTEXT</li>
</ul>
</blockquote>
</div>
<div class="section" id="id272">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>TaskManager - possibility to submit one bulk job for a series of tasks</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id273">
<h2>WMS</h2>
<div class="section" id="id274">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>JobWrapper - the InputData optimizer parameters are now DEncoded</li>
<li>SiteDirector - using PilotRunDirectory as WorkingDirectory, if available at the CE level in the CS. Featire requested in issue #2746</li>
</ul>
</blockquote>
</div>
<div class="section" id="id275">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>JobAgent - add Processors and WholeNode tags to the resources description</li>
<li>SiteDirector - flag to always download pilot output is set to False by default</li>
<li>JobMemory utility renamed to JobParameters</li>
<li>CheckWNCapabilities pilot command changed to get WN parameters from the Machine Job Features (MJF) - NumberOfProcessors, MaxRAM</li>
</ul>
</blockquote>
</div>
<div class="section" id="id276">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>TaskQueueDB - possibility to present requirements in a form of tags from the site( pilot ) to the jobs to select ones with required properties</li>
<li>MultiProcessorSiteDirector - new director to experiment with the multiprocessor/ wholeNode queues</li>
<li>JobManager, ParametricJob - utilities and support for parametric jobs with multiple parameter sequences</li>
<li>SiteDirector - added logic to send pilots to sites with no waiting pilots even if the number of already sent pilots exceeds the number of waiting jobs. The functionality is switched on/off by the AddPilotsToEmptySites option.</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id277">
<h2>RMS</h2>
<div class="section" id="id278">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Request - fix for the case when one of the request is malformed, the rest of the requests could not be swiped</li>
<li>ReqProxyHandler - don't block the ReqProxy sweeping if one of the request is buggy</li>
</ul>
</blockquote>
</div>
<div class="section" id="id279">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>ReqProxyHandler - added monitoring counters</li>
</ul>
</blockquote>
</div>
<div class="section" id="id280">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>ReqProxyHandler - added interface methods to list and show requests in a ReqProxy</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id281">
<h2>Resources</h2>
<div class="section" id="id282">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SRM2Storage - do not add accounting to the output structure as it is done in the container StorageElement class</li>
</ul>
</blockquote>
</div>
<div class="section" id="id283">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Add standard metadata in the output of all the Storage plugins</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id284">
<h2>Interfaces</h2>
<div class="section" id="id285">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Job API - added setParameterSequence() to add an arbitrary number of parameter sequences for parametric jobs, generate the corresponding JDL</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="tests">
<h2>tests</h2>
<div class="section" id="id286">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>The contents of the TestDIRAC package is moved into the tests directory here</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r14p39">
<h1>Version v6r14p39</h1>
<p>Patch to include WebApp version v1r6p32</p>
</div>
<div class="section" id="version-v6r14p38">
<h1>Version v6r14p38</h1>
<div class="section" id="id287">
<h2>Core</h2>
<div class="section" id="id288">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Unhashable objects as DAG graph nodes</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id289">
<h2>RMS</h2>
<div class="section" id="id290">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Added possibility of constant delay for RMS operations</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r14p37">
<h1>Version v6r14p37</h1>
<div class="section" id="id291">
<h2>Core</h2>
<div class="section" id="id292">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Added soft implementation of a Direct Acyclic Graph</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id293">
<h2>Configuration</h2>
<div class="section" id="id294">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Bdii2CSAgent finds all CEs of a site (was finding only one)</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id295">
<h2>Resources</h2>
<div class="section" id="id296">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Make sure transferClient connects to the same ProxyStorage instance</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r14p36">
<h1>Version v6r14p36</h1>
<div class="section" id="id297">
<h2>Core</h2>
<div class="section" id="id298">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Sending mails to multiple recipients was not working</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id299">
<h2>WMS</h2>
<div class="section" id="id300">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Allow staging from SEs accessible by protocol</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r14p35">
<h1>Version v6r14p35</h1>
<div class="section" id="id301">
<h2>Core</h2>
<div class="section" id="id302">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SOAPFactory - fixes for import statements of suds module to work with the suds-jurko package that replaces the suds package</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id303">
<h2>Resources</h2>
<div class="section" id="id304">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>BatchSystems.Torque - take into account that in some cases jobID includes a host name that should be stripped off</li>
<li>SSHComputingElement - in _getJobOutputFiles() fixed bug where the output of scpCall() call was wrongly interpreted</li>
<li>ProxyStorage - evaluate the service url as simple /DataManagement/StorageElementProxy to solve the problem with redundant StorageElementProxy services with multiple possible urls</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id305">
<h2>RSS</h2>
<div class="section" id="id306">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Configurations.py - Added DTScheduled3 policy (3 hours before downtime)</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id307">
<h2>WMS</h2>
<div class="section" id="id308">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>pilotCommands - take into account that in the case of Torque batch system jobID includes a host name that should be stripped off</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r14p34">
<h1>Version v6r14p34</h1>
<div class="section" id="id309">
<h2>Configuration</h2>
<div class="section" id="id310">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Bdii2CSAgent - reinitilize the BDII info cache at each cycle in order not to carry on obsoleted stuff. Fixes #2959</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id311">
<h2>Resources</h2>
<div class="section" id="id312">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Slurm.py - use --partition rather --cluster for passing the DIRAC queue name</li>
<li>DIPStorage - fixed bug in putFile preventing third party-like transfer from another DIPS Storage Element. Fixes #2413</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id313">
<h2>WMS</h2>
<div class="section" id="id314">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>pilotCommands - interpret SLURM_JOBID environment if present</li>
<li>WMSClient - strip of comments in the job JDL before any processing. Passing jdl with comments to the WMS could provoke errors in the job checking.</li>
</ul>
</blockquote>
</div>
<div class="section" id="id315">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>JobWrapper - added BOINC user ID to the job parameters</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r14p33">
<h1>Version v6r14p33</h1>
<div class="section" id="id316">
<h2>WMS</h2>
<div class="section" id="id317">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>JobAgent - included a mechanism to stop JobAgent if the host operator creates /var/lib/dirac_drain</li>
<li>CPUNormalization - fixed a typo in getPowerFromMJF() in the name of the exception log message</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r14p32">
<h1>Version v6r14p32</h1>
<div class="section" id="id318">
<h2>Core</h2>
<div class="section" id="id319">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>InstallTools - getStartupComponentStatus() uses &quot;ps -p &lt;pid&gt;&quot; variant of the system call to be independent of the OS differences</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id320">
<h2>DMS</h2>
<div class="section" id="id321">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RemoveReplica - bulkRemoval() was modifying its input dict argument and returning it, which was useless, only modify argument</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id322">
<h2>WMS</h2>
<div class="section" id="id323">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>CPUNormalization - get HS'06 worker node value from JOBFEATURES if available</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id324">
<h2>RMS</h2>
<div class="section" id="id325">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ReqClient - bug fixed preventing the client to contact multiple instances of ReqManager service</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r14p31">
<h1>Version v6r14p31</h1>
<div class="section" id="id326">
<h2>DMS</h2>
<div class="section" id="id327">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FTSAgent - if a file was not Scheduled, the FTSAgent was setting it Done even if it had not been replicated.</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id328">
<h2>Workflow</h2>
<div class="section" id="id329">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FailoverRequest - forcing setting the input file Unused if it was already set Processed</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r14p30">
<h1>Version v6r14p30</h1>
<div class="section" id="id330">
<h2>Framework</h2>
<div class="section" id="id331">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>MonitoringHandler - in deleteActivities() use retVal['Message'] if result is not OK</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id332">
<h2>Resources</h2>
<div class="section" id="id333">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>XROOTStorage - in getFile() evaluate file URL without URL parameters in __putSingleFile() use result['Message'] in case of error</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id334">
<h2>RMS</h2>
<div class="section" id="id335">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-rms-cancel-request - fixed crash because of gLogger object was not imported</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id336">
<h2>TS</h2>
<div class="section" id="id337">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationCLI - in resetProcessedFile() added check that the Failed dictionary is present in the result of a call</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r14p29">
<h1>Version v6r14p29</h1>
<div class="section" id="id338">
<h2>Core</h2>
<div class="section" id="id339">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Time - skip the effect of timeThis decorator if not running interractively</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id340">
<h2>DMS</h2>
<div class="section" id="id341">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>DataManager - in getFile(), select preferentially local disk replicas, if none disk replicas, if none tape replicas</li>
<li>DataManager - avoid changing argument of public method checkActiveReplicas()</li>
<li>FTSAgent - wait 3 times longer for monitoring FTS jobs if Staging</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id342">
<h2>Accounting</h2>
<div class="section" id="id343">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Jobs per pilot plot is presented as Quality plot rather than a histogram</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id344">
<h2>WMS</h2>
<div class="section" id="id345">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>dirac-wms-cpu-normalization - reduce memory usage by using xrange() instead of range() in the large test loop</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r14p28">
<h1>Version v6r14p28</h1>
<div class="section" id="id346">
<h2>TS</h2>
<div class="section" id="id347">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TaskManager - protection against am empty task dictionary in prepareTransformationTasks()</li>
<li>Test_Client_TransformationSystem - fixes ti run in the Travis CI environment</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id348">
<h2>WMS</h2>
<div class="section" id="id349">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>JobMemory - use urllib instead of requests Python module as the latter can be unavailable in pilots.</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r14p27">
<h1>Version v6r14p27</h1>
<div class="section" id="id350">
<h2>Core</h2>
<div class="section" id="id351">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>PlainTransport,SocketInfoFactory - fix for the IPv6 &quot;Address family not supported by protocol&quot; problems</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id352">
<h2>Interfaces</h2>
<div class="section" id="id353">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Dirac.py - in ping()/pingService() allow to ping a specific URL</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id354">
<h2>Resources</h2>
<div class="section" id="id355">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>LcgFileCatalogClient - convert LFN into str in __fullLfn to allow LFNs in a unicode encoding</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id356">
<h2>WMS</h2>
<div class="section" id="id357">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>JobWrapper - set the job minor status to 'Failover Request Failed' if the failover request fails sending</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id358">
<h2>TS</h2>
<div class="section" id="id359">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationDB - in getTransformationTasks(),getTaskInputVector forward error result to the callers</li>
<li>TaskManager - in case there is no InputData for a task, the Request created for the previous task was reassigned. This fixes this bug.</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id360">
<h2>tests</h2>
<div class="section" id="id361">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>several fixes to satisfy on-the-fly unit tests with teh Travis CI service</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r14p26">
<h1>Version v6r14p26</h1>
<p>NEW: Enabled on-the-fly tests using the Travis-CI service</p>
<div class="section" id="id362">
<h2>Core</h2>
<div class="section" id="id363">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Subprocess - fix two potential infinite loops which can result in indefinite output buffer overflow</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id364">
<h2>WMS</h2>
<div class="section" id="id365">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>JobScheduling executor - check properly if staging is allowed, it was always True before</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r14p25">
<h1>Version v6r14p25</h1>
<div class="section" id="id366">
<h2>Core</h2>
<div class="section" id="id367">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Subprocess - more detailed error log message in case ov output buffer overflow</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id368">
<h2>DMS</h2>
<div class="section" id="id369">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>DataManager - fix for getActiveReplicas(): first check Active replicas before selecting disk SEs</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id370">
<h2>Resources</h2>
<div class="section" id="id371">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>StorageElementCache - fixes to make this class thread safe</li>
<li>StorageFactory - fix in getConfigStorageProtocols() to properly get options for inheriting SE definitions</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r14p24">
<h1>Version v6r14p24</h1>
<div class="section" id="id372">
<h2>Accounting</h2>
<div class="section" id="id373">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Plots, JobPlotter - fix sorting by plot labels in case the enddata != &quot;now&quot;</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id374">
<h2>DMS</h2>
<div class="section" id="id375">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-dms-user-lfns - add error message when proxy is expired</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r14p23">
<h1>Version v6r14p23</h1>
<div class="section" id="id376">
<h2>Interfaces</h2>
<div class="section" id="id377">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Job.py - setCPUTime() method sets both CPUTime and MaxCPUTime JDL parameters for backward compatibility. Otherwise this setting was ignored by scheduling</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id378">
<h2>TS</h2>
<div class="section" id="id379">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TaskManager - bug fixed in submitTransformationTasks in getting the TransformationID</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r14p22">
<h1>Version v6r14p22</h1>
<p>CHANGE: Multiple commands - permissions bits changed from 644 to 755</p>
<div class="section" id="id380">
<h2>Framework</h2>
<div class="section" id="id381">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>UserProfileDB - in case of desktop name belonging to two different users we have to use both desktop name and user id to identify the desktop</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id382">
<h2>WMS</h2>
<div class="section" id="id383">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>JobWrapperTemplate - bug fixed in evaluation of the job arguments</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id384">
<h2>TMS</h2>
<div class="section" id="id385">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>TaskManager - added TransformationID to the log messages</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r14p21">
<h1>Version v6r14p21</h1>
<div class="section" id="id386">
<h2>DMS</h2>
<div class="section" id="id387">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>dirac-admin-allow(ban)-se - allow an SE group to be banned/allowed</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id388">
<h2>SMS</h2>
<div class="section" id="id389">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RequestPreparationAgent - fix crash in execute() in case no replica information available</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id390">
<h2>WMS</h2>
<div class="section" id="id391">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TaskQueueDB, PilotAgentsDB - escape DN strings to avoid potential SQL injection</li>
<li>JobWrapperTemplate - pass JobArguments through a json file to fix the case of having apostrophes in the values</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id392">
<h2>TMS</h2>
<div class="section" id="id393">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationAgent - in processTransformation() fix reduction of number of files</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r14p20">
<h1>Version v6r14p20</h1>
<div class="section" id="id394">
<h2>WMS</h2>
<div class="section" id="id395">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SandboxMetadataDB - escape values in SandboxMetadataDB SQL queries to accommodate DNs containing apostrophe</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r14p19">
<h1>Version v6r14p19</h1>
<div class="section" id="id396">
<h2>Core</h2>
<div class="section" id="id397">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Network - fix crash when path is empty string, fixes partly #2413</li>
</ul>
</blockquote>
</div>
<div class="section" id="id398">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>CLI base class for all the DIRAC CLI consoles, common methods moved to the new class, XXXCLI classes updated to inherit the base class</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id399">
<h2>Configuration</h2>
<div class="section" id="id400">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Utilities.addToChangeSet() - fix the case when comma is in the BDII Site description followed by a white space, the description string was constantly updated in the CS</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id401">
<h2>Interfaces</h2>
<div class="section" id="id402">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Dirac.py - in retrieveRepositorySandboxes/Data - &quot;Retrieved&quot; and &quot;OutputData&quot; key values are strings '0' in the jobDict when a repository file is read, need to cast it to int</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id403">
<h2>DMS</h2>
<div class="section" id="id404">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RegisterReplica - if operation fails on a file that no longer exists and has no replica at that SE, consider the operation as Done.</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id405">
<h2>Resources</h2>
<div class="section" id="id406">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ARCComputingElement - bug fix in getJobOutput in using the S_ERROR()</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r14p18">
<h1>Version v6r14p18</h1>
<div class="section" id="id407">
<h2>Core</h2>
<div class="section" id="id408">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>VOMSService - attGetUserNickname() can only return string type values</li>
<li>dirac-deploy-scripts - install DIRAC scripts first so that they can be overwritten by versions from extensions</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id409">
<h2>Framework</h2>
<div class="section" id="id410">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-populate-component-db - bug fixed to avoid duplicate entries in the database</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id411">
<h2>TS</h2>
<div class="section" id="id412">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TaskManager - do not use ReqProxy when submitting Request for Tasks, otherwise no RequestID can be obtained</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id413">
<h2>Interfaces</h2>
<div class="section" id="id414">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Dirac.py - increase verbosity of a error log message in selectJobs</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id415">
<h2>Resources</h2>
<div class="section" id="id416">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>XROOTStorage - fixed KeyError exception while checking file existence</li>
<li>ARCComputingElement - in getJobOutput test for existence of an already downloaded pilot log</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r14p17">
<h1>Version v6r14p17</h1>
<div class="section" id="id417">
<h2>Core</h2>
<div class="section" id="id418">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Service.py - use the service name as defined in the corresponding section in the CS and not the name defined in service Module option. This fixes the problem with the StorageElement service not interpreting properly the PFN name and using a wrong local data path.</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id419">
<h2>Resources</h2>
<div class="section" id="id420">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>ARCComputingElement - if the VO is not discoverable from the environment, use ARC API call in the getCEStatus, use ldapsearch otherwise</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r14p16">
<h1>Version v6r14p16</h1>
<div class="section" id="id421">
<h2>Resources</h2>
<div class="section" id="id422">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>ARC Computing Element automatically renew proxies of jobs when needed</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r14p15">
<h1>Version v6r14p15</h1>
<div class="section" id="id423">
<h2>Core</h2>
<div class="section" id="id424">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>VOMS.py - Fixed bug that generates proxies which are a mix between legacy and rfc proxies.</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id425">
<h2>DMS</h2>
<div class="section" id="id426">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Allow selecting disk replicas in getActiveReplicas() and getReplicas()</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id427">
<h2>WMS</h2>
<div class="section" id="id428">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Use the preferDisk option in the InputData optimizer, the TransformationAgent and in the Interface splitter</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r14p14">
<h1>Version v6r14p14</h1>
<div class="section" id="id429">
<h2>Core</h2>
<div class="section" id="id430">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>VOMS.py - return RFC proxy if necessary after adding the VOMS extension</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id431">
<h2>Configuration</h2>
<div class="section" id="id432">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Validate maxCPUTime and Site description value</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id433">
<h2>Resources</h2>
<div class="section" id="id434">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>XROOTStorage - changes to allow third party transfers between XROOT storages</li>
</ul>
</blockquote>
</div>
<div class="section" id="id435">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>HTCondorCEComputingElement - the Condor logging can now be obtained in the webinterface; SIGTERM (instead of SIGKILL) is send to the application in case jobs are killed by the host site; when pilots are put in held status we kill them in condor and mark them as aborted.</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id436">
<h2>WMS</h2>
<div class="section" id="id437">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>pilotCommands - fixes for intrepreting tags in the pilot</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r14p13">
<h1>Version v6r14p13</h1>
<div class="section" id="id438">
<h2>WMS</h2>
<div class="section" id="id439">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>pilot commands CheckCECapabilities and CheckWNCapabilities were not considering the case of missing proxy</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r14p12">
<h1>Version v6r14p12</h1>
<div class="section" id="id440">
<h2>Core</h2>
<div class="section" id="id441">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>allow a renormalization of the estimated CPU power</li>
<li>dirac-install: Make hashlib optional again (for previous versions of python, since the pilot may end up on old machines)</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id442">
<h2>Framework</h2>
<div class="section" id="id443">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>allow to install agents with non-standard names (different from the module name)</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id444">
<h2>DMS</h2>
<div class="section" id="id445">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Consider files to reschedule and submit when they are Failed in FTS</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id446">
<h2>WMS</h2>
<div class="section" id="id447">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Move getCEStatus function back to using the ARC API</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r14p11">
<h1>Version v6r14p11</h1>
<div class="section" id="id448">
<h2>Core</h2>
<div class="section" id="id449">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>XXXTimeLeft - set limit to CPU lower than wall clock if unknown</li>
<li>Logger - fix exception printing in gLogger.exception()</li>
</ul>
</blockquote>
</div>
<div class="section" id="id450">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>InstallTools - added more info about the process in getStartupComponentStatus()</li>
<li>Time - better report from timeThis() decorator</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id451">
<h2>DMS</h2>
<div class="section" id="id452">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>FTSAgent - wait some time between 2 monitorings of each job</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id453">
<h2>WMS</h2>
<div class="section" id="id454">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>pilotCommands - added CheckCECapabilities, CheckWNCapabilities commands</li>
<li>Added dirac-wms-get-wn-parameters command</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id455">
<h2>TS</h2>
<div class="section" id="id456">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationAgent(Plugin) - clean getNextSite() and normalizeShares()</li>
<li>TransformationPlugin - added setParameters() method</li>
</ul>
</blockquote>
</div>
<div class="section" id="id457">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Added dirac-production-runjoblocal command</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id458">
<h2>RSS</h2>
<div class="section" id="id459">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-rss-sync - move imports to after the Script.getPositionalArguments()</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id460">
<h2>Resources</h2>
<div class="section" id="id461">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Added dirac-resource-get-parameters command</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r14p10">
<h1>Version v6r14p10</h1>
<div class="section" id="id462">
<h2>Configuration</h2>
<div class="section" id="id463">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Resources - getQueue() is fixed to get properly Tag parameters</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id464">
<h2>Framework</h2>
<div class="section" id="id465">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SecurityFileLog - fix for zipping very large files</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id466">
<h2>Resources</h2>
<div class="section" id="id467">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>added dirac-resource-get-parameters command</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id468">
<h2>WMS</h2>
<div class="section" id="id469">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Matcher(Handler) - do not send error log message if No match found, fixed Matcher return value not correctly interpreted</li>
</ul>
</blockquote>
</div>
<div class="section" id="id470">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>SiteDirector does not pass Tags to the Pilot</li>
</ul>
</blockquote>
</div>
<div class="section" id="id471">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>JobMonitoringHandler - add getJobsParameters() method</li>
<li>pilotCommands - added CheckCECapabilities, CheckWNCapabilities</li>
<li>Added dirac-wms-get-wn-parameters command</li>
<li>Matcher - generate internal tags for MaxRAM and NumberOfProcessors parameters</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r14p9">
<h1>Version v6r14p9</h1>
<div class="section" id="id472">
<h2>Core</h2>
<div class="section" id="id473">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>BaseClient - enhance retry connection logic to minimize the overall delay</li>
<li>MessageBroker - fix of calling private __remove() method from outside of the class</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id474">
<h2>Framework</h2>
<div class="section" id="id475">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-(un)install-component - bug in importing InstallTools module</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id476">
<h2>WMS:</h2>
<div class="section" id="id477">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>JobWrapper - fix in getting the OutputPath defined in the job</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id478">
<h2>Resources</h2>
<div class="section" id="id479">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ARCComputingElement - add queue to the XRSL string</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r14p8">
<h1>Version v6r14p8</h1>
<div class="section" id="id480">
<h2>Core</h2>
<div class="section" id="id481">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>XXXTimeLeft - minor fixes plus added the corresponding Test case</li>
<li>ReturnValues - fixes in the doc strings to comply with the sphinx syntax</li>
<li>SocketInfoFactory - in __sockConnect() catch exception when creating a socket</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id482">
<h2>Interfaces</h2>
<div class="section" id="id483">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Job.py - fixes in the doc strings to comply with the sphinx syntax</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id484">
<h2>RSS</h2>
<div class="section" id="id485">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Configurations.py - new possible configuration options for Downtime Policies</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id486">
<h2>WMS</h2>
<div class="section" id="id487">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>StatesAccountingAgent - retry once and empty the local messages cache in case of failure to avoid large backlog of messages</li>
<li>SiteDirector - do not send SharedArea and ClientPlatform as pilot invocation arguments</li>
<li>Matcher - allow matching by hosts in multi-VO installations</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r14p7">
<h1>Version v6r14p7</h1>
<div class="section" id="id488">
<h2>Core</h2>
<div class="section" id="id489">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>XXXTimeLeft utilities revisited - all return real seconds, code refactoring - use consistently always the same CPU power</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id490">
<h2>WMS</h2>
<div class="section" id="id491">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>JobAgent - code refactoring for the timeLeft logic part</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id492">
<h2>Resources</h2>
<div class="section" id="id493">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ComputingElement - get rid of legacy getResourcesDict() call</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r14p6">
<h1>Version v6r14p6</h1>
<div class="section" id="id494">
<h2>Configuration</h2>
<div class="section" id="id495">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Bdii2CSAgent - refresh configuration from Master before updating</li>
<li>Bdii2CSAgent - distinguish the CE and the Cluster in the Glue 1.0 schema</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id496">
<h2>DMS</h2>
<div class="section" id="id497">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>FTSAgent - make the amount of scheduled requests fetched by the FTSAgent a parameter in the CS</li>
<li>RMS Operations - check whether the always banned policy is applied for SEs to a given access type</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id498">
<h2>RMS</h2>
<div class="section" id="id499">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RequestClient(DB,Manager) - fix bulk requests, lock the lines when selecting the requests to be assigned, update the LastUpdate time, and expose the assigned flag to the client</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id500">
<h2>WMS</h2>
<div class="section" id="id501">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>JobAgent - when the application finishes with errors but the agent continues to take jobs, the timeLeft was not evaluated</li>
<li>JobAgent - the initial timeLeft value was always set to 0.0</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r14p5">
<h1>Version v6r14p5</h1>
<div class="section" id="id502">
<h2>Core</h2>
<div class="section" id="id503">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>X509Certificate - protect from VOMS attributes that are not decodable</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id504">
<h2>Resources</h2>
<div class="section" id="id505">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>GFAL2_StorageBase - fixed indentation and a debug log typo</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id506">
<h2>WMS</h2>
<div class="section" id="id507">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Matcher - only the first job was associated with the given pilot</li>
<li>pilotTools - 0o22 is only a valid int for recent python interpreters, replaced by 18</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r14p4">
<h1>Version v6r14p4</h1>
<div class="section" id="id508">
<h2>Core</h2>
<div class="section" id="id509">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>DictCache - fix the exception in the destructor preventing the final cache cleaning</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id510">
<h2>Framework</h2>
<div class="section" id="id511">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SystemAdministratorClientCLI - corrected info line inviting to update the pilot version after the software update</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id512">
<h2>DMS</h2>
<div class="section" id="id513">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FTSAgent - Add recovery of FTS files that can be left in weird statuses when the agent dies</li>
</ul>
</blockquote>
</div>
<div class="section" id="id514">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>DataManager - allow to not get URLs of the replicas</li>
<li>FTSJob - keep and reuse the FTS3 Context object</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="storage">
<h2>Storage</h2>
<div class="section" id="id515">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>StorageManagerClient - don't fail getting metadata for staging if at least one staged replica found</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id516">
<h2>WMS</h2>
<div class="section" id="id517">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>CPUNormalization - protect MJF from 0 logical cores</li>
<li>JobScheduling - fix printout that was saying &quot;single site&quot; and &quot;multiple sites&quot; in two consecutive lines</li>
<li>WatchDog - added checks of function return status, added hmsCPU initialization to 0, removed extra printout</li>
</ul>
</blockquote>
</div>
<div class="section" id="id518">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>pilotTools,Commands - added CEType argument, e.g. to specify Pool CE usage</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id519">
<h2>Resources</h2>
<div class="section" id="id520">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>GFAL2 plugins - multiple bug fixes</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r14p3">
<h1>Version v6r14p3</h1>
<div class="section" id="id521">
<h2>Core</h2>
<div class="section" id="id522">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>small bug fixed in dirac-install-component, dirac-uninstall-component</li>
<li>VOMS - remove the temporary file created when issuing getVOMSProxyInfo</li>
<li>FileHelper - support unicode file names</li>
<li>DictCache - purges all the entry of the DictCache when deleting the DictCache object</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id523">
<h2>Framework</h2>
<div class="section" id="id524">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-populate-component-db - avoid return statement out of scope</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id525">
<h2>Interfaces</h2>
<div class="section" id="id526">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Dirac - in submitJob() faulty use of os.open</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id527">
<h2>WMS</h2>
<div class="section" id="id528">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>JobWrapper - avoid evaluation of OutputData to ['']</li>
<li>Matcher - the Matcher object uses a VO dependent Operations helper</li>
<li>CPUNormalization - use correct denominator to get power in MJF</li>
</ul>
</blockquote>
</div>
<div class="section" id="id529">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>JobAgent - stop agent if time left is too small (default 1000 HS06.s)</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id530">
<h2>Resources</h2>
<div class="section" id="id531">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ARCComputingElement - changed implementation of ldap query for getCEStatus</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r14p2">
<h1>Version v6r14p2</h1>
<div class="section" id="id532">
<h2>Core</h2>
<div class="section" id="id533">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Use GSI version 0.6.3 by default</li>
</ul>
</blockquote>
</div>
<div class="section" id="id534">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Time - print out the caller information in the timed decorator</li>
<li>dirac-install - set up ARC_PLUGIN_PATH environment variable</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id535">
<h2>Framework</h2>
<div class="section" id="id536">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-proxy-info - use actimeleft VOMS attribute</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id537">
<h2>Accounting</h2>
<div class="section" id="id538">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Removed SRMSpaceTokenDeployment Accounting type</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id539">
<h2>RSS</h2>
<div class="section" id="id540">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>XXXCommand, XXXAction - use self.lof instead of gLogger</li>
</ul>
</blockquote>
</div>
<div class="section" id="id541">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>ResourceStatus - re-try few times to update the RSS SE cache before giving up</li>
<li>Added support for all protocols for SEs managed by RSS</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id542">
<h2>RMS</h2>
<div class="section" id="id543">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Request - produce enhanced digest string</li>
<li>RequestDB - fix in getDigest() in case of errors while getting request</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id544">
<h2>Resources</h2>
<div class="section" id="id545">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ARCComputingElement - multiple fixes after experience in production</li>
</ul>
</blockquote>
</div>
<div class="section" id="id546">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Propagate hideExceptions flag to the ObjectLoader when creating StorageElements</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id547">
<h2>WMS</h2>
<div class="section" id="id548">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Pilot commands - fixed an important bug, when using the dirac-wms-cpu-normalization script</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r14p1">
<h1>Version v6r14p1</h1>
<p>The version is buggy when used in pilots</p>
<div class="section" id="id549">
<h2>Core</h2>
<div class="section" id="id550">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>dirac-install-component command replacing dirac-install-agent/service/executor commands</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id551">
<h2>Resources</h2>
<div class="section" id="id552">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ARCComputingElement - evaluate as int the job exit code</li>
</ul>
</blockquote>
</div>
<div class="section" id="id553">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>FileStorage - plugin for &quot;file&quot; protocol</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id554">
<h2>RSS</h2>
<div class="section" id="id555">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>CSHelpers - several fixes and beautifications</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r14">
<h1>Version v6r14</h1>
<div class="section" id="id556">
<h2>Core</h2>
<div class="section" id="id557">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SocketInfo.py - check the CRL lists while handshaking Configuration</li>
</ul>
</blockquote>
</div>
<div class="section" id="id558">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>CSGlobals - includes Extensions class to consistently check the returned list of extensions with proper names</li>
<li>ProxyManagerXXX, ProxyGeneration, X509XXX - support for RFC proxies</li>
<li>ProxyInfo - VOMS proxy information without using voms commands</li>
<li>LocalConfiguration - option to print out license information</li>
<li>ConfigurationClient - added getSectionTree() method</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id559">
<h2>Framework</h2>
<div class="section" id="id560">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>InstalledComponentsDB will now store information about the user who did the installation/uninstallation of components.</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id561">
<h2>Resources</h2>
<div class="section" id="id562">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>ARCComputingElement based on the ARC python API</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id563">
<h2>RSS</h2>
<div class="section" id="id564">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Improved logging all over the place</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id565">
<h2>DMS</h2>
<div class="section" id="id566">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Moving several tests to TestDIRAC</li>
</ul>
</blockquote>
</div>
<div class="section" id="id567">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>New FileCatalog SecurityManager with access control based on policies, VOMSPolicy as one of the policy implementations.</li>
<li>lfc_dfc_db_copy - script used by LHCb to migrate from the LFC to the DFC with Foreign Keys and Stored Procedures by accessing the databases directly</li>
<li>FileManagerPs.py - added _getFileLFNs() to serve info for the Web Portal</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id568">
<h2>Interfaces</h2>
<div class="section" id="id569">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>use jobDescription.xml as a StringIO object to avoid multiple disk write operations while massive job submission</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id570">
<h2>WMS</h2>
<div class="section" id="id571">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Watchdog - review for style and pylint</li>
</ul>
</blockquote>
</div>
<div class="section" id="id572">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Review of the Matcher code, extracting Limiter and Matcher as standalone utilities</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="transformation">
<h2>Transformation</h2>
<div class="section" id="id573">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>New ported plugins from LHCb, added unit tests</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r13p21">
<h1>Version v6r13p21</h1>
<div class="section" id="id574">
<h2>TS</h2>
<div class="section" id="id575">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Registering TargetSE for Standard TransformationAgent plugin</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r13p20">
<h1>Version v6r13p20</h1>
<div class="section" id="id576">
<h2>DMS</h2>
<div class="section" id="id577">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>DMSHelpers - allow for more than one Site defined to be local per SE</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id578">
<h2>Resources</h2>
<div class="section" id="id579">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>XRootStorage - fix in getURLBase()</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r13p19">
<h1>Version v6r13p19</h1>
<p>FIX: changes incorporated from v6r12p53 patch</p>
</div>
<div class="section" id="version-v6r13p18">
<h1>Version v6r13p18</h1>
<div class="section" id="id580">
<h2>WMS</h2>
<div class="section" id="id581">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>JobWrapper - ported back from v6r14p9 the fix for getting OutputPath</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r13p17">
<h1>Version v6r13p17</h1>
<p>FIX: changes incorporated from v6r12p52 patch</p>
</div>
<div class="section" id="version-v6r13p16">
<h1>Version v6r13p16</h1>
<p>FIX: changes incorporated from v6r12p51 patch</p>
</div>
<div class="section" id="version-v6r13p15">
<h1>Version v6r13p15</h1>
<p>Included patches from v6r12p50 release</p>
</div>
<div class="section" id="version-v6r13p14">
<h1>Version v6r13p14</h1>
<div class="section" id="id582">
<h2>DMS</h2>
<div class="section" id="id583">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ReplicateAndRegister - fix a problem when a file is set Problematic in the FC but indeed doesn't exist at all</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id584">
<h2>Resources</h2>
<div class="section" id="id585">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>StorageFactory - enhance the logic of BaseSE inheritance in the SE definition in the CS</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id586">
<h2>WMS</h2>
<div class="section" id="id587">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SiteDirector - create pilot working directory in the batch system working directory and not in &quot;/tmp&quot;</li>
</ul>
</blockquote>
</div>
<div class="section" id="id588">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>CPUNormalization, dirac-wms-cpu-normalization - reading CPU power from MJF for comparison with the DIRAC evaluation</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r13p13">
<h1>Version v6r13p13</h1>
<div class="section" id="id589">
<h2>DMS</h2>
<div class="section" id="id590">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FileCatalogClient - bug fixed in getDirectoryMetadata()</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r13p12">
<h1>Version v6r13p12</h1>
<div class="section" id="id591">
<h2>Resources</h2>
<div class="section" id="id592">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>StorageElement - bug fixed in inValid()</li>
</ul>
</blockquote>
</div>
<div class="section" id="id593">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>StorageFactory - do not interpret VO parameter as mandatory</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r13p11">
<h1>Version v6r13p11</h1>
<div class="section" id="id594">
<h2>DMS</h2>
<div class="section" id="id595">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RemoveReplica - fix in singleRemoval()</li>
<li>dirac-dms-user-lfns - increased timeout</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r13p10">
<h1>Version v6r13p10</h1>
<p>CHANGE: Use sublogger to better identify log source in multiple places</p>
<div class="section" id="id596">
<h2>Core</h2>
<div class="section" id="id597">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>LSFTimeLeft - is setting shell variables, not environment variables, therefore added an &quot;export&quot; command to get the relevant variable and extract then the correct normalization</li>
</ul>
</blockquote>
</div>
<div class="section" id="id598">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Review / beautify code in TimeLeft and LSFTimeLeft</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id599">
<h2>Accounting</h2>
<div class="section" id="id600">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>DataOperationPlotter - add better names to the data operations</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id601">
<h2>DMS:</h2>
<div class="section" id="id602">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>DataManager - add mandatory vo parameter in __SEActive()</li>
<li>FileCatalog - typo in getDirectoryMetadata()</li>
<li>FileCatalog - pass directory name to getDirectoryMetadata and not file name</li>
<li>DataManager - in __SEActive() break LFN list in smaller chunks when getting replicas from a catalog</li>
</ul>
</blockquote>
</div>
<div class="section" id="id603">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>dirac-dms-replicate-and-register-request - submit multiple requests to avoid too many files in a single FTS request</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id604">
<h2>WMS</h2>
<div class="section" id="id605">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>WMSAdministratorHandler - fix in reporting pilot statistics</li>
<li>JobScheduling - fix in __getSitesRequired() when calling self.jobLog.info</li>
</ul>
</blockquote>
</div>
<div class="section" id="id606">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>pilotCommands - when exiting with error, print out current processes info</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r13p9">
<h1>Version v6r13p9</h1>
<div class="section" id="id607">
<h2>Framework</h2>
<div class="section" id="id608">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SystemLoggingDB - schema change for ClientIPs table to store IPv6 addresses</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id609">
<h2>DMS</h2>
<div class="section" id="id610">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>DMSRequestOperationsBase - bug fix in checkSEsRSS()</li>
<li>RemoveFile - in __call__(): bug fix; fix in the BannedSE treatment logic</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id611">
<h2>RMS</h2>
<div class="section" id="id612">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Operation - in catalogList()</li>
<li>ReqClient - in printOperation()</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id613">
<h2>Resources</h2>
<div class="section" id="id614">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>GFAL2_StorageBase - added Lost, Cached, Unavailable in getSingleFileMetadata() output</li>
<li>GFAL2_StorageBase - fixed URL construction in put(get)SingleFile() methods</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id615">
<h2>WMS</h2>
<div class="section" id="id616">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>InputDataByProtocol - removed StorageElement object caching</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r13p8">
<h1>Version v6r13p8</h1>
<div class="section" id="id617">
<h2>Framework</h2>
<div class="section" id="id618">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>MonitoringUtilities - minor bug fix</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id619">
<h2>DMS</h2>
<div class="section" id="id620">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>DataManager - remove local file when doing two hops transfer</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id621">
<h2>WMS</h2>
<div class="section" id="id622">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SandboxStoreClient - get the VO info from the delegatedGroup argument to use for the StorageElement instantiation</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id623">
<h2>TMS</h2>
<div class="section" id="id624">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Transformation(Client,DB,Manager) - multiple code clean-up without changing the logic</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r13p7">
<h1>Version v6r13p7</h1>
<div class="section" id="id625">
<h2>Core</h2>
<div class="section" id="id626">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>X509CRL - class to handle certificate revocation lists</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id627">
<h2>DMS</h2>
<div class="section" id="id628">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RequestOperations/RemoveFile.py - check target SEs to be online before performing the removal operation.</li>
<li>SecurityManager, VOMSPolicy - make the vomspolicy compatible with the old client by calling in case of need the old SecurityManager</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id629">
<h2>Resources</h2>
<div class="section" id="id630">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Torque, GE - methods must return Message field in case of non-zero return status</li>
<li>SRM2Storage - when used internaly, listDirectory should return urls and not lfns</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id631">
<h2>WMS</h2>
<div class="section" id="id632">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ConfigureCPURequirements pilot command - add queue CPU length to the extra local configuration</li>
<li>JobWrapper - load extra local configuration of any</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id633">
<h2>RMS</h2>
<div class="section" id="id634">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RequestDB - fix in getRequestSummaryWeb() to suit the Web Portal requirements</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id635">
<h2>Transformation</h2>
<div class="section" id="id636">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationManagerHandler - fix in getTransformationSummaryWeb() to suit the Web Portal requirements</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r13p6">
<h1>Version v6r13p6</h1>
<div class="section" id="id637">
<h2>Core</h2>
<div class="section" id="id638">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>X509Chain - use SHA1 signature encryption in all tha cases</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id639">
<h2>Resources</h2>
<div class="section" id="id640">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ComputingElement - take CPUTime from its configuration defined in the pilot parameters</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id641">
<h2>WMS</h2>
<div class="section" id="id642">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SiteDirector - correctly configure jobExecDir and httpProxy Queue parameters</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r13p5">
<h1>Version v6r13p5</h1>
<div class="section" id="id643">
<h2>Resources</h2>
<div class="section" id="id644">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Torque - getCEStatus() must return integer job numbers</li>
<li>StorageBase - removed checking the VO name inside the LFN</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id645">
<h2>WMS</h2>
<div class="section" id="id646">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>InputData, JobScheduling - StorageElement needs to know its VO</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id647">
<h2>DMS</h2>
<div class="section" id="id648">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ReplicateAndRegister - Add checksumType to RMS files when adding checksum value</li>
<li>DataManager - remove unnecessary access to RSS and use SE.getStatus()</li>
<li>DMHelpers - take into account Alias and BaseSE in site-SE relation</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id649">
<h2>RMS</h2>
<div class="section" id="id650">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Request - bug fixed in optimize() in File reassignment from one Operation to another</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id651">
<h2>Transformation</h2>
<div class="section" id="id652">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationDB - set derived transformation to Automatic</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r13p4">
<h1>Version v6r13p4</h1>
<div class="section" id="id653">
<h2>Core</h2>
<div class="section" id="id654">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>VOMSService - treat properly the case when the VOMS service returns no result in attGetUserNickname()</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id655">
<h2>DMS</h2>
<div class="section" id="id656">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FTSAgent, ReplicateAndRegister - make sure we use source replicas with correct checksum</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id657">
<h2>RMS</h2>
<div class="section" id="id658">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Request - minor fix in setting the Request properties, suppressing pylint warnings</li>
</ul>
</blockquote>
</div>
<div class="section" id="id659">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>File, Reques, Operation, RequestDB - remove the use of sqlalchemy on the client side</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id660">
<h2>Resources</h2>
<div class="section" id="id661">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>StorageElement - import FileCatalog class rather than the corresponding module</li>
<li>SLURM - proper formatting commands using %j, %T placeholders</li>
<li>SSHComputingElement - return full job references from getJobStatus()</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id662">
<h2>RSS</h2>
<div class="section" id="id663">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>DowntimeCommand - checking for downtimes including the time to start in hours</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id664">
<h2>Workflow</h2>
<div class="section" id="id665">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>FailoverRequest - assign to properties rather than using setters</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id666">
<h2>Transformation</h2>
<div class="section" id="id667">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationClient(DB,Utilities) - fixes to make derived transformations work</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r13p3">
<h1>Version v6r13p3</h1>
<div class="section" id="id668">
<h2>DMS</h2>
<div class="section" id="id669">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>DataManager - in putAndRegister() specify explicitly registration protocol to ensure the file URL available right after the transfer</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id670">
<h2>Resources</h2>
<div class="section" id="id671">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SRM2Storage - use the proper se.getStatus() interface ( not the one of the RSS )</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r13p2">
<h1>Version v6r13p2</h1>
<div class="section" id="id672">
<h2>Framework</h2>
<div class="section" id="id673">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SystemAdministratorHandler - install WebAppDIRAC extension only in case of Web Portal installation</li>
</ul>
</blockquote>
</div>
<div class="section" id="id674">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>dirac-populate-component-db - check the setup of the hosts to register into the DB only installations from the same setup; check the MySQL installation before retrieving the database information</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id675">
<h2>DMS</h2>
<div class="section" id="id676">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FTSAgent - fix in parsing the server result</li>
<li>FTSFile - added Waiting status</li>
<li>FTSJob - updated regexps for the &quot;missing source&quot; reports from the server; more logging message</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id677">
<h2>Resources</h2>
<div class="section" id="id678">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SRM2Storage - fix in treating the checksum type</li>
<li>StorageElement - removed getTransportURL from read methods</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id679">
<h2>RMS</h2>
<div class="section" id="id680">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Request - typo in the optimize() method</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r13p1">
<h1>Version v6r13p1</h1>
<div class="section" id="id681">
<h2>Framework</h2>
<div class="section" id="id682">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>SystemAdminstratorIntegrator - can take a list of hosts to exclude from contacting</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id683">
<h2>DMS</h2>
<div class="section" id="id684">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>DataManager - fix in __getFile() in resolving local SEs</li>
<li>dirac-dms-user-lfns - sort result, simplify logic</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id685">
<h2>RMS</h2>
<div class="section" id="id686">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Request - Use DMSHelper to resolve the Failovers SEs</li>
<li>Operation - treat the case where the SourceSE is None</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id687">
<h2>WMS</h2>
<div class="section" id="id688">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>WMSAdministratorHandler - return per DN dictionary from getPilotStatistics</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r13">
<h1>Version v6r13</h1>
<p>CHANGE: Separating fixed and variable parts of error log messages for multiple systems</p>
<blockquote>
to allow SystemLogging to work</blockquote>
<div class="section" id="id689">
<h2>Core</h2>
<div class="section" id="id690">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>MySQL.py - treat in detailed way datetime functions in __escapeString()</li>
<li>DictCache.get() returns now None instead of False if no or expired value</li>
<li>dirac-install, dirac-distribution - removed obsoleted defaults</li>
</ul>
</blockquote>
</div>
<div class="section" id="id691">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>BaseClient - retry service call on another instance in case of failure</li>
<li>InnerRPCClient - retry 3 times in case of exception in the transport layer</li>
<li>SocketInfo - retry 3 times in case of handshaking error</li>
<li>MySQL - possibility to specify charset in the table definition</li>
</ul>
</blockquote>
</div>
<div class="section" id="id692">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>InstallTools - allow to define environment variables to be added to the component runit run script</li>
<li>Changes to make the DISET protocol IP V6 ready</li>
<li>Proxy utility module with executeWithUserProxy decorator function</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id693">
<h2>Configuration</h2>
<div class="section" id="id694">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>CSAPI,dirac-admin-add-shifter - function, and script, for adding or modifying a shifter in the CS</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id695">
<h2>Framework</h2>
<div class="section" id="id696">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>NotificationDB - escape fields for sorting in getNotifications()</li>
</ul>
</blockquote>
</div>
<div class="section" id="id697">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Database, Service, Client, commands for tracking the installed DIRAC components</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id698">
<h2>Interfaces</h2>
<div class="section" id="id699">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Dirac - changed method names, keeping backward compatibility</li>
<li>multiple commands updated to use the new Dirac API method names</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id700">
<h2>DMS</h2>
<div class="section" id="id701">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>DataManager - define SEGroup as accessible at a site</li>
</ul>
</blockquote>
</div>
<div class="section" id="id702">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Removed the use of current DataLogging service</li>
<li>DataManager - changes to manage URLs inside StorageElement objects only</li>
<li>DirectoryListing - extracted from FileCatalogClientCLI as an independent utility</li>
<li>MetaQuery - extracted from FileCatalogClientCLI as an independent utility</li>
<li>FileCatalogClientCLI uses external DirectoryListing, MetaQuery utilities</li>
<li>FileCatalog - replace getDirectoryMetadata by getDirectoryUserMetadata</li>
</ul>
</blockquote>
</div>
<div class="section" id="id703">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Native use of the FTS3 services</li>
<li>FileCatalog - added new getDirectoryMetadata() interface to get standard directory metadata</li>
<li>FileCatalog - possibility to find files by standard metadata</li>
<li>FileCatalog - possibility to use wildcards in the metadata values for queries</li>
<li>DMSHelpers class</li>
<li>dirac-dms-find-lfns command</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id704">
<h2>WMS</h2>
<div class="section" id="id705">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>DownloadInputData - localFile was not defined properly</li>
<li>DownloadInputData - could not find cached files (missing [lfn])</li>
</ul>
</blockquote>
</div>
<div class="section" id="id706">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>JobScheduling executor uses the job owner proxy to evaluate which files to stage</li>
</ul>
</blockquote>
</div>
<div class="section" id="id707">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>SiteDirector - support for the MaxRAM queue description parameter</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id708">
<h2>RMS</h2>
<div class="section" id="id709">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Fixes to make use of RequestID as a unique identifier. RequestName can be used in commands in case of its uniqueness</li>
</ul>
</blockquote>
</div>
<div class="section" id="id710">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Removed files from the previous generation RMS</li>
<li>RMS refactored based on SQLAlchemy</li>
<li>DMSRequestOperationsBase - delay execution or cancel request based on SE statuses from RSS/CS</li>
</ul>
</blockquote>
</div>
<div class="section" id="id711">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>ReqClient - added options to putRequest(): useFailoverProxy and retryMainServer</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id712">
<h2>Resources</h2>
<div class="section" id="id713">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Storage - reworked Storage Element/Plugins to encapsulate physical URLs</li>
</ul>
</blockquote>
</div>
<div class="section" id="id714">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Computing - BatchSystem classes introduced to be used both in Local and SSH Computing Elements</li>
<li>GFAL2_StorageBase.py, GFAL2_SRM2Storage.py, GFAL2_XROOTStorage.py</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id715">
<h2>RSS:</h2>
<div class="section" id="id716">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>TokenAgent - added more info to the mail</li>
</ul>
</blockquote>
</div>
<div class="section" id="id717">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>dirac-admin-allow(ban)-se - added RemoveAccess status</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id718">
<h2>TS</h2>
<div class="section" id="id719">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Task Manager plugins</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r12p53">
<h1>Version v6r12p53</h1>
<div class="section" id="id720">
<h2>DMS</h2>
<div class="section" id="id721">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>DirectoryMetadata - enhanced error message in getDirectoryMetadata</li>
</ul>
</blockquote>
</div>
<div class="section" id="id722">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>FileCatalogClientCLI - ls order by size, human readable size value</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id723">
<h2>WMS</h2>
<div class="section" id="id724">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>JobAgent - bug when rescheduling job due to glexec failure</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id725">
<h2>TS</h2>
<div class="section" id="id726">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>TransformationCLI - added getOutputFiles, getAllByUser commands</li>
<li>Transformation - added getAuthorDNfromProxy, getTransformationsByUser methods</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id727">
<h2>Resources</h2>
<div class="section" id="id728">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>GlobusComputingElement - simplify creating of pilotStamp</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r12p52">
<h1>Version v6r12p52</h1>
<div class="section" id="id729">
<h2>DMS</h2>
<div class="section" id="id730">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>DataManager - in removeFile() return successfully if empty input file list</li>
</ul>
</blockquote>
</div>
<div class="section" id="id731">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>dirac-dms-directory-sync - new command to synchronize the contents of a local and remote directories</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id732">
<h2>TS</h2>
<div class="section" id="id733">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>TransformationCLI - getInputDataQuery command returning inputDataQuery of a given transformation</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r12p51">
<h1>Version v6r12p51</h1>
<div class="section" id="id734">
<h2>Core</h2>
<div class="section" id="id735">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-install - fix to work with python version prior to 2.5</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id736">
<h2>DMS</h2>
<div class="section" id="id737">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>FileCatalogClientCLI - possibility to set multiple metadata with one command</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id738">
<h2>Resources</h2>
<div class="section" id="id739">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>HTCondorComputingElement - multiple improvements</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r12p50">
<h1>Version v6r12p50</h1>
<div class="section" id="id740">
<h2>Core</h2>
<div class="section" id="id741">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-install - define TERMINFO variable to include local sources as well</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id742">
<h2>Framework</h2>
<div class="section" id="id743">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SystemAdministratorHandler - show also executors in the log overview</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id744">
<h2>DMS</h2>
<div class="section" id="id745">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FileCatalogClientCLI - use getPath utility systematically to normalize the paths passed by users</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id746">
<h2>WMS</h2>
<div class="section" id="id747">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>PilotStatusAgent - split dynamic and static parts in the log error message</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id748">
<h2>Resources</h2>
<div class="section" id="id749">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>HTCondorCEComputingElement class</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r12p49">
<h1>Version v6r12p49</h1>
<div class="section" id="id750">
<h2>Resources</h2>
<div class="section" id="id751">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>GlobusComputingElement - in killJob added -f switch to globus-job-clean command</li>
<li>ARCComputingElement - create working directory if it does not exist</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id752">
<h2>DMS</h2>
<div class="section" id="id753">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>DataManager - added XROOTD to registration protocols</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id754">
<h2>TMS</h2>
<div class="section" id="id755">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationCLI - doc string</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r12p48">
<h1>Version v6r12p48</h1>
<div class="section" id="id756">
<h2>DMS</h2>
<div class="section" id="id757">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>DirectoryTreeBase - fix in changeDirectoryXXX methods to properly interpret input</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r12p47">
<h1>Version v6r12p47</h1>
<div class="section" id="id758">
<h2>DMS</h2>
<div class="section" id="id759">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FileCatalogClientCLI - wrong signature in the removeMetadata() service call</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r12p46">
<h1>Version v6r12p46</h1>
<div class="section" id="id760">
<h2>Core</h2>
<div class="section" id="id761">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>GraphData - check for missing keys in parsed_data in initialize()</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id762">
<h2>WMS</h2>
<div class="section" id="id763">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>PilotStatusAgent - kill pilots being deleted; do not delete pilots still running jobs</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id764">
<h2>RSS</h2>
<div class="section" id="id765">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Instantiate RequestManagementDB/Client taking into account possible extensions</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id766">
<h2>Resources</h2>
<div class="section" id="id767">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>GlobusComputingElement - evaluate WaitingJobs in getCEStatus()</li>
<li>SRM2Storage - error 16 of exists call is interpreted as existing file</li>
<li>XROOTStorage - added Lost, Cached, Unavailable in the output of getSingleMetadata()</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id768">
<h2>WMS</h2>
<div class="section" id="id769">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>pilotCommands - removed unnecessary doOSG() function</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r12p45">
<h1>Version v6r12p45</h1>
<div class="section" id="id770">
<h2>Resources</h2>
<div class="section" id="id771">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SRM2Storage - error 22 of exists call is interpreted as existing file ( backport from v6r13 )</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r12p44">
<h1>Version v6r12p44</h1>
<div class="section" id="id772">
<h2>WMS</h2>
<div class="section" id="id773">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SiteDirector - consider also pilots in Waiting status when evaluating queue slots available</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id774">
<h2>Resources</h2>
<div class="section" id="id775">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>SRM2Storage - makes use of /Resources/StorageElements/SRMBusyFilesExist option to set up the mode of interpreting the 22 error code as existing file</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r12p43">
<h1>Version v6r12p43</h1>
<div class="section" id="id776">
<h2>DMS:</h2>
<div class="section" id="id777">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>DirectoryTreeBase - avoid double definition of FC_DirectoryUsage table in _rebuildDirectoryUsage()</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r12p42">
<h1>Version v6r12p42</h1>
<p>FIX: added fixes from v6r11p34 patch release</p>
</div>
<div class="section" id="version-v6r12p41">
<h1>Version v6r12p41</h1>
<div class="section" id="id778">
<h2>WMS</h2>
<div class="section" id="id779">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>dirac-wms-job-submit - &quot;-r&quot; switch to enable job repo</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r12p40">
<h1>Version v6r12p40</h1>
<div class="section" id="id780">
<h2>DMS</h2>
<div class="section" id="id781">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>DirectoryTreeBase.py - set database engine to InnoDB</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r12p39">
<h1>Version v6r12p39</h1>
<p>FIX: imported fixes from rel-v6r11</p>
</div>
<div class="section" id="version-v6r12p38">
<h1>Version v6r12p38</h1>
<div class="section" id="id782">
<h2>DMS</h2>
<div class="section" id="id783">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>DataManager - enhanced real SE name resolution</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id784">
<h2>RMS</h2>
<div class="section" id="id785">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Request - fixed bug in the optimization of requests with failover operations</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id786">
<h2>Resources</h2>
<div class="section" id="id787">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>StorageFactory - allow for BaseSE option in the SE definition</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r12p37">
<h1>Version v6r12p37</h1>
<div class="section" id="id788">
<h2>Core</h2>
<div class="section" id="id789">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>InstallTools - force $HOME/.my.cnf to be the only defaults file</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r12p36">
<h1>Version v6r12p36</h1>
<div class="section" id="id790">
<h2>Configuration</h2>
<div class="section" id="id791">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Utilities.py - bug fix getSiteUpdates()</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r12p35">
<h1>Version v6r12p35</h1>
<div class="section" id="id792">
<h2>Core</h2>
<div class="section" id="id793">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>VOMSService - add URL for the method to get certificates</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id794">
<h2>DMS</h2>
<div class="section" id="id795">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>DataManager - in __replicate() set do not pass file size to the SE if no third party transfer</li>
<li>RemoveFile, ReplicateAndRegister - regular expression for &quot;no replicas&quot; common for both DFC and LFC</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id796">
<h2>WMS</h2>
<div class="section" id="id797">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>WMSHistoryCorrector - make explicit error if no data returned from WMSHistory accounting query</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r12p34">
<h1>Version v6r12p34</h1>
<div class="section" id="id798">
<h2>DMS</h2>
<div class="section" id="id799">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FileCatalogWithFkAndPsDB - fix storage usage calculation</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r12p33">
<h1>Version v6r12p33</h1>
<div class="section" id="id800">
<h2>Core</h2>
<div class="section" id="id801">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>VOMSService - added method admListCertificates()</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id802">
<h2>DMS</h2>
<div class="section" id="id803">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-dms-put-and-register-request - missing Operation in the request</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id804">
<h2>Resources</h2>
<div class="section" id="id805">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>sshce - better interpretation of the &quot;ps&quot; command output</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r12p32">
<h1>Version v6r12p32</h1>
<div class="section" id="id806">
<h2>RMS</h2>
<div class="section" id="id807">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ReqManager - in getRequest() possibility to accept None type argument for any request</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r12p31">
<h1>Version v6r12p31</h1>
<div class="section" id="id808">
<h2>WMS</h2>
<div class="section" id="id809">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>pilotCommands - import json module only in case it is needed</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r12p30">
<h1>Version v6r12p30</h1>
<div class="section" id="id810">
<h2>Core</h2>
<div class="section" id="id811">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>InstallTools - 't' file is deployed for agents installation only</li>
<li>GOCDBClient - creates unique DowntimeID using the ENDPOINT</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id812">
<h2>Framework</h2>
<div class="section" id="id813">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SystemAdministratorHandler - use WebAppDIRAC extension, not just WebApp</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id814">
<h2>DMS:</h2>
<div class="section" id="id815">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FileCatalogComponents.Utilities - do not allow empty LFN names in checkArgumentDict()</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r12p29">
<h1>Version v6r12p29</h1>
<div class="section" id="cs">
<h2>CS</h2>
<div class="section" id="id816">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>CSCLI - use readline to store and resurrect command history</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id817">
<h2>WMS</h2>
<div class="section" id="id818">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>JobWrapper - bug fixed in the failoverTransfer() call</li>
</ul>
</blockquote>
</div>
<div class="section" id="id819">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>dirac-wms-job-submit - added -f flag to store ids</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id820">
<h2>DMS</h2>
<div class="section" id="id821">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>DataManager - make successful removeReplica if missing replica in one catalog</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id822">
<h2>RMS</h2>
<div class="section" id="id823">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Operation, Request - limit the length of the error message</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r12p28">
<h1>Version v6r12p28</h1>
<div class="section" id="id824">
<h2>RMS</h2>
<div class="section" id="id825">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Request - do not optimize requests already in the DB</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r12p27">
<h1>Version v6r12p27</h1>
<div class="section" id="id826">
<h2>Core</h2>
<div class="section" id="id827">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>InstallTools - install &quot;t&quot; script to gracefully stop agents</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id828">
<h2>DMS</h2>
<div class="section" id="id829">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FileCatalog - return GUID in DirectoryParameters</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="resource">
<h2>Resource</h2>
<div class="section" id="id830">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>DFC/LFC clients - added setReplicaProblematic()</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r12p26">
<h1>Version v6r12p26</h1>
<div class="section" id="id831">
<h2>DMS</h2>
<div class="section" id="id832">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FileCatalog - getDirectoryMetadata was wrongly in ro_meta_methods list</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id833">
<h2>RMS</h2>
<div class="section" id="id834">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Operation - temporary fix in catalog names evaluation to smooth LFC-&gt;DFC migration - not to forget to remove afterwards !</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id835">
<h2>WMS</h2>
<div class="section" id="id836">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>JobWrapper - added MasterCatalogOnlyFlag configuration option</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r12p25">
<h1>Version v6r12p25</h1>
<div class="section" id="id837">
<h2>DMS</h2>
<div class="section" id="id838">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>PutAndRegister, RegitserFile, RegisterReplica, ReplicateAndRegister - do not evaluate the catalog list if None</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r12p24">
<h1>Version v6r12p24</h1>
<div class="section" id="id839">
<h2>DMS:</h2>
<div class="section" id="id840">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>DataManager - retry RSS call 5 times - to be reviewed</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r12p23">
<h1>Version v6r12p23</h1>
<div class="section" id="id841">
<h2>DMS</h2>
<div class="section" id="id842">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>pass a catalog list to the DataManager methods</li>
<li>FileCatalog - bug fixed in the catalog list evaluation</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r12p22">
<h1>Version v6r12p22</h1>
<div class="section" id="id843">
<h2>DMS</h2>
<div class="section" id="id844">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RegisterFile, PutAndRegister - pass a list of catalogs to the DataManager instead of a comma separated string</li>
<li>FTSJob - log when a job is not found in FTS</li>
</ul>
</blockquote>
</div>
<div class="section" id="id845">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>dropped commands dirac-admin-allow(ban)-catalog</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id846">
<h2>Interfaces</h2>
<div class="section" id="id847">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Dirac, JobMonitoringHandler,dirac-wms-job-get-jdl - possibility to retrieve original JDL</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id848">
<h2>WMS</h2>
<div class="section" id="id849">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>JobManifest - make MaxInputData a configurable option</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r12p21">
<h1>Version v6r12p21</h1>
<div class="section" id="id850">
<h2>RMS</h2>
<div class="section" id="id851">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>File,Operation,RequestDB - bug making that the request would always show the current time for LastUpdate</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id852">
<h2>WMS</h2>
<div class="section" id="id853">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>JobAgent - storing on disk retrieved job JDL as required by VMDIRAC ( to be reviewed )</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r12p20">
<h1>Version v6r12p20</h1>
<div class="section" id="id854">
<h2>DMS</h2>
<div class="section" id="id855">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>DataManager - more informative log messages, checking return structure</li>
<li>FileCatalog - make exists() behave like LFC file catalog client by checking the unicity of supplied GUID if any</li>
<li>StorageElementProxyHandler - do not remove the cache directory</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id856">
<h2>Framework</h2>
<div class="section" id="id857">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SystemAdministratorClient - increase the timeout to 300 for the software update</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id858">
<h2>RMS</h2>
<div class="section" id="id859">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Operation.py - set Operation Scheduled if one file is Scheduled</li>
</ul>
</blockquote>
</div>
<div class="section" id="id860">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Request - group ReplicateAndRegister operations together for failover requests: it allows to launch all FTS jobs at once</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id861">
<h2>Resources</h2>
<div class="section" id="id862">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>LcgFileCatalogClient - fix longstanding problem in LFC when several files were not available (only one was returned)</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id863">
<h2>TS</h2>
<div class="section" id="id864">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationCleaning,ValidateOutputDataAgent - interpret correctly the result of getTransformationParameters() call</li>
<li>TaskManager - fix exception in RequestTaskAgent</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r12p19">
<h1>Version v6r12p19</h1>
<div class="section" id="id865">
<h2>Core</h2>
<div class="section" id="id866">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Core.py - check return value of getRecursive() call</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id867">
<h2>DMS</h2>
<div class="section" id="id868">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FileCatalog - directory removal is successful if does not exist special treatment of Delete operation</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id869">
<h2>WMS</h2>
<div class="section" id="id870">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>InputDataByProtocol - fix interpretation of return values</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r12p18">
<h1>Version v6r12p18</h1>
<div class="section" id="id871">
<h2>DMS</h2>
<div class="section" id="id872">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FTSStrategy - config option name</li>
<li>DataManager - removing dirac_directory flag file only of it is there in __cleanDirectory()</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id873">
<h2>RMS</h2>
<div class="section" id="id874">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Operation - MAX_FILES limit set to 10000</li>
<li>ReqClient - enhanced log messages</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id875">
<h2>TMS</h2>
<div class="section" id="id876">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TaskManager - enhanced log messages</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id877">
<h2>RSS</h2>
<div class="section" id="id878">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>DowntimeCommand - fixed mix of SRM.NEARLINE and SRM</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id879">
<h2>WMS</h2>
<div class="section" id="id880">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>InputDataByProtocol - fixed return structure</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r12p16">
<h1>Version v6r12p16</h1>
<div class="section" id="id881">
<h2>DMS</h2>
<div class="section" id="id882">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>IRODSStorageElement more complete implementation</li>
<li>FileCatalogHandler(DB) - make removeMetadata bulk method</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id883">
<h2>Resources</h2>
<div class="section" id="id884">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FileCatalog - make a special option CatalogList (Operations) to specify catalogs used by a given VO</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r12p15">
<h1>Version v6r12p15</h1>
<div class="section" id="id885">
<h2>Core</h2>
<div class="section" id="id886">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ProcessPool - kill the working process in case of the task timeout</li>
<li>FileHelper - count transfered bytes in DataSourceToNetwork()</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id887">
<h2>DMS</h2>
<div class="section" id="id888">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FileCatalogCLI - changed interface in changePathXXX() methods</li>
</ul>
</blockquote>
</div>
<div class="section" id="id889">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>FileCatalog - separate metadata and file catalog methods, apply metadata methods only to Metadata Catalogs</li>
</ul>
</blockquote>
</div>
<div class="section" id="id890">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>IRODSStorageElementHandler class</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id891">
<h2>Resources</h2>
<div class="section" id="id892">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SSHTorqueComputingElement - check the status of the ssh call for qstat</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id893">
<h2>WMS</h2>
<div class="section" id="id894">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>WatchdogLinux - fixed typo</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r12p14">
<h1>Version v6r12p14</h1>
<div class="section" id="id895">
<h2>TS</h2>
<div class="section" id="id896">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TaskManagerAgentBase: avoid race conditions when submitting to WMS</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id897">
<h2>DMS</h2>
<div class="section" id="id898">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>DataManager returns properly the FileCatalog errors</li>
</ul>
</blockquote>
</div>
<div class="section" id="id899">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>FileCatalog - added new components ( directory tree, file manager ) making use of foreign keys and stored procedures</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r12p13">
<h1>Version v6r12p13</h1>
<div class="section" id="id900">
<h2>TS</h2>
<div class="section" id="id901">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationAgent - data member not defined</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id902">
<h2>WMS</h2>
<div class="section" id="id903">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>InputData(Resolution,ByProtocol) - possibility to define RemoteProtocol</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r12p12">
<h1>Version v6r12p12</h1>
<div class="section" id="id904">
<h2>WMS</h2>
<div class="section" id="id905">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>pilotTools - missing comma</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r12p11">
<h1>Version v6r12p11</h1>
<div class="section" id="id906">
<h2>WMS</h2>
<div class="section" id="id907">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>CPUNormalization - dealing with the case when the maxCPUTime is not set in the queue definition</li>
<li>pilotTools - added option pilotCFGFile</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r12p10">
<h1>Version v6r12p10</h1>
<div class="section" id="id908">
<h2>DMS</h2>
<div class="section" id="id909">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>StorageElementProxy - BASE_PATH should be a full path</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id910">
<h2>Resources</h2>
<div class="section" id="id911">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SRM2Storage - return specific error in putFile</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id912">
<h2>TS</h2>
<div class="section" id="id913">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationAgent - fix to avoid an exception in finalize and double printing when terminating the agent</li>
<li>TransformationDB - fix return value in setTransformationParameter()</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r12p9">
<h1>Version v6r12p9</h1>
<div class="section" id="id914">
<h2>Core</h2>
<div class="section" id="id915">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>SiteCEMapping - getSiteForCE can take site argu ment to avoid confusion</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id916">
<h2>Interfaces</h2>
<div class="section" id="id917">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Job - provide optional site name in setDestinationCE()</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id918">
<h2>WMS</h2>
<div class="section" id="id919">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>pilotCommands - check properly the presence of extra cfg files when starting job agent</li>
<li>JobAgent - can pick up local cfg file if extraOptions are specified</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r12p8">
<h1>Version v6r12p8</h1>
<div class="section" id="id920">
<h2>Core</h2>
<div class="section" id="id921">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-configure - correctly deleting useServerCertificate flag</li>
<li>InstallTools - in fixMySQLScript()</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id922">
<h2>DMS</h2>
<div class="section" id="id923">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>DatasetManager - bug fixes</li>
</ul>
</blockquote>
</div>
<div class="section" id="id924">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>StorageElementProxy - internal SE object created with the VO of the requester</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id925">
<h2>TS</h2>
<div class="section" id="id926">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-transformation-xxx commands - do not check the transformation status</li>
<li>TransformationAgent - correct handling of replica cache for transformations when there were more files in the transformation than accepted to be executed</li>
<li>TransformationAgent - do not get replicas for the Removal transformations</li>
</ul>
</blockquote>
</div>
<div class="section" id="id927">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Agents - do not use shifter proxy</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id928">
<h2>RMS</h2>
<div class="section" id="id929">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>new SetFileStatus Operation</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r12p7">
<h1>Version v6r12p7</h1>
<div class="section" id="id930">
<h2>Core</h2>
<div class="section" id="id931">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-configure - always removing the UseServerCertificate flag before leaving</li>
<li>ProcessPool - one more check for the executing task ending properly</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id932">
<h2>Interfaces</h2>
<div class="section" id="id933">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Dirac.py - use printTable in loggingInfo()</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r12p6">
<h1>Version v6r12p6</h1>
<p>FIX: fixes from v6r11p26 patch release</p>
</div>
<div class="section" id="version-v6r12p5">
<h1>Version v6r12p5</h1>
<div class="section" id="id934">
<h2>Core</h2>
<div class="section" id="id935">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>VOMS.py - do not use obsoleted -dont-verify-ac flag with voms-proxy-info</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id936">
<h2>TS</h2>
<div class="section" id="id937">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationManager - no status checked at level service</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r12p4">
<h1>Version v6r12p4</h1>
<p>FIX: fixes from v6r11p23 patch release</p>
</div>
<div class="section" id="version-v6r12p3">
<h1>Version v6r12p3</h1>
<div class="section" id="id938">
<h2>Configuration</h2>
<div class="section" id="id939">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>dirac-admin-add-resources - define VOPath/ option when adding new SE</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id940">
<h2>Resources</h2>
<div class="section" id="id941">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>StorageFactory - modify protocol Path for VO specific value</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id942">
<h2>DMS</h2>
<div class="section" id="id943">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FileCatalog - check for empty input in checkArgumentFormat utility</li>
<li>DataManager - protect against FC queries with empty input</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r12p2">
<h1>Version v6r12p2</h1>
<div class="section" id="id944">
<h2>Core</h2>
<div class="section" id="id945">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-install - svn.cern.ch rather than svnweb.cern.ch is now needed for direct HTTP access to files in SVN</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id946">
<h2>WMS</h2>
<div class="section" id="id947">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-wms-cpu-normalization - when re-configuring, do not try to dump in the diracConfigFilePath</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r12p1">
<h1>Version v6r12p1</h1>
<div class="section" id="id948">
<h2>Configuration</h2>
<div class="section" id="id949">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Core.Utilities.Grid, dirac-admin-add-resources - fix to make a best effort to guess the proper VO specific path of a new SE</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id950">
<h2>WMS</h2>
<div class="section" id="id951">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-configure, pilotCommands, pilotTools - fixes to use server certificate</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r12">
<h1>Version v6r12</h1>
<div class="section" id="id952">
<h2>Core</h2>
<div class="section" id="id953">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>MySQL - correctly parse BooleanType</li>
<li>dirac-install - use python 2.7 by default</li>
<li>dirac-install-xxx commands - complement installation with the component setup in runit</li>
<li>InstallTools - correctly installing DBs extended (with sql to be sourced)</li>
<li>InstallTools - run MySQL commands one by one when creating a new database</li>
<li>InstallTools - fixMySQLScripts() fixes the mysql start script to ognore /etc/my.cnf file</li>
<li>GOCDBClient - handle correctly the case of multiple elements in the same DT</li>
</ul>
</blockquote>
</div>
<div class="section" id="id954">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>ProcessPool - do not stop working processes by default</li>
<li>ProcessPool - exit from the working process if a task execution timed out</li>
<li>Os.py - the use of &quot;which&quot; is replaced by distutils.spawn.find_executable</li>
<li>CFG.py - only lines starting with ^s*# will be treated as comments</li>
<li>Shifter - Agents will now have longer proxies cached to prevent errors for heavy duty agents, closes #2110</li>
<li>dirac-proxy-init - added message in case of impossibility to add VOMS extension</li>
</ul>
</blockquote>
</div>
<div class="section" id="id955">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>ReturnValue - added returnSingleResult() utility</li>
<li>dirac-configure - added --SkipVOMSDownload switch, added --Output switch to define output configuration file</li>
<li>ProcessMonitor - added evaluation of the memory consumed by a process and its children</li>
<li>InstallTools - added flag to require MySQL installation</li>
<li>Grid.py - ldapSA replaced by ldapSE, added getBdiiSE(CE)Info() methods</li>
<li>Bdii2CSAgent - reworked to apply also for SEs and use the same utilities for the corresponding command line tool</li>
<li>dirac-admin-add-resources - an interactive tool to add and update sites, CEs, SEs to the DIRAC CS</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id956">
<h2>Accounting</h2>
<div class="section" id="id957">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Accounting - use TypeLoader to load plotters</li>
</ul>
</blockquote>
</div>
<div class="section" id="id958">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Allow to have more than one DB for accounting</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id959">
<h2>Framework</h2>
<div class="section" id="id960">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Logger - fix FileBackend implementation</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id961">
<h2>WMS</h2>
<div class="section" id="id962">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SandboxStoreHandler - treat the case of exception while cleaning sandboxes</li>
<li>JobDB - %j placeholder not replaced after rescheduling</li>
<li>JobDB - in the SQL schema description reorder tables to allow foreign keys</li>
<li>JobAgent, Matcher - logical bug in using PilotInfoReported flag</li>
<li>OptimizerExecutor - when a job fails the optimization chain set the minor status to the optimiser name and the app status to the fail error</li>
</ul>
</blockquote>
</div>
<div class="section" id="id963">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>InputData(Executor) - use VO specific catalogs</li>
<li>JobCleaningAgent - the delays of job removals become CS parameters</li>
</ul>
</blockquote>
</div>
<div class="section" id="id964">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Refactored pilots ( dirac-pilot-2 ) to become modular following RFC #18, added pilotCommands.py, SiteDirector modified accordingly</li>
<li>JobWrapper, Watchdog - monitor memory consumption by the job ( in a Warning mode )</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id965">
<h2>Resources</h2>
<div class="section" id="id966">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>SSHTorqueComputingElement - mv getCEStatus to remote script</li>
</ul>
</blockquote>
</div>
<div class="section" id="id967">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>StorageElement - added a cache of already created SE objects</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="resourcestatus">
<h2>ResourceStatus</h2>
<div class="section" id="id968">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>GODDBClient  - downTimeXMLParsing() can now handle the &quot;service type&quot; parameter properly</li>
<li>dirac-dms-ftsdb-summary - bug fix for #2096</li>
</ul>
</blockquote>
</div>
<div class="section" id="id969">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>dirac-rss-xxx commands use the printTable standard utility</li>
</ul>
</blockquote>
</div>
<div class="section" id="id970">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>ResourceManagementClient/DB, DowntimeCommand - distinguish Disk and Tape storage</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id971">
<h2>DMS</h2>
<div class="section" id="id972">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>DataManager - fix to protect against non valid SE</li>
<li>FileCatalog - fixes in using file and replica status</li>
<li>XROOTStorageElement - fixes to comply with the interface formalism</li>
</ul>
</blockquote>
</div>
<div class="section" id="id973">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>FC.DirectoryLevelTree - use SELECT ... FOR UPDATE lock in makeDir()</li>
<li>DataManager - added a new argument to the constructor - vo</li>
<li>DataManager - removed removeCatalogFile() and dirac-dms-remove-catalog-file adjusted</li>
<li>Several components - field/parameter CheckSumType all changed to ChecksumType</li>
<li>PoolXMLCatalog - add the SE by default in the xml dump and use the XML library for dumping the XML</li>
</ul>
</blockquote>
</div>
<div class="section" id="id974">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>DataManager - add masterCatalogOnly flag in the constructor</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id975">
<h2>SMS</h2>
<div class="section" id="id976">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>StorageManagementDB - small bugfix to avoid SQL errors</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id977">
<h2>RMS</h2>
<div class="section" id="id978">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Operation, Request - set LastUpdate time stamp when reaching final state</li>
<li>OperationHandlerBase - don't erase the original message when reaching the max attempts</li>
<li>removed some deprecated codes</li>
<li>RequestTask - always set useServerCerificate flag to tru in case of executing inside an agent</li>
</ul>
</blockquote>
</div>
<div class="section" id="id979">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>gRequestValidator removed to avoid object instantiation at import</li>
</ul>
</blockquote>
</div>
<div class="section" id="id980">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Added 'since' and 'until' parameters for getting requests</li>
<li>Request - added optimize() method to merge similar operations when first inserting the request</li>
<li>ReqClient, RequestDB - added getBulkRequest() interface. RequestExecutingAgent can use it controlled by a special flag</li>
<li>dirac-rms-cancel-request command and related additions to the db and service classes</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id981">
<h2>TMS</h2>
<div class="section" id="id982">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationCleaningAgent - removed non-ASCII characters in a comment</li>
</ul>
</blockquote>
</div>
<div class="section" id="id983">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>TransformationDB - modified such that the body in a transformation can be updated</li>
</ul>
</blockquote>
</div>
<div class="section" id="id984">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>WorkflowTaskAgent is now multi-threaded</li>
<li>Better use of threads in Transformation Agents</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r11p34">
<h1>Version v6r11p34</h1>
<div class="section" id="id985">
<h2>Resources</h2>
<div class="section" id="id986">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>GlobusComputingElement class</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r11p33">
<h1>Version v6r11p33</h1>
<div class="section" id="id987">
<h2>Configuration</h2>
<div class="section" id="id988">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Resources - avoid white spaces in OSCompatibility</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r11p32">
<h1>Version v6r11p32</h1>
<div class="section" id="id989">
<h2>Core</h2>
<div class="section" id="id990">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>BaseClient, SSLSocketFactory, SocketInfo - enable TLSv1 for outgoing connections via suds, possibility to configure SSL connection details per host/IP</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r11p31">
<h1>Version v6r11p31</h1>
<div class="section" id="id991">
<h2>Core</h2>
<div class="section" id="id992">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>CFG - bug fixed in loadFromBuffer() resulting in a loss of comments</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id993">
<h2>Resources</h2>
<div class="section" id="id994">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SSHTorqueComputingElement - check the status of ssh call for qstat</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id995">
<h2>DMS</h2>
<div class="section" id="id996">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FileCatalog - return LFN name instead of True from exists() call if LFN already in the catalog</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r11p30">
<h1>Version v6r11p30</h1>
<div class="section" id="id997">
<h2>DMS</h2>
<div class="section" id="id998">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>FileCatalogCLI - add new -D flag for find to print only directories</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r11p29">
<h1>Version v6r11p29</h1>
<div class="section" id="id999">
<h2>DMS</h2>
<div class="section" id="id1000">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FTS(Agent,Startegy,Gragh) - make use of MaxActiveJobs parameter, bug fixes</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1001">
<h2>TMS</h2>
<div class="section" id="id1002">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Transformation(Agent,Client) - Operations CS parameters can be defined for each plugin: MaxFiles, SortedBy, NoUnusedDelay. Fixes to facilitate work with large numbers of files.</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r11p28">
<h1>Version v6r11p28</h1>
<div class="section" id="id1003">
<h2>Core</h2>
<div class="section" id="id1004">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>InstallTools - check properly the module availability before installation</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1005">
<h2>WMS</h2>
<div class="section" id="id1006">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>JobScheduling - protection against missing dict field RescheduleCounter</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1007">
<h2>TMS</h2>
<div class="section" id="id1008">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationCleaningAgent - execute DM operations with the shifter proxy</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r11p27">
<h1>Version v6r11p27</h1>
<div class="section" id="id1009">
<h2>Core</h2>
<div class="section" id="id1010">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>InstallTools - bug fix in installNewPortal()</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1011">
<h2>WMS</h2>
<div class="section" id="id1012">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Watchdog - disallow cputime and wallclock to be negative</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1013">
<h2>TS</h2>
<div class="section" id="id1014">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationAgent - correct handling of replica caches when more than 5000 files</li>
<li>ModuleBase - bug fix in execute()</li>
<li>Workflow - bug fix in createStepInstance()</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1015">
<h2>DMS</h2>
<div class="section" id="id1016">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>DiractoryTreeBase - bug fix in getDirectoryPhysicalSizeFromUsage()</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1017">
<h2>Resources</h2>
<div class="section" id="id1018">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>XROOTStorage - back ported fixes from #2126: putFile would place file in the wrong location on eos</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r11p26">
<h1>Version v6r11p26</h1>
<div class="section" id="id1019">
<h2>Framework</h2>
<div class="section" id="id1020">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>UserProfileDB.py - add PublishAccess field to the UserProfileDB</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1021">
<h2>RSS</h2>
<div class="section" id="id1022">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Synchronizer.py - fix deletion of old resources</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1023">
<h2>DMS</h2>
<div class="section" id="id1024">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>DataManager - allow that permissions are OK for part of a list of LFNs ( __verifyWritePermission() ) (when testing write access to parent directory). Allows removal of replicas even if one cannot be removed</li>
<li>DataManager - test SE validity before removing replica</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1025">
<h2>RMS</h2>
<div class="section" id="id1026">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RequestTask - fail requests for users who are no longer in the system</li>
<li>RequestExecutingAgent - fix request timeout computation</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r11p25">
<h1>Version v6r11p25</h1>
<div class="section" id="id1027">
<h2>Interfaces</h2>
<div class="section" id="id1028">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Job.py - bring back different logfile names if they have not been specified by the user</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r11p24">
<h1>Version v6r11p24</h1>
<div class="section" id="id1029">
<h2>DMS</h2>
<div class="section" id="id1030">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SEManagerDB - bug fixed in getting connection in __add/__removeSE</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r11p23">
<h1>Version v6r11p23</h1>
<div class="section" id="id1031">
<h2>DMS</h2>
<div class="section" id="id1032">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>FTSRequest is left only to support dirac-dms-fts-XXX commands</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r11p22">
<h1>Version v6r11p22</h1>
<div class="section" id="id1033">
<h2>DMS</h2>
<div class="section" id="id1034">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FTSJob - fixes in the glite-transfer-status command outpu parsing</li>
<li>TransformationClient - allow single lfn in setFileStatusForTransformation()</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1035">
<h2>WMS</h2>
<div class="section" id="id1036">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>StatesMonitoringAgent - install pika on the fly as a temporary solution</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r11p21">
<h1>Version v6r11p21</h1>
<div class="section" id="id1037">
<h2>DMS</h2>
<div class="section" id="id1038">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-dms-remove-replicas - continue in case of single replica failure</li>
<li>dirac-rms-xxx scripts - use Script.getPositionalArgs() instead of sys.argv</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1039">
<h2>Workflow</h2>
<div class="section" id="id1040">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Test_Modules.py - fix in mocking functions, less verbose logging</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r11p20">
<h1>Version v6r11p20</h1>
<div class="section" id="id1041">
<h2>DMS</h2>
<div class="section" id="id1042">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>DataManager - in __SEActive() use resolved SE name to deal with aliases</li>
<li>FileMetadata - multiple bugs in __buildUserMetaQuery()</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r11p19">
<h1>Version v6r11p19</h1>
<div class="section" id="id1043">
<h2>DMS</h2>
<div class="section" id="id1044">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FTSJob - fix FTS job monitoring a la FTS2</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1045">
<h2>RMS</h2>
<div class="section" id="id1046">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>File,Operation,Request - call the getters to fetch the up-to-date information from the parent</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1047">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>ReqClient - added setServer() method</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r11p18">
<h1>Version v6r11p18</h1>
<div class="section" id="id1048">
<h2>DMS</h2>
<div class="section" id="id1049">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FTSAgent(Job) - fixes for transfers requiring staging (bringOnline) and adaptation to the FTS3 interface</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1050">
<h2>WMS</h2>
<div class="section" id="id1051">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>StatesMonitoringAgent - resend the records in case of failure</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r11p17">
<h1>Version v6r11p17</h1>
<div class="section" id="id1052">
<h2>DMS</h2>
<div class="section" id="id1053">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FileCatalog - in multi-VO case get common catalogs if even VO is not specified</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1054">
<h2>Resources</h2>
<div class="section" id="id1055">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ComputintgElement - bugfix in available() method</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1056">
<h2>WMS</h2>
<div class="section" id="id1057">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SiteDirector - if not pilots registered in the DB, pass empty list to the ce.available()</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r11p16">
<h1>Version v6r11p16</h1>
<div class="section" id="id1058">
<h2>RMS</h2>
<div class="section" id="id1059">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Request,Operation,File - do not cast to str None values</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r11p15">
<h1>Version v6r11p15</h1>
<div class="section" id="id1060">
<h2>DMS</h2>
<div class="section" id="id1061">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ReplicateAndRegister - do not create FTSClient if no FTSMode requested</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1062">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>FTSAgent(Job,File) - allow to define the FTS2 submission command; added --copy-pin-lifetime only for a tape backend parse output of both commands (FTS2, FTS3) consider additional state for FTS retry (Canceled)</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1063">
<h2>RMS</h2>
<div class="section" id="id1064">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Operation, Request - treat updates specially for Error fields</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1065">
<h2>TMS</h2>
<div class="section" id="id1066">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationAgent - fixes in preparing json serialization of requests</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1067">
<h2>WMS</h2>
<div class="section" id="id1068">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>StateMonitoringAgent - sends WMS history data through MQ messages</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r11p14">
<h1>Version v6r11p14</h1>
<div class="section" id="id1069">
<h2>WMS</h2>
<div class="section" id="id1070">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>JobDB - removed unused tables and methods</li>
<li>removed obsoleted tests</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1071">
<h2>DMS</h2>
<div class="section" id="id1072">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FTSAgent - recover case when a target is not in FTSDB</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1073">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>FTSAgent(Job) - give possibility to specify a pin life time in CS</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1074">
<h2>RMS</h2>
<div class="section" id="id1075">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Make RMS objects comply with Python Data Model by adding __nonzero__ methods</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r11p13">
<h1>Version v6r11p13</h1>
<div class="section" id="id1076">
<h2>DMS</h2>
<div class="section" id="id1077">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SEManager - in SEManagerDB.__addSE() bad _getConnection call, closes #2062</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r11p12">
<h1>Version v6r11p12</h1>
<div class="section" id="id1078">
<h2>Resources</h2>
<div class="section" id="id1079">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>ARCComputingElement - accomodate changes in the ARC job reported states</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1080">
<h2>Configuration</h2>
<div class="section" id="id1081">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Resources - define a default FTS server in the CS (only for v6r11 and v6r12)</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1082">
<h2>DMS</h2>
<div class="section" id="id1083">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FTSStrategy - allow to use a given channel more than once in a tree</li>
<li>FTSAgent - remove request from cache if not found</li>
<li>FTSAgent - recover deadlock situations when FTS Files had not been correctly updated or were not in the DB</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1084">
<h2>RMS</h2>
<div class="section" id="id1085">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RequestExecutingAgent - fix a race condition (cache was cleared after the request was put)</li>
<li>RequestValidator - check that the Operation handlers are defined when inserting a request</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r11p11">
<h1>Version v6r11p11</h1>
<div class="section" id="id1086">
<h2>Core</h2>
<div class="section" id="id1087">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransportPool - fixed exception due to uninitialized variable</li>
<li>HTTPDISETSocket - readline() takes optional argument size ( = 0 )</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1088">
<h2>DMS</h2>
<div class="section" id="id1089">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FTSAgent - check the type of the Operation object ( can be None ) and some other protections</li>
<li>FTSClient - avoid duplicates in the file list</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1090">
<h2>RMS</h2>
<div class="section" id="id1091">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ReqClient - modified log message</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1092">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>dirac-dms-fts-monitor - allow multiple comma separated LFNs in the arguments</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r11p10">
<h1>Version v6r11p10</h1>
<div class="section" id="id1093">
<h2>RSS</h2>
<div class="section" id="id1094">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>DowntimeCommand, Test_RSS_Command_GOCDBStatusCommand - correctly interpreting list of downtimes</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1095">
<h2>RMS</h2>
<div class="section" id="id1096">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ReplicateAndRegister - Create a RegisterReplica (not RegisterFile) if ReplicateAndRegister fails to register</li>
<li>OperationHandlerBase - handle correctly Attempt counters when SEs are banned</li>
<li>ReplicateAndRegister - use FC checksum in case of mismatch request/PFN</li>
<li>FTSAgent - in case a file is Submitted but the FTSJob is unknown, resubmit</li>
<li>FTSAgent - log exceptions and put request to DB in case of exception</li>
<li>FTSAgent - handle FTS error &quot;Unknown transfer state NOT_USED&quot;, due to same file registered twice (to be fixed in RMS, not clear origin)</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1097">
<h2>WMS</h2>
<div class="section" id="id1098">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>JobStateUpdateHandler - status not updated while jobLogging is, due to time skew between WN and DB service</li>
<li>JobStateUpdateHandler - stager callback not getting the correct status Staging (retry for 10 seconds)</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r11p9">
<h1>Version v6r11p9</h1>
<div class="section" id="id1099">
<h2>Core</h2>
<div class="section" id="id1100">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>AgentModule - set AGENT_WORKDIRECTORY env variable with the workDirectory</li>
<li>InstallTools - added methods for the new web portal installation</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1101">
<h2>DMS</h2>
<div class="section" id="id1102">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ReplicateAndRegister - apply same error logic for DM replication as for FTS</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1103">
<h2>Resources:</h2>
<div class="section" id="id1104">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SRM2Storage - fix log message level</li>
<li>SRM2Storage - avoid useless existence checks</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1105">
<h2>RMS</h2>
<div class="section" id="id1106">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ForwardDISET - a temporary fix for a special LHCb case, to be removed asap</li>
<li>ReqClient - prettyPrint is even prettier</li>
<li>RequestTask - always use server certificates when executed within an agent</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r11p8">
<h1>Version v6r11p8</h1>
<div class="section" id="id1107">
<h2>TMS</h2>
<div class="section" id="id1108">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationDB - fix default value within ON DUPLICATE KEY UPDATE mysql statement</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r11p7">
<h1>Version v6r11p7</h1>
<div class="section" id="id1109">
<h2>Framework</h2>
<div class="section" id="id1110">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ProxyDB.py - bug in a MySQL table definition</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1111">
<h2>DMS</h2>
<div class="section" id="id1112">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ReplicateAndRegister.py - FTS client is not instantiated in the c'tor as it might not be used,</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1113">
<h2>WMS</h2>
<div class="section" id="id1114">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>JobWrapper - don't delete the sandbox tar file if upload fails</li>
<li>JobWrapper - fix in setting the failover request</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1115">
<h2>RMS</h2>
<div class="section" id="id1116">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RequestDB - add protections when trying to get a non existing request</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r11p6">
<h1>Version v6r11p6</h1>
<div class="section" id="id1117">
<h2>WMS</h2>
<div class="section" id="id1118">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>InpudDataResolution - fix the case when some files only have a local replica</li>
<li>DownloadInputData, InputDataByProtocol - fix the return structure of the execute() method</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1119">
<h2>Resources</h2>
<div class="section" id="id1120">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>LocalComputingElement, CondorComputingElement</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r11p5">
<h1>Version v6r11p5</h1>
<p>FIX: Incorporated changes from v6r10p25 patch</p>
<div class="section" id="id1121">
<h2>Framework</h2>
<div class="section" id="id1122">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Added getUserProfileNames() interface</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1123">
<h2>WMS</h2>
<div class="section" id="id1124">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>JobWrapperTemplate - use sendJobAccounting() instead of sendWMSAccounting()</li>
<li>JobCleaningAgent - skip if no jobs to remove</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1125">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>WMSAdministrator - added getPilotStatistics() interface</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1126">
<h2>DMS</h2>
<div class="section" id="id1127">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FileCatalogClientCLI - bug fix in the metaquery construction</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1128">
<h2>Resources</h2>
<div class="section" id="id1129">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>StorageElement - enable Storage Element proxy configuration by protocol name</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1130">
<h2>TMS</h2>
<div class="section" id="id1131">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>TransformationManager - add Scheduled to task state for monitoring</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r11p4">
<h1>Version v6r11p4</h1>
<div class="section" id="id1132">
<h2>Framework</h2>
<div class="section" id="id1133">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>ProxyManagerHandler - purge logs once in 6 hours</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1134">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>ProxyDB - added primary key to ProxyDB_Log table</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1135">
<h2>DMS</h2>
<div class="section" id="id1136">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>DataManager - fix in the accounting report for deletion operation</li>
<li>dirac-dms-fts-monitor - fix for using the new FTS structure</li>
<li>DataLoggingDB - fix type of the StatusTimeOrder field</li>
<li>DataLoggingDB - take into account empty date argument in addFileRecord()</li>
<li>ReplicateAndRegister - use active replicas</li>
<li>FTS related modules - multiple fixes</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1137">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>FTSRequest - print FTS GUID when submitting request</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1138">
<h2>WMS</h2>
<div class="section" id="id1139">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>JobCleaningAgent - do not attempt job removal if no eligible jobs</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1140">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>SiteDirector - pass the list of already registered pilots to the CE.available() query</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1141">
<h2>Resources</h2>
<div class="section" id="id1142">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>LcgFileCatalogClient - if replica already exists while registration, reregister</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1143">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>CREAM, SSH, ComputingElement - consider only registered pilots to evaluate queue occupancy</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r11p3">
<h1>Version v6r11p3</h1>
<p>FIX: import gMonitor from it is original location</p>
<div class="section" id="id1144">
<h2>Core</h2>
<div class="section" id="id1145">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FC.Utilities - treat properly the LFN names starting with /grid ( /gridpp case )</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1146">
<h2>Configuration</h2>
<div class="section" id="id1147">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>LocalConfiguration - added exitCode optional argument to showHelp(), closes #1821</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1148">
<h2>WMS</h2>
<div class="section" id="id1149">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>StalledJobAgent - extra checks when failing Completed jobs, closes #1944</li>
<li>JobState - added protection against absent job in getStatus(), closes #1853</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r11p2">
<h1>Version v6r11p2</h1>
<div class="section" id="id1150">
<h2>Core</h2>
<div class="section" id="id1151">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-install - skip expectedBytes check if Content-Length not returned by server</li>
<li>AgentModule - demote message &quot;Cycle had an error:&quot; to warning</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1152">
<h2>Accounting</h2>
<div class="section" id="id1153">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>BaseReporter - protect against division by zero</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1154">
<h2>DMS</h2>
<div class="section" id="id1155">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>DataManager - bug fix in __initializeReplication()</li>
<li>DataManager - less verbose log message</li>
<li>DataManager - report the size of removed files only for successfully removed ones</li>
<li>File, FTSFile, FTSJob - SQL tables schema change: Size filed INTEGER -&gt; BIGINT</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1156">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>FileCatalogClientCLI - quite &quot;-q&quot; option in find command</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1157">
<h2>RMS</h2>
<div class="section" id="id1158">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-rms-reset-request, dirac-rms-show-request - fixes</li>
<li>ForwardDISET - execute with trusted host certificate</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1159">
<h2>Resources</h2>
<div class="section" id="id1160">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SSHComputingElement - SSHOptions are parsed at the wrong place</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1161">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>ComputingElement - evaluate the number of available cores if relevant</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1162">
<h2>WMS</h2>
<div class="section" id="id1163">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>JobMonitoringHander - added export_getOwnerGroup() interface</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1164">
<h2>TMS</h2>
<div class="section" id="id1165">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>TransformationCleaningAgent - instantiation of clients moved in the initialize()</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r11p1">
<h1>Version v6r11p1</h1>
<div class="section" id="id1166">
<h2>RMS</h2>
<div class="section" id="id1167">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ReqClient - failures due to banned sites are considered to be recoverable</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1168">
<h2>DMS</h2>
<div class="section" id="id1169">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-dms-replicate-and-register-request - minor bug fixes</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1170">
<h2>Resources</h2>
<div class="section" id="id1171">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>InProcessComputingElement - stop proxy renewal thread for a finished payload</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r11">
<h1>Version v6r11</h1>
<div class="section" id="id1172">
<h2>Core</h2>
<div class="section" id="id1173">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Client - fix in __getattr__() to provide dir() functionality</li>
<li>ObjectLoader - extensions must be looked up first for plug-ins</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1174">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>dirac-configure - use Registry helper to get VOMS servers information</li>
<li>Misc.py - removed obsoleted</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1175">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>added returnSingleResult() generic utility by moving it from Resources/Utils module</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1176">
<h2>Configuration</h2>
<div class="section" id="id1177">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Resources.getDIRACPlatform() returns a list of compatible DIRAC platforms</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1178">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Resources.getDIRACPlatforms() used to access platforms from /Resources/Computing/OSCompatibility section</li>
<li>Registry - added getVOs() and getVOMSServerInfo()</li>
<li>CE2CSAgent - added VO management</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1179">
<h2>Accounting</h2>
<div class="section" id="id1180">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>AccountingDB, Job - extra checks for invalid values</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1181">
<h2>WMS</h2>
<div class="section" id="id1182">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>TaskQueueDirector - use ObjectLoader to load directors</li>
<li>dirac-pilot - use Python 2.7 by default, 2014-04-09 LCG bundles</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1183">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>WMS tags to allow jobs require special site/CE/queue properties CHANGES: DownloadInputData, InputDataByProtocol, InputDataResolution - allows to get multiple PFNs for the protocol resolution</li>
<li>JobDB, JobMonitoringHandler - added traceJobParameters(s)() methods</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1184">
<h2>DMS</h2>
<div class="section" id="id1185">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>InputDataByProtocol - fix the case where file is only on tape</li>
<li>FTSAgent - multiple fixes</li>
<li>ReplicateAndRegister - do not ask SE with explicit SRM2 protocol</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1186">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>DataManager to replace ReplicaManager class ( simplification, streamlining )</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1187">
<h2>Interfaces</h2>
<div class="section" id="id1188">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Dirac - instantiate SandboxStoreClient and WMSClient when needed, not in the constructor</li>
<li>Job - removed setSystemConfig() method</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1189">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Job.py - added setTag() interface</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1190">
<h2>Resources</h2>
<div class="section" id="id1191">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>XROOTStorage, SRM2Storage - changes in PFN construction</li>
<li>SSHTorqueComputingElement - specify the SSHUser user for querying running/waiting jobs</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1192">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>StorageElement - changes to avoid usage PFNs</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1193">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>PoolComputingElement - a CE allowing to manage multi-core slots</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1194">
<h2>RSS</h2>
<div class="section" id="id1195">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>added commands dirac-rss-query-db and dirac-rss-query-dtcache</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1196">
<h2>RMS</h2>
<div class="section" id="id1197">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RequestTask - always execute operations with owner proxy</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1198">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>ReqDB - added Foreign Keys to ReqDB tables</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1199">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>dirac-rms-reset-request command</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1200">
<h2>SMS</h2>
<div class="section" id="id1201">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>few minor fixes to avoid pylint warnings</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r10p25">
<h1>Version v6r10p25</h1>
<div class="section" id="id1202">
<h2>DMS</h2>
<div class="section" id="id1203">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>FileCatalog - optimized file selection by metadata</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r10p24">
<h1>Version v6r10p24</h1>
<div class="section" id="id1204">
<h2>DMS</h2>
<div class="section" id="id1205">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FC.FileMetadata - optimized queries for list interception evaluation</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r10p23">
<h1>Version v6r10p23</h1>
<div class="section" id="resoures">
<h2>Resoures</h2>
<div class="section" id="id1206">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SSHComputingElement - use SharedArea path as $HOME by default</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1207">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>SSHComputingElement - allow SSH options to be passed from CS setup of SSH Computing Element</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r10p22">
<h1>Version v6r10p22</h1>
<div class="section" id="id1208">
<h2>CS</h2>
<div class="section" id="id1209">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Operations helper - if not given, determine the VO from the current proxy</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1210">
<h2>Resources</h2>
<div class="section" id="id1211">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>glexecComputingElement - allows Application Failed with Errors results to show through, rather than be masked by false &quot;glexec CE submission&quot; errors</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1212">
<h2>DMS</h2>
<div class="section" id="id1213">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>ReplicaManager - in getReplicas() rebuild PFN if &lt;Operations&gt;/DataManagement/UseCatalogPFN option is set to False ( True by default )</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r10p21">
<h1>Version v6r10p21</h1>
<div class="section" id="id1214">
<h2>Configuration</h2>
<div class="section" id="id1215">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>CSGlobals - allow to specify extensions in xxxDIRAC form in the CS</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1216">
<h2>Interfaces</h2>
<div class="section" id="id1217">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Job - removed self.reqParams</li>
<li>Job - setSubmitPools renamed to setSubmitPool, fixed parameter definition string</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1218">
<h2>WMS</h2>
<div class="section" id="id1219">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>JobMonitorigHandler, JobPolicy - allow JobMonitor property to access job information</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r10p20">
<h1>Version v6r10p20</h1>
<div class="section" id="id1220">
<h2>DMS</h2>
<div class="section" id="id1221">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FTSAgent/Client, ReplicateAndRegister - fixes to properly process failed FTS request scheduling</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r10p19">
<h1>Version v6r10p19</h1>
<div class="section" id="id1222">
<h2>DMS</h2>
<div class="section" id="id1223">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FTSAgent - putRequest when leaving processRequest</li>
<li>ReplicaManager - bug in getReplicas() in dictionary creation</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r10p18">
<h1>Version v6r10p18</h1>
<div class="section" id="id1224">
<h2>DMS</h2>
<div class="section" id="id1225">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ReplicateAndRegister - dictionary items incorrectly called in ftsTransfer()</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r10p17">
<h1>Version v6r10p17</h1>
<div class="section" id="id1226">
<h2>RMS</h2>
<div class="section" id="id1227">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RequestDB.py - typo in a table name</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1228">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>ReqManagerHandler - added getDistinctValues() to allow selectors in the web page</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1229">
<h2>DMS</h2>
<div class="section" id="id1230">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>ReplicaManager - bulk PFN lookup in getReplicas()</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r10p16">
<h1>Version v6r10p16</h1>
<div class="section" id="id1231">
<h2>Framework</h2>
<div class="section" id="id1232">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>PlottingClient - added curveGraph() function</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1233">
<h2>Transformation</h2>
<div class="section" id="id1234">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TaskManagerAgentBase - add the missing Scheduled state</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1235">
<h2>WMS</h2>
<div class="section" id="id1236">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TaskQueueDB - reduced number of lines in the matching parameters printout</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1237">
<h2>DMS</h2>
<div class="section" id="id1238">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-dms-show-se-status - exit on error in the service call, closes #1840</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="interface">
<h2>Interface</h2>
<div class="section" id="id1239">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>API.Job - removed special interpretation of obsoleted JDLreqt type parameters</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1240">
<h2>Resources</h2>
<div class="section" id="id1241">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SSHComputingElement - increased timeout in getJobStatusOnHost() ssh call, closes #1830</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r10p15">
<h1>Version v6r10p15</h1>
<div class="section" id="id1242">
<h2>DMS</h2>
<div class="section" id="id1243">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FTSAgent - added missing monitoring activity</li>
<li>FileCatalog - do not check directory permissions when creating / directory</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1244">
<h2>Resources</h2>
<div class="section" id="id1245">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SSHTorqueComputingElement - removed obsoleted stuff</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r10p14">
<h1>Version v6r10p14</h1>
<div class="section" id="id1246">
<h2>SMS</h2>
<div class="section" id="id1247">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RequestPreparationAgent - typo fixed</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r10p13">
<h1>Version v6r10p13</h1>
<div class="section" id="id1248">
<h2>SMS</h2>
<div class="section" id="id1249">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RequestPreparationAgent - use ReplicaManager to get active replicas</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1250">
<h2>DMS</h2>
<div class="section" id="id1251">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ReplicaManager - getReplicas returns all replicas ( in all statuses ) by default</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1252">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>FC/SecurityManager - give full ACL access to the catalog to groups with admin rights</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1253">
<h2>WMS</h2>
<div class="section" id="id1254">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>JobWrapper - do not set Completed status for the case with failed application thread</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1255">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>SiteDirector - changes to reduce the load on computing elements</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r10p12">
<h1>Version v6r10p12</h1>
<div class="section" id="id1256">
<h2>WMS</h2>
<div class="section" id="id1257">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>JobWrapper - the outputSandbox should be always uploaded (outsized, in failed job)</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1258">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Replace consistently everywhere SAM JobType by Test JobType</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1259">
<h2>DMS</h2>
<div class="section" id="id1260">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RemoveFile - bugfix</li>
<li>ReplicateAndRegister - fixes in the checksum check, retry failed FTS transfer with RM transfer</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1261">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>RegisterReplica request operation</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1262">
<h2>RMS</h2>
<div class="section" id="id1263">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ReqClient - fix in the request state machine</li>
<li>Request - enhance digest string</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1264">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>dirac-rms-show-request - allow selection of a request by job ID</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1265">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>dirac-dms-reset-request command</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1266">
<h2>TS</h2>
<div class="section" id="id1267">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationDB - in getTransformationParameters() dropped &quot;Submitted&quot; counter in the output</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r10p11">
<h1>Version v6r10p11</h1>
<div class="section" id="id1268">
<h2>Core</h2>
<div class="section" id="id1269">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>X509Chain - cast life time to int before creating cert</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1270">
<h2>Accounting</h2>
<div class="section" id="id1271">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>DataStoreClient - self.__maxRecordsInABundle = 5000 instead of 1000</li>
<li>JobPolicy - allow access for JOB_MONITOR property</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1272">
<h2>RMS</h2>
<div class="section" id="id1273">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ReqClient - fix the case when a job is Completed but in an unknown minor status</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1274">
<h2>Resources</h2>
<div class="section" id="id1275">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ProxyStorage - use checkArgumentFormat() instead of self.__checkArgumentFormatDict()</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r10p10">
<h1>Version v6r10p10</h1>
<div class="section" id="id1276">
<h2>DMS</h2>
<div class="section" id="id1277">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Several fixes to make FTS accounting working (FTSAgent/Job, ReplicaManager, File )</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r10p9">
<h1>Version v6r10p9</h1>
<div class="section" id="id1278">
<h2>Core</h2>
<div class="section" id="id1279">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>LineGraph - Ymin was set to a minimal plot value rather than 0.</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1280">
<h2>DMS</h2>
<div class="section" id="id1281">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>FTSJob(Agent) - get correct information for FTS accounting (registration)</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r10p8">
<h1>Version v6r10p8</h1>
<div class="section" id="id1282">
<h2>Core</h2>
<div class="section" id="id1283">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>InstallTools - admin e-mail default location changed</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1284">
<h2>Framework</h2>
<div class="section" id="id1285">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SystemAdministratorClientCLI - allow &quot;set host localhost&quot;</li>
<li>BundleDelivery - protect against empty bundle</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1286">
<h2>WMS</h2>
<div class="section" id="id1287">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SiteDirector - Pass siteNames and ceList as None if any is accepted</li>
<li>WorkloadManagement.ConfigTemplate.SiteDorectory - set Site to Any by default</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1288">
<h2>DMS</h2>
<div class="section" id="id1289">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FileCatalogCLI - ignore Datasets in ls command for backward compatibility</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1290">
<h2>Resources</h2>
<div class="section" id="id1291">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SSH - some platforms use Password instead of password prompt</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r10p7">
<h1>Version v6r10p7</h1>
<div class="section" id="id1292">
<h2>Core</h2>
<div class="section" id="id1293">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-install - execute dirac-fix-mysql-script and dirac-external-requirements after sourcing the environment</li>
<li>InstallTools - set basedir variable in fixMySQLScript()</li>
<li>InstallTools - define user <a class="reference external" href="mailto:root&#64;host.domain">root&#64;host.domain</a> in installMySQL()</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1294">
<h2>Framework</h2>
<div class="section" id="id1295">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SystemAdministratorCLI - bug fixed in default() call signature</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1296">
<h2>DMS</h2>
<div class="section" id="id1297">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FTSRequest - handle properly FTS server in the old system</li>
<li>ReplicaManager - check if file is in FC before removing</li>
<li>Request/RemovalTask - handle properly proxies for removing files</li>
<li>DatasetManager - in the table description</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r10p6">
<h1>Version v6r10p6</h1>
<div class="section" id="id1298">
<h2>Core</h2>
<div class="section" id="id1299">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>X509Certificate - reenabled fix in getDIRACGroup()</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1300">
<h2>Configuration</h2>
<div class="section" id="id1301">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>CSAPI - Group should be taken from the X509 chain and not the certificate</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1302">
<h2>RMS</h2>
<div class="section" id="id1303">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>ReqClient - if the job does not exist, do not try further finalization</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r10p5">
<h1>Version v6r10p5</h1>
<div class="section" id="id1304">
<h2>Core</h2>
<div class="section" id="id1305">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>X509Certificate - reverted fix in getDIRACGroup()</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r10p4">
<h1>Version v6r10p4</h1>
<div class="section" id="id1306">
<h2>Core</h2>
<div class="section" id="id1307">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>X509Certificate - bug fixed in getDIRACGroup()</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1308">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>PrettyPrint - extra options in printTable()</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1309">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>dirac-info - extra printout</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1310">
<h2>Framework</h2>
<div class="section" id="id1311">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>SystemAdministratorCLI - new showall command to show components across hosts</li>
<li>ProxyDB - allow to upload proxies without DIRAC group</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1312">
<h2>RMS</h2>
<div class="section" id="id1313">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>ReqClient - requests from failed jobs update job status to Failed</li>
<li>RequestTask - retry in the request finalize()</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r10p3">
<h1>Version v6r10p3</h1>
<div class="section" id="id1314">
<h2>Configuration</h2>
<div class="section" id="id1315">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Registry - allow to define a default group per user</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1316">
<h2>WMS</h2>
<div class="section" id="id1317">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>JobReport - typo in generateForwardDISET()</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r10p2">
<h1>Version v6r10p2</h1>
<div class="section" id="id1318">
<h2>TMS</h2>
<div class="section" id="id1319">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Backward compatibility fixes when setting the Transformation files status</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1320">
<h2>DMS</h2>
<div class="section" id="id1321">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ReplicateAndRegister - bugfix when replicating to multiple destination by ReplicaManager</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1322">
<h2>WMS</h2>
<div class="section" id="id1323">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>JobManager - bug fix when deleting no-existing jobs</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r10p1">
<h1>Version v6r10p1</h1>
<div class="section" id="id1324">
<h2>RMS</h2>
<div class="section" id="id1325">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ReqDB.Operations - Arguments field changed type from BLOB to MEDIUMBLOB</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1326">
<h2>DMS</h2>
<div class="section" id="id1327">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FileCatalog - check for non-exiting directories in removeDirectory()</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1328">
<h2>TMS</h2>
<div class="section" id="id1329">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationDB - removed constraint that was making impossible to derive a production</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r10">
<h1>Version v6r10</h1>
<div class="section" id="id1330">
<h2>Core</h2>
<div class="section" id="id1331">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Several fixes on DB classes(AccountingDB, SystemLoggingDB, UserProfileDB, TransformationDB, JobDB, PilotAgentsDB) after the new movement to the new MySQL implementation with a persistent connection per running thread</li>
<li>DIRAC.__init__.py - avoid re-definition of platform variable</li>
<li>InstallTools - fix for creation of the <a class="reference external" href="mailto:root&#64;'host">root&#64;'host</a>' user in MySQL</li>
<li>dirac-install - create links to permanent directories before module installation</li>
<li>dirac-install - fixBuildPath() operates only on files in the directory</li>
<li>VOMSService - added X-VOMS-CSRF-GUARD to the html header to be compliant with EMI-3 servers</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1332">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>InstallTools - use printTable() utility for table printing</li>
<li>move printTable() utility to Core.Utilities.PrettyPrint</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1333">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>SystemAdministratorCLI - better support for executing remote commands</li>
<li>Graphs - added CurveGraph class to draw non-stacked lines with markers</li>
<li>Graphs - allow graphs with negative Y values</li>
<li>Graphs - allow to provide errors with the data and display them in the CurveGraph</li>
<li>added installation configuration examples</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1334">
<h2>CS</h2>
<div class="section" id="id1335">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>getVOMSVOForGroup() uses the VOMSName option of the VO definition</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1336">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>CE2CSAgent - added ARC CE information lookup</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1337">
<h2>Framework</h2>
<div class="section" id="id1338">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SystemAdministratorIntegrator - use Host option to get the host address in addition to the section name, closes #1628</li>
<li>dirac-proxy-init - uses getVOMSVOForGroup() when adding VOMS extensions</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1339">
<h2>DMS</h2>
<div class="section" id="id1340">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransferAgent - protection against badly defined LFNs in collectFiles()</li>
<li>StorageFactory, ReplicaManager - resolve SE alias name recursively</li>
<li>FTSRequest, ReplicaManager, SRM2Storage - use current proxy owner as user name in accounting reports, closes #1602</li>
<li>FileCatalogClientCLI - bug fix in do_ls, missing argument to addFile() call, closes #1658</li>
<li>FileCatalog - initial argument check strips off leading lfn:, LFN:, /grid, closes #448</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1341">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>DFC - optimization and bug fixes of the bulk file addition</li>
<li>DFC - added new option VisibleReplicaStatus which is used in replica getting commands</li>
<li>FileCatalogClientCLI client shows number of replicas in the 2nd column rather than unimplemented number of links</li>
<li>DFC - optimizations for the bulk replica look-up</li>
<li>DFC updated scalability testing tool FC_Scaling_test.py</li>
<li>DFC - optimized getDirectoryReplicas()</li>
<li>FileCatalogClient - treat the reduced output from various service queries restoring LFNs and PFNs on the fly</li>
<li>FileCatalog - do not return PFNs, construct them on the client side</li>
<li>FileCatalog - simplified FC_Scaling_test.py script</li>
<li>multiple new FTS system fixes</li>
<li>uniform argument checking with checkArgumentFormat() in multiple modules</li>
<li>FileCatalog - add Trash to the default replica valid statuses</li>
<li>ReplicaManager,FTSRequest,StorageElement - no use of PFN as returned by the FC except for file removal, rather constructing it always on the fly</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1342">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>DFC - added getDirectoryReplicas() service method support similar to the LFC</li>
<li>DFC - methods returning replicas provide also SE definitions instead of PFNs to construct PFNs on the client side</li>
<li>DFC - added getReplicasByMetadata() interface</li>
<li>DFC - LFNPFNConvention flag can be None, Weak or Strong to facilitate compatibility with LFC data</li>
<li>FileCatalog/DatasetManager class to define and manipulate datasets corresponding to meta queries</li>
<li>FileCatalogHandler - new interface methods to expose DatasetManager functionality</li>
<li>FileCatalogClientCLI - new dataset family of commands</li>
<li>FileCatalog - added new setMetadataBulk() interface, closes #1358</li>
<li>FileCatalog - added new setFileStatus() interface, closes #170, valid and visible file and replica statuses can be defined in respective options.</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1343">
<h2>SMS</h2>
<div class="section" id="id1344">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>PinRequestAgent, SENamespaceCatalogCheckAgent - removed</li>
<li>Use StorageManagerClient instead of StorageDB directly</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1345">
<h2>WMS</h2>
<div class="section" id="id1346">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SiteDirector - take into account the target queue Platform</li>
<li>JobDB - bug in __insertNewJDL()</li>
<li>JobScheduling executor - fix race condition that causes a job to remain in Staging</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1347">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>JobPolicy - optimization for bulk job verification</li>
<li>JobMonitoringHandler - Avoid doing a selection of all Jobs, first count matching jobs and then use &quot;limit&quot; to select only the required JobIDs.</li>
<li>dirac-admin-show-task-queues - enhanced output</li>
<li>JobLoggingDB.sql - use trigger to manage the new LoggingInfo structure</li>
<li>JobWrapper - trying several times to upload a request before declaring the job failed</li>
<li>Allow usage of non-plural form of the job requirement options ( PilotType, GridCE, BannedSite, SubmitPool ), keep backward compatibility with a plural form</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1348">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>JobPolicy - added getControlledUsers() to get users which jobs can be accessed for a given operation</li>
<li>JobMonitoringHandler - use JobPolicy to filter jobs in getJobSummaryWeb()</li>
<li>new Operations option /Services/JobMonitoring/GlobalJobsInfo ( True by default ) to allow or not job info lookup by anybody, used in JobMonitoringHandler</li>
<li>SiteDirector - do not touch sites for which there is no work available</li>
<li>SiteDirector - allow sites not in mask to take jobs with JobType Test</li>
<li>SiteDirector - allow 1 hour grace period for pilots in Unknown state before aborting them</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1349">
<h2>RSS</h2>
<div class="section" id="id1350">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>DowntimeCommand - take the latest Downtime that fits</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1351">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>porting new Policies from integration</li>
<li>RSS SpaceToken command querying endpoints/tokens that exist</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1352">
<h2>Resources</h2>
<div class="section" id="id1353">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>CREAMComputingElement - extra checks for validity of returned pilot references</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1354">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>added SSHOARComputingElement class</li>
<li>added XROOTStorage class</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1355">
<h2>TS</h2>
<div class="section" id="id1356">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationClient(Handler) - few minor fixes</li>
<li>TransformationAgent - added MissingInFC to consider for Removal transformations</li>
<li>TransformationAgent - in _getTransformationFiles() variable 'now' was not defined</li>
<li>TransformationDB.sql - DataFiles primary key is changed to (FileID) from (FileID,LFN)</li>
<li>TaskManager(AgentBase) - consider only submitted tasks for updating status</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1357">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>TransformationClient(DB,Manager) - set file status for transformation as bulk operation</li>
<li>TransformationClient - applying state machine when changing transformation status</li>
<li>TransformationDB(Client) - fixes to reestablish the FileCatalog interface</li>
<li>TransformationDB(.sql) - schema changes suitable for InnoDB</li>
<li>TransformationDB(.sql) - added index on LFN in DataFiles table</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1358">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>TransformationDB - backported __deleteTransformationFileTask(s) methods</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1359">
<h2>RMS</h2>
<div class="section" id="id1360">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>RequestContainer - Retry failed transfers 10 times and avoid sub-requests to be set Done when the files are failed</li>
<li>Use a unique name for storing the proxy as processes may use the same &quot;random&quot; name and give conflicts</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1361">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Migrate to use the new Request Management by all the clients</li>
<li>RequestClient(Handler) - add new method readRequest( requestname)</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1362">
<h2>Workflow</h2>
<div class="section" id="id1363">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Porting the LHCb Workflow package to DIRAC to make the use of general purpose modules and simplify construction of workflows</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r9p33">
<h1>Version v6r9p33</h1>
<div class="section" id="id1364">
<h2>Accounting</h2>
<div class="section" id="id1365">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>AccountingDB - wrong indentation</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r9p32">
<h1>Version v6r9p32</h1>
<div class="section" id="id1366">
<h2>Accounting</h2>
<div class="section" id="id1367">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>AccountingDB - use old style grouping if the default grouping is altered, e.g. by Country</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r9p31">
<h1>Version v6r9p31</h1>
<div class="section" id="id1368">
<h2>Accounting</h2>
<div class="section" id="id1369">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>AccountingDB - changes to speed up queries: use &quot;values&quot; in GROUP By clause; drop duplicate indexes; reorder fields in the UniqueConstraint index of the &quot;bucket&quot; tables</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r9p30">
<h1>Version v6r9p30</h1>
<div class="section" id="id1370">
<h2>DMS</h2>
<div class="section" id="id1371">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>FileCatalogFactory - construct CatalogURL from CatalogType by default</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1372">
<h2>SMS</h2>
<div class="section" id="id1373">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-stager-stage-files - changed the order of the arguments</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r9p29">
<h1>Version v6r9p29</h1>
<div class="section" id="id1374">
<h2>TS</h2>
<div class="section" id="id1375">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TaskManager(AgentBase) - fix for considering only submitted tasks</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r9p28">
<h1>Version v6r9p28</h1>
<div class="section" id="id1376">
<h2>TS</h2>
<div class="section" id="id1377">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationDB(ManagerHandler) - several portings from v6r10</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r9p27">
<h1>Version v6r9p27</h1>
<div class="section" id="id1378">
<h2>SMS</h2>
<div class="section" id="id1379">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>StorageManagementDB - in removeUnlinkedReplicas() second look for CacheReplicas for which there is no entry in StageRequests</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r9p26">
<h1>Version v6r9p26</h1>
<div class="section" id="id1380">
<h2>Resources</h2>
<div class="section" id="id1381">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>CREAMComputigElement - Make sure that pilots submitted to CREAM get a fresh proxy during their complete lifetime</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1382">
<h2>Framework</h2>
<div class="section" id="id1383">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ProxyDB - process properly any SQLi with DNs/groups with 's in the name</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r9p25">
<h1>Version v6r9p25</h1>
<div class="section" id="id1384">
<h2>TS</h2>
<div class="section" id="id1385">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationClient - fixes for processing of derived transformations</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1386">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>TransformationClient - changed default timeout values for service calls</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r9p24">
<h1>Version v6r9p24</h1>
<div class="section" id="id1387">
<h2>TS</h2>
<div class="section" id="id1388">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationClient - in moveFilesToDerivedTransformation() set file status to Moved-&lt;prod&gt;</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r9p23">
<h1>Version v6r9p23</h1>
<div class="section" id="id1389">
<h2>Core</h2>
<div class="section" id="id1390">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>InstallTools - improper configuration prevents a fresh new installation</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1391">
<h2>WMS</h2>
<div class="section" id="id1392">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>PilotDirector - Operations Helper non-instantiated</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r9p22">
<h1>Version v6r9p22</h1>
<div class="section" id="id1393">
<h2>WMS</h2>
<div class="section" id="id1394">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>PilotDirector - allow to properly define extensions to be installed by the Pilot differently to those installed at the server</li>
<li>Watchdog - convert pid to string in ProcessMonitor</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1395">
<h2>TS</h2>
<div class="section" id="id1396">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationDB - splitting files in chunks</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1397">
<h2>DMS</h2>
<div class="section" id="id1398">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>update dirac-dms-xxx commands to use the new RMS client, strip lines when reading LFNs from a file</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1399">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>dirac-dms-create-removal-request command</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r9p21">
<h1>Version v6r9p21</h1>
<div class="section" id="id1400">
<h2>TS</h2>
<div class="section" id="id1401">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Transformation(Client,DB,Manager) - restored FileCatalog compliant interface</li>
<li>TransformationDB - fix in __insertIntoExistingTransformationFiles()</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r9p20">
<h1>Version v6r9p20</h1>
<div class="section" id="id1402">
<h2>Core</h2>
<div class="section" id="id1403">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ProxyUpload - an on the fly upload does not require a proxy to exist</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1404">
<h2>DMS</h2>
<div class="section" id="id1405">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FailoverTransfer - recording the sourceSE in case of failover transfer request</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1406">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>TransferAgent - use compareAdler() for checking checksum</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1407">
<h2>WMS</h2>
<div class="section" id="id1408">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ProcessMonitor - some fixes added, printout when &lt;1 s of consumed CPU is found</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1409">
<h2>Transformation</h2>
<div class="section" id="id1410">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationClient - fixed return value in moveFilesToDerivedTransformation()</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1411">
<h2>RMS</h2>
<div class="section" id="id1412">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>CleanReqDBAgent - now() -&gt; utcnow() in initialize()</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1413">
<h2>Resources</h2>
<div class="section" id="id1414">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ARCComputingElement - fix the parsing of CE status if no jobs are available</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r9p19">
<h1>Version v6r9p19</h1>
<div class="section" id="id1415">
<h2>DMS</h2>
<div class="section" id="id1416">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FileCatalog/DirectoryMetadata - inherited metadata is used while selecting directories in findDirIDsByMetadata()</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r9p18">
<h1>Version v6r9p18</h1>
<div class="section" id="id1417">
<h2>DMS</h2>
<div class="section" id="id1418">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FTSSubmitAgent, FTSRequest - fixes the staging mechanism in the FTS transfer submission</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1419">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>TransferDBMonitoringHandler - added getFilesForChannel(), resetFileChannelStatus()</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r9p17">
<h1>Version v6r9p17</h1>
<div class="section" id="id1420">
<h2>Accounting</h2>
<div class="section" id="id1421">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>DataStoreClient - send accounting records in batches of 1000 records instead of 100</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1422">
<h2>DMS:</h2>
<div class="section" id="id1423">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FailoverTransfer - catalog name from list to string</li>
<li>FTSSubmitAgent, FTSRequest - handle FTS3 as new protocol and fix bad submission time</li>
<li>FTSSubmitAgent, FTSRequest - do not submit FTS transfers for staging files</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1424">
<h2>WMS</h2>
<div class="section" id="id1425">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TaskQueueDB - do not check enabled when TQs are requested from Directors</li>
<li>TaskQueueDB - check for Enabled in the TaskQueues when inserting jobs to print an alert</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1426">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>TaskQueueDB - each TQ can have at most 5k jobs, if beyond the limit create a new TQ to prevent long matching times when there are way too many jobs in a single TQ</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r9p16">
<h1>Version v6r9p16</h1>
<div class="section" id="id1427">
<h2>TS</h2>
<div class="section" id="id1428">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>typos in TransformationCleaningAgent.py</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1429">
<h2>DMS</h2>
<div class="section" id="id1430">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>DownloadInputData - try to download only Cached replicas</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1431">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>DownloadInputData - check the available disk space in the right input data directory</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r9p15">
<h1>Version v6r9p15</h1>
<div class="section" id="id1432">
<h2>Core</h2>
<div class="section" id="id1433">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>MySQL - do not decrease the retry counter after ping failure</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1434">
<h2>DMS</h2>
<div class="section" id="id1435">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RemovalTask - fix error string when removing a non existing file (was incompatible with the LHCb BK client).</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1436">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>FC/DirectoryMetadata - Speed up findFilesByMetadataWeb when many files match</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1437">
<h2>WMS</h2>
<div class="section" id="id1438">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>JobReport - minor fix ( removed unused imports )</li>
<li>JobMonitoring(JobStateUpdate)Handler - jobID argument can be either string, int or long</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1439">
<h2>TS</h2>
<div class="section" id="id1440">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FileReport - minor fix ( inherits object )</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1441">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>TransformationClient - change status of Moved files to a deterministic value</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r9p14">
<h1>Version v6r9p14</h1>
<div class="section" id="id1442">
<h2>DMS</h2>
<div class="section" id="id1443">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>FTSDB - changed schema: removing FTSSite table. From now on FTS sites would be read from CS Resources</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r9p13">
<h1>Version v6r9p13</h1>
<p>FIX: included fixes from v6r8p26 patch release</p>
</div>
<div class="section" id="version-v6r9p12">
<h1>Version v6r9p12</h1>
<p>FIX: included fixes from v6r8p25 patch release</p>
</div>
<div class="section" id="version-v6r9p11">
<h1>Version v6r9p11</h1>
<div class="section" id="id1444">
<h2>DMS</h2>
<div class="section" id="id1445">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FTSRequest - in __resolveFTSServer() type &quot;=&quot; -&gt; &quot;==&quot;</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r9p10">
<h1>Version v6r9p10</h1>
<p>FIX: included fixes from v6r8p24 patch release</p>
<div class="section" id="id1446">
<h2>Core</h2>
<div class="section" id="id1447">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>StateMachine utility</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1448">
<h2>DMS</h2>
<div class="section" id="id1449">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>in RegisterFile operation handler</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1450">
<h2>Interfaces</h2>
<div class="section" id="id1451">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Dirac.py - in splitInputData() consider only Active replicas</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r9p9">
<h1>Version v6r9p9</h1>
<div class="section" id="id1452">
<h2>RMS</h2>
<div class="section" id="id1453">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RequestDB - added getRequestFileStatus(), getRequestName() methods</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r9p8">
<h1>Version v6r9p8</h1>
<div class="section" id="id1454">
<h2>DMS</h2>
<div class="section" id="id1455">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RequestDB - get correct digest ( short request description ) of a request</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r9p7">
<h1>Version v6r9p7</h1>
<p>FIX: included fixes from v6r8p23 patch release</p>
<div class="section" id="id1456">
<h2>RSS</h2>
<div class="section" id="id1457">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SpaceTokenOccupancyPolicy - SpaceToken Policy decision was based on percentage by mistake</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1458">
<h2>RMS</h2>
<div class="section" id="id1459">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FTSAgent - setting space tokens for newly created FTSJobs</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1460">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>new scripts dirac-dms-ftsdb-summary, dirac-dms-show-ftsjobs</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r9p6">
<h1>Version v6r9p6</h1>
<div class="section" id="id1461">
<h2>DMS</h2>
<div class="section" id="id1462">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-admin-add-ftssite - missing import</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1463">
<h2>RMS</h2>
<div class="section" id="id1464">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>RequestDB, ReqManagerHandler - added getRequestStatus() method</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1465">
<h2>TS</h2>
<div class="section" id="id1466">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>fixes when using new RequestClient with the TransformationCleaningAgent</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1467">
<h2>WMS</h2>
<div class="section" id="id1468">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>typo in SandboxStoreHandler transfer_fromClient() method</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r9p5">
<h1>Version v6r9p5</h1>
<div class="section" id="id1469">
<h2>DMS</h2>
<div class="section" id="id1470">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>missing proxy in service env in the FTSManager service. By default service will use DataManager proxy refreshed every 6 hours.</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1471">
<h2>Resources</h2>
<div class="section" id="id1472">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>StorageElement - new checkAccess policy: split the self.checkMethods in self.okMethods. okMethods are the methods that do not use the physical SE. The isValid returns S_OK for all those immediately</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1473">
<h2>RSS</h2>
<div class="section" id="id1474">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SpaceTokenOccupancyPolicy - Policy that now takes into account absolute values for the space left</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1475">
<h2>TS</h2>
<div class="section" id="id1476">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationCleaningAgent - will look for both old and new RMS</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r9p4">
<h1>Version v6r9p4</h1>
<div class="section" id="stager">
<h2>Stager</h2>
<div class="section" id="id1477">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Stager API: dirac-stager-monitor-file, dirac-stager-monitor-jobs, dirac-stager-monitor-requests, dirac-stager-show-stats</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r9p3">
<h1>Version v6r9p3</h1>
<div class="section" id="id1478">
<h2>Transformation</h2>
<div class="section" id="id1479">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationCleaning Agent status was set to 'Deleted' instead of 'Cleaned'</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r9p2">
<h1>Version v6r9p2</h1>
<div class="section" id="id1480">
<h2>RSS</h2>
<div class="section" id="id1481">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>removed old &amp; unused code</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1482">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Added Component family tables and statuses</li>
<li>allow RSS policies match wild cards on CS</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1483">
<h2>WMS</h2>
<div class="section" id="id1484">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FailoverTransfer,JobWrapper - proper propagation of file metadata</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r9p1">
<h1>Version v6r9p1</h1>
<div class="section" id="id1485">
<h2>RMS</h2>
<div class="section" id="id1486">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>FTSJob - add staging flag in in submitFTS2</li>
<li>Changes in WMS (FailoverTransfer, JobReport, JobWrapper, SandboxStoreHandler) and TS (FileReport) to follow the new RMS.</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1487">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>FTSAgent - update rwAccessValidStamp, update ftsGraphValidStamp, new option for staging files before submission, better log handling here and there</li>
<li>Full CRUD support in RMS.</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1488">
<h2>RSS</h2>
<div class="section" id="id1489">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>ResourceManagementDB - new table ErrorReportBuffer</li>
<li>new ResourceManagementClient methods - insertErrorReportBuffer, selectErrorReportBuffer, deleteErrorReportBuffer</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r9">
<h1>Version v6r9</h1>
<p>NEW: Refactored Request Management System, related DMS agents and FTS management</p>
<blockquote>
components</blockquote>
</div>
<div class="section" id="version-v6r8p28">
<h1>Version v6r8p28</h1>
<div class="section" id="id1490">
<h2>Core</h2>
<div class="section" id="id1491">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RequestHandler - the lock Name includes ActionType/Action</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1492">
<h2>DMS</h2>
<div class="section" id="id1493">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-dms-filecatalog-cli - prevent exception in case of missing proxy</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r8p27">
<h1>Version v6r8p27</h1>
<div class="section" id="id1494">
<h2>DMS</h2>
<div class="section" id="id1495">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-dms-add-file - fixed typo item -&gt; items</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r8p26">
<h1>Version v6r8p26</h1>
<div class="section" id="id1496">
<h2>Core</h2>
<div class="section" id="id1497">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>RequestHandler - added getServiceOption() to properly resolve inherited options in the global service handler initialize method</li>
<li>FileCatalogHandler, StorageElementHandler - use getServiceOption()</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r8p25">
<h1>Version v6r8p25</h1>
<p>FIX: included fixes from v6r7p40 patch release</p>
<div class="section" id="id1498">
<h2>Resources</h2>
<div class="section" id="id1499">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SRM2Storage - do not account gfal_ls operations</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r8p24">
<h1>Version v6r8p24</h1>
<p>FIX: included fixes from v6r7p39 patch release</p>
<div class="section" id="id1500">
<h2>Core</h2>
<div class="section" id="id1501">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SiteSEMapping was returning wrong info</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1502">
<h2>DMS</h2>
<div class="section" id="id1503">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FTSRequest - choose explicitly target FTS point for RAL and CERN</li>
<li>StrategyHandler - wrong return value in __getRWAccessForSE()</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1504">
<h2>Resources</h2>
<div class="section" id="id1505">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>SRM2Storage - do not account gfal_ls operations any more</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r8p23">
<h1>Version v6r8p23</h1>
<p>FIX: included fixes from v6r7p37 patch release</p>
<div class="section" id="id1506">
<h2>TS</h2>
<div class="section" id="id1507">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationDB - allow tasks made with ProbInFC files</li>
<li>TransformationCleaingAgent,Client - correct setting of transformation status while cleaning</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r8p22">
<h1>Version v6r8p22</h1>
<p>FIX: included fixes from v6r7p36 patch release</p>
</div>
<div class="section" id="version-v6r8p21">
<h1>Version v6r8p21</h1>
<div class="section" id="id1508">
<h2>DMS</h2>
<div class="section" id="id1509">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FileCatalog/DirectoryMetadata - even if there is no meta Selection the path should be considered when getting Compatible Metadata</li>
<li>FileCatalog/DirectoryNodeTree - findDir will return S_OK( '' ) if dir not found, always return the same error from DirectoryMetadata in this case.</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1510">
<h2>RSS</h2>
<div class="section" id="id1511">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>DowntimeCommand - use UTC time stamps</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1512">
<h2>TS</h2>
<div class="section" id="id1513">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationAgent - in _getTransformationFiles() get also ProbInFC files in addition to Used</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r8p20">
<h1>Version v6r8p20</h1>
<div class="section" id="id1514">
<h2>Stager</h2>
<div class="section" id="id1515">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Stager API: dirac-stager-monitor-file, dirac-stager-monitor-jobs, dirac-stager-monitor-requests, dirac-stager-show-stats</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r8p19">
<h1>Version v6r8p19</h1>
<div class="section" id="id1516">
<h2>Transformation</h2>
<div class="section" id="id1517">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationCleaning Agent status was set to 'Deleted' instead of 'Cleaned'</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r8p18">
<h1>Version v6r8p18</h1>
<div class="section" id="id1518">
<h2>TS</h2>
<div class="section" id="id1519">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationAgent - regression in __cleanCache()</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r8p17">
<h1>Version v6r8p17</h1>
<p>FIX: included fixes from v6r7p32 patch release</p>
<div class="section" id="id1520">
<h2>WMS</h2>
<div class="section" id="id1521">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>StalledJobAgent - for accidentally stopped jobs ExecTime can be not set, set it to CPUTime for the accounting purposes in this case</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r8p16">
<h1>Version v6r8p16</h1>
<p>FIX: included fixes from v6r7p31 patch release</p>
<div class="section" id="id1522">
<h2>WMS</h2>
<div class="section" id="id1523">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TaskQueueDB - fixed a bug in the negative matching conditions SQL construction</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1524">
<h2>RSS</h2>
<div class="section" id="id1525">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Minor changes to ensure consistency if ElementInspectorAgent and users interact simultaneously with the same element</li>
<li>SummarizeLogsAgent - the logic of the agent was wrong, the agent has been re-written.</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1526">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>removed DatabaseCleanerAgent ( to be uninstalled if already installed )</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1527">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>improved doc strings of PEP, PDP modules ( part of PolicySystem )</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r8p15">
<h1>Version v6r8p15</h1>
<div class="section" id="id1528">
<h2>Core</h2>
<div class="section" id="id1529">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>X509Chain - fix invalid information when doing dirac-proxy-info without CS ( in getCredentials() )</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1530">
<h2>RSS</h2>
<div class="section" id="id1531">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>PDP, PEP - added support for option &quot;doNotCombineResult&quot; on PDP</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r8p14">
<h1>Version v6r8p14</h1>
<div class="section" id="id1532">
<h2>Core</h2>
<div class="section" id="id1533">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-deploy-scripts - can now work with the system python</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1534">
<h2>WMS</h2>
<div class="section" id="id1535">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Executor/InputData - Add extra check for LFns in InputData optimizer, closes #1472</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1536">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>dirac-wms-cpu-normalization - added -R option to modify a given configuration file</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1537">
<h2>Transformation</h2>
<div class="section" id="id1538">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationAgent - bug in __cleanCache() dict modified in a loop</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1539">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>TransformationAgent - add possibility to kick a transformation (not skip it if no unused files), by touching a file in workDirectory</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r8p13">
<h1>Version v6r8p13</h1>
<div class="section" id="id1540">
<h2>Transformation</h2>
<div class="section" id="id1541">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationDB - restored import of StringType</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r8p12">
<h1>Version v6r8p12</h1>
<p>NEW: Applied patches from v6r7p29</p>
<div class="section" id="id1542">
<h2>WMS</h2>
<div class="section" id="id1543">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>JobDB - check if SystemConfig is present in the job definition and convert it into Platform</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1544">
<h2>DMS</h2>
<div class="section" id="id1545">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ReplicaManager - do not get metadata of files when getting files in a directory if not strictly necessary</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1546">
<h2>RSS</h2>
<div class="section" id="id1547">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>ported from LHCb PublisherHandler for RSS web views</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r8p11">
<h1>Version v6r8p11</h1>
<p>NEW: Applied patches from v6r7p27</p>
<div class="section" id="id1548">
<h2>RSS</h2>
<div class="section" id="id1549">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>SpaceTokenOccupancyPolicy - ported from LHCbDIRAC</li>
<li>db._checkTable done on service initialization ( removed dirac-rss-setup script doing it )</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1550">
<h2>Transformation</h2>
<div class="section" id="id1551">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TaskManager - reset oJob for each task in prepareTransformationTasks()</li>
<li>ValidateOutputDataAgent - typo fixed in getTransformationDirectories()</li>
<li>TransformationManagerHandler - use CS to get files statuses not to include in processed file fraction calculation for the web monitoring pages</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r8p10">
<h1>Version v6r8p10</h1>
<p>NEW: Applied patches from v6r7p27</p>
</div>
<div class="section" id="version-v6r8p9">
<h1>Version v6r8p9</h1>
<div class="section" id="id1552">
<h2>DMS</h2>
<div class="section" id="id1553">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransferAgent,dirac-dms-show-se-status, ResourceStatus,TaskManager - fixes needed for DMS components to use RSS status information</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1554">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>ReplicaManager - allow to get metadata for an LFN+SE as well as PFN+SE</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r8p8">
<h1>Version v6r8p8</h1>
<div class="section" id="id1555">
<h2>RSS</h2>
<div class="section" id="id1556">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-rss-setup - added missing return of S_OK() result</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r8p7">
<h1>Version v6r8p7</h1>
<p>NEW: Applied patches from v6r7p24</p>
<div class="section" id="id1557">
<h2>DMS</h2>
<div class="section" id="id1558">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>LcgFileCatalogClient - bug in addFile()</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1559">
<h2>RSS</h2>
<div class="section" id="id1560">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>fixed script dirac-rss-set-token, broken in the current release.</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1561">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Statistics module - will be used in the future to provide detailed information from the History of the elements</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r8p6">
<h1>Version v6r8p6</h1>
<p>NEW: Applied patches from v6r7p23</p>
<div class="section" id="id1562">
<h2>Transformation</h2>
<div class="section" id="id1563">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TaskManager - allow prepareTransformationTasks to proceed if no OutputDataModule is defined</li>
<li>TransformationDB - remove INDEX(TaskID) from TransformationTasks. It produces a single counter for the whole table instead of one per TransformationID</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1564">
<h2>WMS</h2>
<div class="section" id="id1565">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>WMSUtilities - to allow support for EMI UI's for pilot submission we drop support for glite 3.1</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r8p5">
<h1>Version v6r8p5</h1>
<p>NEW: Applied patches from v6r7p22</p>
<div class="section" id="id1566">
<h2>RSS</h2>
<div class="section" id="id1567">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>removed old tests and commented out files</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1568">
<h2>WMS</h2>
<div class="section" id="id1569">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>PoolXMLCatalog - proper addFile usage</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1570">
<h2>Transformation</h2>
<div class="section" id="id1571">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>TransformationAgent - clear replica cache when flushing or setting a file in the workdirectory</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r8p4">
<h1>Version v6r8p4</h1>
<div class="section" id="id1572">
<h2>Transformation</h2>
<div class="section" id="id1573">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>The connection to the jobManager is done only at submission time</li>
<li>Jenkins complaints fixes</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1574">
<h2>WMS</h2>
<div class="section" id="id1575">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>JobDB - CPUtime -&gt; CPUTime</li>
<li>Jenkins complaints fixes</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r8p3">
<h1>Version v6r8p3</h1>
<div class="section" id="id1576">
<h2>DMS</h2>
<div class="section" id="id1577">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>LcgFileCatalogClient</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r8p2">
<h1>Version v6r8p2</h1>
<div class="section" id="id1578">
<h2>DMS:</h2>
<div class="section" id="id1579">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>LcgFileCatalogClient - remove check for opening a session in __init__ as credentials are not yet set</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1580">
<h2>Transformation</h2>
<div class="section" id="id1581">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>reuse RPC clients in Transformation System</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r8p1">
<h1>Version v6r8p1</h1>
<div class="section" id="id1582">
<h2>Core</h2>
<div class="section" id="id1583">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-deploy-scripts - restored regression w.r.t. support of scripts starting with &quot;d&quot;</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1584">
<h2>DMS</h2>
<div class="section" id="id1585">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>LcgFileCatalogClient - two typos fixed</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r8">
<h1>Version v6r8</h1>
<p>CHANGE: Several fixes backported from the v7r0 integration branch</p>
<div class="section" id="id1586">
<h2>Core</h2>
<div class="section" id="id1587">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>X509Chain - proxy-info showing an error when there's no CS</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1588">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>DictCache - uses global LockRing to avoid locks in multiprocessing</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1589">
<h2>DMS</h2>
<div class="section" id="id1590">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransferAgent - inside loop filter out waiting files dictionary</li>
<li>dirac-admin-allow-se - there was a continue that was skipping the complete loop for ARCHIVE elements</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1591">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>LcgFileCatalogClient - test return code in startsess lfc calls</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1592">
<h2>WMS:</h2>
<div class="section" id="id1593">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>OptimizerExecutor, InputData, JobScheduling - check that site candidates have all the replicas</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1594">
<h2>RSS:</h2>
<div class="section" id="id1595">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ResourceStatus, RSSCacheNoThread - ensure that locks are always released</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1596">
<h2>Transformation</h2>
<div class="section" id="id1597">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TaskManager - site in the job definition is taken into account when submitting</li>
<li>ValidateOutputDataAgent - self not needed for static methods</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1598">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Transformation - get the allowed plugins from the CS /Operations/Transformations/AllowedPlugins</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p40">
<h1>Version v6r7p40</h1>
<div class="section" id="id1599">
<h2>Resources</h2>
<div class="section" id="id1600">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>StorageElement class was not properly passing the lifetime argument for prestageFile method</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p39">
<h1>Version v6r7p39</h1>
<div class="section" id="id1601">
<h2>Core</h2>
<div class="section" id="id1602">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Grid - in executeGridCommand() allow environment script with arguments needed for ARC client</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1603">
<h2>DMS</h2>
<div class="section" id="id1604">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>DFC SEManager - DIP Storage can have a list of ports now</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1605">
<h2>Resources</h2>
<div class="section" id="id1606">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ARCComputingElement - few fixes after debugging</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p38">
<h1>Version v6r7p38</h1>
<div class="section" id="id1607">
<h2>Core</h2>
<div class="section" id="id1608">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>DISET FileHelper, TransferClient - possibility to switch off check sum</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1609">
<h2>Resources</h2>
<div class="section" id="id1610">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SSHComputingElement - use CE name in the pilot reference construction</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1611">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>ARCComputingElement - first version</li>
<li>StorageFactory - possibility to pass extra protocol parameters to storage object</li>
<li>DIPStorage - added CheckSum configuration option</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1612">
<h2>WMS</h2>
<div class="section" id="id1613">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>StalledJobAgent - if ExecTime &lt; CPUTime make it equal to CPUTime</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p37">
<h1>Version v6r7p37</h1>
<div class="section" id="id1614">
<h2>Framework</h2>
<div class="section" id="id1615">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>NotificationDB - typos in SQL statement in purgeExpiredNotifications()</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1616">
<h2>WMS</h2>
<div class="section" id="id1617">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>JobWrapper - report only error code as ApplicationError parameter when payload finishes with errors</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1618">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>JobCleaningAgent - added scheduling sandbox LFN removal request when deleting jobs</li>
<li>SiteDirector - possibility to specify extensions to be installed in pilots in /Operations/Pilots/Extensions option in order not to install all the server side extensions</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1619">
<h2>DMS</h2>
<div class="section" id="id1620">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>FileCatalogFactory - use service path as default URL</li>
<li>FileCatalogFactory - use ObjectLoader to import catalog clients</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1621">
<h2>SMS</h2>
<div class="section" id="id1622">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>StorageManagementDB, dirac-stager-monitor-jobs - small bug fixes ( sic, Daniela )</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1623">
<h2>Resources</h2>
<div class="section" id="id1624">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>StalledJobAgent - if pilot reference is not registered, this is not an error of the StalledJobAgent, no log.error() in  this case</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1625">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>DIPStorage - added possibility to specify a list of ports for multiple service end-points</li>
<li>InProcessComputingElement - demote log message when payload failure to warning, the job will fail anyway</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1626">
<h2>RMS</h2>
<div class="section" id="id1627">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>RequestTask - ensure that tasks are executed with user credentials even with respect to queries to DIRAC services ( useServerCertificate flag set to false )</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p36">
<h1>Version v6r7p36</h1>
<div class="section" id="id1628">
<h2>WMS</h2>
<div class="section" id="id1629">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>CREAMCE, SiteDirector - make sure that the tmp executable is removed</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1630">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>JobWrapper - remove sending mails via Notification Service in case of job rescheduling</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1631">
<h2>SMS</h2>
<div class="section" id="id1632">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>StorageManagementDB - fix a race condition when old tasks are set failed between stage submission and update.</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p35">
<h1>Version v6r7p35</h1>
<div class="section" id="id1633">
<h2>Stager</h2>
<div class="section" id="id1634">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Stager API: dirac-stager-monitor-file, dirac-stager-monitor-jobs, dirac-stager-monitor-requests, dirac-stager-show-stats</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p34">
<h1>Version v6r7p34</h1>
<div class="section" id="id1635">
<h2>Transformation</h2>
<div class="section" id="id1636">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationCleaning Agent status was set to 'Deleted' instead of 'Cleaned'</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p33">
<h1>Version v6r7p33</h1>
<div class="section" id="id1637">
<h2>Interfaces</h2>
<div class="section" id="id1638">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Job.py - in setExecutable() - prevent changing the log file name string type</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1639">
<h2>StorageManagement</h2>
<div class="section" id="id1640">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>StorageManagementDB - demote the level of several log messages</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1641">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>StorageManagementDB(Handler) - kill staging requests at the same time as killing related jobs, closes #1510</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p32">
<h1>Version v6r7p32</h1>
<div class="section" id="id1642">
<h2>DMS</h2>
<div class="section" id="id1643">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>StorageElementHandler - do not use getDiskSpace utility, use os.statvfs instead</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1644">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>StorageManagementDB - in getStageRequests() make MySQL do an UNIQUE selection and use implicit loop to speed up queries for large results</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1645">
<h2>Resources</h2>
<div class="section" id="id1646">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>lsfce remote script - use re.search instead of re.match in submitJob() to cope with multipline output</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p31">
<h1>Version v6r7p31</h1>
<div class="section" id="id1647">
<h2>WMS</h2>
<div class="section" id="id1648">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SiteDirector - make possible more than one SiteDirector (with different pilot identity) attached to a CE, ie sgm and pilot roles. Otherwise one is declaring Aborted the pilots from the other.</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p30">
<h1>Version v6r7p30</h1>
<div class="section" id="id1649">
<h2>Core</h2>
<div class="section" id="id1650">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>InstallTools - in getSetupComponents() typo fixed: agent -&gt; executor</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1651">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>X509Chain - added groupProperties field to the getCredentials() report</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p29">
<h1>Version v6r7p29</h1>
<div class="section" id="id1652">
<h2>DMS</h2>
<div class="section" id="id1653">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-dms-fts-monitor - exit with code -1 in case of error</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1654">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>FileCatalog - selection metadata is also returned as compatible metadata in the result of getCompatibleMetadata() call</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1655">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>FileCatalog - added path argument to getCompatibleMetadata() call</li>
<li>FileCatalogClient - added getFileUserMetadata()</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1656">
<h2>Resources</h2>
<div class="section" id="id1657">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>CREAMComputingElement - check globus-url-copy result for errors when retrieving job output</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p28">
<h1>Version v6r7p28</h1>
<div class="section" id="id1658">
<h2>DMS</h2>
<div class="section" id="id1659">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FileCatalog/DirectoryMetadata - wrong MySQL syntax</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p27">
<h1>Version v6r7p27</h1>
<div class="section" id="id1660">
<h2>Core</h2>
<div class="section" id="id1661">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Mail.py - fix of the problem of colons in the mail's body</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1662">
<h2>Interfaces</h2>
<div class="section" id="id1663">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Job API - added setSubmitPools(), setPlatform() sets ... &quot;Platform&quot;</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1664">
<h2>WMS</h2>
<div class="section" id="id1665">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TaskQueueDB - use SystemConfig as Platform for matching ( if Platform is not set explicitly</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1666">
<h2>Resources</h2>
<div class="section" id="id1667">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SSHComputingElement - use ssh host ( and not CE name ) in the pilot reference</li>
<li>SSHGEComputingElement - forgotten return statement in _getJobOutputFiles()</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1668">
<h2>Framework</h2>
<div class="section" id="id1669">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>dirac-sys-sendmail - email's body can be taken from pipe. Command's argument in this case will be interpreted as a destination address</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p26">
<h1>Version v6r7p26</h1>
<div class="section" id="id1670">
<h2>DMS</h2>
<div class="section" id="id1671">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ReplicaManager - status names Read/Write -&gt; ReadAccess/WriteAccess</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p25">
<h1>Version v6r7p25</h1>
<div class="section" id="id1672">
<h2>Core</h2>
<div class="section" id="id1673">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>X509Chain - in getCredentials() failure to contact CS is not fatal, can happen when calling dirac-proxy-init -x, for example</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p24">
<h1>Version v6r7p24</h1>
<div class="section" id="id1674">
<h2>DMS</h2>
<div class="section" id="id1675">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>FileCatalog - added getFilesByMetadataWeb() to allow pagination in the Web catalog browser</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1676">
<h2>WMS</h2>
<div class="section" id="id1677">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>WMSAdministrator, DiracAdmin - get banned sites list by specifying the status to the respective jobDB call</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p23">
<h1>Version v6r7p23</h1>
<div class="section" id="id1678">
<h2>Transformation</h2>
<div class="section" id="id1679">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationDB - badly formatted error log message</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1680">
<h2>RMS</h2>
<div class="section" id="id1681">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>RequestDBMySQL - speedup the lookup of requests</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1682">
<h2>WMS</h2>
<div class="section" id="id1683">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-dms-job-delete - in job selection by group</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1684">
<h2>DMS</h2>
<div class="section" id="id1685">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>LcgFileCatalogClient - getDirectorySize made compatible with DFC</li>
<li>LcgFileCatalogClient - proper call of __getClientCertInfo()</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p22">
<h1>Version v6r7p22</h1>
<div class="section" id="id1686">
<h2>Transformation</h2>
<div class="section" id="id1687">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>InputDataAgent - treats only suitable transformations, e.g. not the extendable ones.</li>
<li>TransformationAgent - make some methods more public for easy overload</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p21">
<h1>Version v6r7p21</h1>
<div class="section" id="id1688">
<h2>Core</h2>
<div class="section" id="id1689">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Shifter - pass filePath argument when downloading proxy</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p20">
<h1>Version v6r7p20</h1>
<div class="section" id="id1690">
<h2>DMS</h2>
<div class="section" id="id1691">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>StorageElement, SRM2Storage - support for 'xxxAccess' statuses, checking results of return structures</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1692">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>StrategyHandler - move out SourceSE checking to TransferAgent</li>
<li>ReplicaManager, InputDataAgent - get active replicas</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1693">
<h2>RSS</h2>
<div class="section" id="id1694">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Synchronizer - moved to ResourceManager handler</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1695">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>set configurable email address on the CS to send the RSS emails</li>
<li>RSSCache without thread in background</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p19">
<h1>Version v6r7p19</h1>
<div class="section" id="id1696">
<h2>DMS</h2>
<div class="section" id="id1697">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ReplicaManager - in putAndRegister() SE.putFile() singleFile argument not used explicitly</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p18">
<h1>Version v6r7p18</h1>
<div class="section" id="id1698">
<h2>WMS</h2>
<div class="section" id="id1699">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>StalledJobAgent - do not exit the loop over Completed jobs if accounting sending fails</li>
<li>JobManifest - If CPUTime is not set, set it to MaxCPUTime value</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1700">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>dirac-wms-job-delete - allow to specify jobs to delete by job group and/or in a file</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p17">
<h1>Version v6r7p17</h1>
<div class="section" id="id1701">
<h2>Resources</h2>
<div class="section" id="id1702">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SRM2Storage - treat properly &quot;22 SRM_REQUEST_QUEUED&quot; result code</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p16">
<h1>Version v6r7p16</h1>
<div class="section" id="id1703">
<h2>DMS</h2>
<div class="section" id="id1704">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>StrategyHandler - do not proceed when the source SE is not valid for read</li>
<li>StorageElement - putFile can take an optional sourceSize argument</li>
<li>ReplicaManager - in removeFile() proper loop on failed replicas</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1705">
<h2>RSS</h2>
<div class="section" id="id1706">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SpaceTokenOccupancyCommand, CacheFeederAgent - add timeout when calling lcg_util commands</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1707">
<h2>WMS</h2>
<div class="section" id="id1708">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>JobManifest - take all the SubmitPools defined in the TaskQueueAgent</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1709">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>StalledJobAgent - declare jobs stuck in Completed status as Failed</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p15">
<h1>Version v6r7p15</h1>
<div class="section" id="id1710">
<h2>Core</h2>
<div class="section" id="id1711">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SocketInfo - in host identity evaluation</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1712">
<h2>DMS</h2>
<div class="section" id="id1713">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FileCatalogHandler - missing import os</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1714">
<h2>Transformation</h2>
<div class="section" id="id1715">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>JobManifest - getting allowed job types from operations() section</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p14">
<h1>Version v6r7p14</h1>
<div class="section" id="id1716">
<h2>DMS</h2>
<div class="section" id="id1717">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>StorageElementProxy - free the getFile space before the next file</li>
<li>StorageElement - added getPFNBase() to comply with the interface</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1718">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>StorageElementProxy - removed getParameters(), closes #1280</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1719">
<h2>Interfaces</h2>
<div class="section" id="id1720">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Dirac API - allow lists of LFNs in removeFile() and removeReplica()</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1721">
<h2>WMS</h2>
<div class="section" id="id1722">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>JobSchedulingAgent(Executor) - allow both BannedSite and BannedSites JDL option</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1723">
<h2>RSS</h2>
<div class="section" id="id1724">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ElementInspectorAgent - should only pick elements with rss token ( rs_svc ).</li>
<li>TokenAgent - using 4th element instead of the 5th. Added option to set admin email on the CS.</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p13">
<h1>Version v6r7p13</h1>
<div class="section" id="id1725">
<h2>Core</h2>
<div class="section" id="id1726">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Resources - in getStorageElementSiteMapping() return only sites with non-empty list of SEs</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1727">
<h2>DMS</h2>
<div class="section" id="id1728">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>StorageElement - restored the dropped logic of using proxy SEs</li>
<li>FileCatalog - fix the UseProxy /LocalSite/Catalog option</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1729">
<h2>Transformation</h2>
<div class="section" id="id1730">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationDB - use lower() string comparison in extendTransformation()</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p12">
<h1>Version v6r7p12</h1>
<div class="section" id="id1731">
<h2>WMS</h2>
<div class="section" id="id1732">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>JobManifest - get AllowedSubmitPools from the /Systems section, not from /Operations</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1733">
<h2>Core</h2>
<div class="section" id="id1734">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Resources helper - added getSites(), getStorageElementSiteMapping()</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1735">
<h2>DMS</h2>
<div class="section" id="id1736">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ReplicaManager - do not modify the loop dictionary inside the loop</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1737">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>StrategyHandler - use getStorageElementSiteMapping helper function</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p11">
<h1>Version v6r7p11</h1>
<div class="section" id="id1738">
<h2>Core</h2>
<div class="section" id="id1739">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Subprocess - put the use of watchdog in flagging</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p10">
<h1>Version v6r7p10</h1>
<div class="section" id="id1740">
<h2>Core</h2>
<div class="section" id="id1741">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Subprocess - returns correct structure in case of timeout, closes #1295, #1294</li>
<li>Logger - cleaned unused imports</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1742">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>TimeOutExec - dropped unused utility</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1743">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Logger - added getLevel() method, closes #1292</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1744">
<h2>RSS</h2>
<div class="section" id="id1745">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>ElementInspectorAgent - do not use mangled name and removed shifterProxy agentOption</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p9">
<h1>Version v6r7p9</h1>
<div class="section" id="id1746">
<h2>Core</h2>
<div class="section" id="id1747">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>InstallTools - MySQL Port should be an integer</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p8">
<h1>Version v6r7p8</h1>
<div class="section" id="id1748">
<h2>Core</h2>
<div class="section" id="id1749">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Subprocess - consistent timeout error message</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1750">
<h2>DMS</h2>
<div class="section" id="id1751">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>StrategyHandler - check file source CEs</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1752">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>DataIntegrityClient - code beautification</li>
<li>ReplicaManager - do not check file existence if replica information is queried anyway, do not fail if file to be removed does not exist already.</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1753">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>RemovalTask - added bulk removal</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p7">
<h1>Version v6r7p7</h1>
<p>FIX: Several fixes to allow automatic code documentation</p>
<div class="section" id="id1754">
<h2>Core</h2>
<div class="section" id="id1755">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>InstallTools - added mysqlPort and mysqlRootUser</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1756">
<h2>DMS</h2>
<div class="section" id="id1757">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>ReplicaManager - set possibility to force the deletion of non existing files</li>
<li>StrategyHandler - better handling of checksum check during scheduling</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p6">
<h1>Version v6r7p6</h1>
<div class="section" id="id1758">
<h2>Core</h2>
<div class="section" id="id1759">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-install - restore signal alarm if downloadable file is not found</li>
<li>Subprocess - using Manager proxy object to pass results from the working process</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1760">
<h2>DMS:</h2>
<div class="section" id="id1761">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FTSMonitorAgent, TransferAgent - fix the names of the RSS states</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1762">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>StorageElement - removed overwride mode</li>
<li>removed obsoleted dirac-dms-remove-lfn-replica, dirac-dms-remove-lfn</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1763">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>FTSMonitorAgent - filter out sources with checksum mismatch</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1764">
<h2>RSS</h2>
<div class="section" id="id1765">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>ElementInspectorAgent runs with a variable number of threads which are automatically adjusted</li>
<li>Added policies to force a particular state, can be very convenient to keep something Banned for example.</li>
<li>policy system upgrade, added finer granularity when setting policies and actions</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1766">
<h2>WMS</h2>
<div class="section" id="id1767">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>JobDescription, JobManifest - take values for job parameter verification from Operations CS section</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1768">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>SiteDirector- allow to define pilot DN/Group in the agent options</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p5">
<h1>Version v6r7p5</h1>
<div class="section" id="id1769">
<h2>Interfaces</h2>
<div class="section" id="id1770">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-wms-job-get-output - properly treat the case when output directory is not specified</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p4">
<h1>Version v6r7p4</h1>
<div class="section" id="id1771">
<h2>Core</h2>
<div class="section" id="id1772">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Subprocess - avoid that watchdog kills the executor process before it returns itself</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1773">
<h2>Framework</h2>
<div class="section" id="id1774">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ProxuManagerClient - wrong time for caching proxies</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1775">
<h2>RSS</h2>
<div class="section" id="id1776">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>removed obsoleted methods</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1777">
<h2>DMS</h2>
<div class="section" id="id1778">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>FileCatalog - added findFilesByMetadataDetailed - provides detailed metadata for selected files</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p3">
<h1>Version v6r7p3</h1>
<div class="section" id="id1779">
<h2>DMS</h2>
<div class="section" id="id1780">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FTSMonitorAgent - logging less verbose</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1781">
<h2>Transformation</h2>
<div class="section" id="id1782">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationAgent - use the new CS defaults locations</li>
<li>Proper agent initialization</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1783">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>TransformationPlaugin - in Broadcast plugin added file groupings by number of files, make the TargetSE always defined, even if the SourceSE list contains it</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1784">
<h2>ResourceStatus</h2>
<div class="section" id="id1785">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Added the shifter's proxy to several agents</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1786">
<h2>RMS</h2>
<div class="section" id="id1787">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RequestContainer - the execution order was not properly set for the single files</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1788">
<h2>Framework:</h2>
<div class="section" id="id1789">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ProxyManagerClient - proxy time can not be shorter than what was requested</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p2">
<h1>Version v6r7p2</h1>
<div class="section" id="id1790">
<h2>Core</h2>
<div class="section" id="id1791">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-configure - switch to use CS before checking proxy info</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1792">
<h2>Framework</h2>
<div class="section" id="id1793">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>dirac-sys-sendmail new command</li>
<li>SystemAdmininistratorCLI - added show host, uninstall, revert commands</li>
<li>SystemAdmininistratorHandler - added more info in getHostInfo()</li>
<li>SystemAdmininistratorHandler - added revertSoftware() interface</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1794">
<h2>Transformation</h2>
<div class="section" id="id1795">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationCleaningAgent - check the status of returned results</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r7p1">
<h1>Version v6r7p1</h1>
<div class="section" id="id1796">
<h2>Core</h2>
<div class="section" id="id1797">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Subprocess - finalize the Watchdog closing internal connections after a command execution</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1798">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>add timeout for py(shell,system)Call calls where appropriate</li>
<li>Shifter - use gProxyManager in a way that allows proxy caching</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1799">
<h2>Framework</h2>
<div class="section" id="id1800">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ProxyDB - replace instead of delete+insert proxy in __storeVOMSProxy</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1801">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>ProxyManagerClient - allow to specify validity and caching time separately</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1802">
<h2>DMS</h2>
<div class="section" id="id1803">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-dms-add-file - allow LFN: prefix for lfn argument</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1804">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>FTSMonitorAgent - made multithreaded for better efficiency</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1805">
<h2>WMS</h2>
<div class="section" id="id1806">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TaskQueueDB - fixed selection SQL in __generateTQMatchSQL()</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1807">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>OptimizerExecutor - reduce diversity of MinorStatuses for failed executors</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1808">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>dirac-wms-job-get-output, dirac-wms-job-status - allow to retrieve output for a job group</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1809">
<h2>Resources</h2>
<div class="section" id="id1810">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>CREAMComputingElement - remove temporary JDL right after the submission</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r6p21">
<h1>Version v6r6p21</h1>
<div class="section" id="id1811">
<h2>DMS</h2>
<div class="section" id="id1812">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationCleaningAgent - use the right signature of cleanMetadataCatalogFiles() call</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r6p20">
<h1>Version v6r6p20</h1>
<div class="section" id="id1813">
<h2>DMS</h2>
<div class="section" id="id1814">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RegistrationTask - properly escaped error messages</li>
<li>DirectoryMetadata - use getFileMetadataFields from FileMetadata in addMetadataField()</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1815">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>When there is a missing source error spotted during FTS transfer, file should be reset and rescheduled again until maxAttempt (set to 100) is reached</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1816">
<h2>WMS</h2>
<div class="section" id="id1817">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>JobScheduling - fix the site group logic in case of Tier0</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r6p19">
<h1>Version v6r6p19</h1>
<div class="section" id="id1818">
<h2>DMS</h2>
<div class="section" id="id1819">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>All DMS agents  - set up agent name in the initialization</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1820">
<h2>Core</h2>
<div class="section" id="id1821">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Time - proper interpreting of 0's instead of None</li>
<li>Os.py - protection against failed &quot;df&quot; command execution</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1822">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>DISET - use cStringIO for ANY read that's longer than 16k (speed improvement) + Less mem when writing data to the net</li>
<li>PlotBase - made a new style class</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1823">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Subprocess - timeout wrapper for subprocess calls</li>
<li>dirac-info prints lcg bindings versions</li>
<li>Subprocess - added debug level log message</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1824">
<h2>Framework</h2>
<div class="section" id="id1825">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-proxy-init - always check for errors in S_OK/ERROR returned structures</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1826">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Do not accept VOMS proxies when uploading a proxy to the proxy manager</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1827">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>SystemAdministratorIntegrator client for collecting info from several hosts</li>
<li>SystemAdministrator - added getHostInfo()</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1828">
<h2>Configuration</h2>
<div class="section" id="id1829">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>CE2CSAgent - get a fresh copy of the cs data before attempting to modify it, closes #1151</li>
<li>Do not create useless backups due to slaves connecting and disconnecting</li>
<li>Refresher - prevent retrying with 'Insane environment'</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1830">
<h2>Accounting</h2>
<div class="section" id="id1831">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>DBUtils - take into account invalid values, closes #949</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1832">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Accounting/Job - added validation of reported values to cope with the weird Yandex case</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1833">
<h2>DMS</h2>
<div class="section" id="id1834">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FTSSubmitAgent - file for some reason rejected from submission should stay in 'Waiting' in TransferDB.Channel table</li>
<li>FTSRequest - fix in the log printout</li>
<li>FileCatalogCLI - check the result of removeFile call</li>
<li>LcgFileCatalogClient - get rid of LHCb specific VO evaluation</li>
<li>Restored StorageElementProxy functionality</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1835">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>dirac-dms-add-file removed, dirac-dms-add-files renamed to dirac-dms-add-file</li>
<li>dirac-dms-add-file - added printout</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1836">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>New FileCatalogProxy service - a generalization of a deprecated LcgFileCatalog service</li>
<li>FileCatalog(Factory), StorageElement(Factory) - UseProxy flag moved to /Operations and /LocalSite sections</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1837">
<h2>RSS</h2>
<div class="section" id="id1838">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-admin-allow/ban-se - allow a SE on Degraded ( Degraded-&gt;Active ) and ban a SE on Probing ( Probing -&gt; Banned ). In practice, Active and Degraded are &quot;usable&quot; states anyway.</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1839">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>general reimplementation: New DB schema using python definition of tables, having three big blocks: Site, Resource and Node. MySQLMonkey functionality almost fully covered by DB module, eventually will disappear. Services updated to use new database. Clients updated to use new database. Synchronizer updated to fill the new database. When helpers will be ready, it will need an update. One ElementInspectorAgent, configurable now is hardcoded. New Generic StateMachine using OOP. Commands and Policies simplified. ResourceStatus using internal cache, needs to be tested with real load. Fixes for the state machine Replaced Bad with Degraded status ( outside RSS ). Added &quot;Access&quot; to Read|Write|Check|Remove SE statuses wherever it applies. ResourceStatus returns by default &quot;Active&quot; instead of &quot;Allowed&quot; for CS calls. Caching parameters are defined in the CS</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1840">
<h2>WMS</h2>
<div class="section" id="id1841">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>OptimizerExecutor - failed optimizations will still update the job</li>
<li>JobWrapper - do not attempt to untar directories before having checked if they are tarfiles</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1842">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>JobDB - do not interpret SystemConfig in the WMS/JobDB</li>
<li>JobDB - Use CPUTime JDL only, keep MaxCPUTime for backward compatibility</li>
<li>JobWrapper - use CPUTime job parameter instead of MaxCPUTime</li>
<li>JobAgent - use CEType option instead of CEUniqueID</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1843">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>JobWrapper - added LFNUserPrefix VO specific Operations option used for building user LFNs</li>
<li>dirac-wms-job-status - get job statuses for jobs in a given job group</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1844">
<h2>SMS</h2>
<div class="section" id="id1845">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>StorageManagementDB - when removing unlinked replicas, take into account the case where a staging request had been submitted, but failed</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1846">
<h2>Resources</h2>
<div class="section" id="id1847">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>glexecCE - add new possible locations of the glexec binary: OSG specific stuff and in last resort looking in the PATH</li>
<li>LcgFileCatalogClient - in removeReplica() get the needed PFN inside instead of providing it as an argument</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1848">
<h2>TS</h2>
<div class="section" id="id1849">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Transformation types definition are moved to the Operations CS section</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1850">
<h2>Interfaces</h2>
<div class="section" id="id1851">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Dirac.py - CS option Scratchdir was in LocalSite/LocalSite</li>
<li>Dirac.py - do not define default catalog, use FileCatalog utility instead</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="id1852">
<h1>Version v6r6p19</h1>
<div class="section" id="id1853">
<h2>DMS</h2>
<div class="section" id="id1854">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>All DMS agents  - set up agent name in the initialization</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r6p18">
<h1>Version v6r6p18</h1>
<div class="section" id="id1855">
<h2>Transformation</h2>
<div class="section" id="id1856">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>/DIRAC/VOPolicy/OutputDataModule option moved to &lt;Operations&gt;/Transformations/OutputDataModule</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1857">
<h2>Resources</h2>
<div class="section" id="id1858">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ComputingElement - properly check if the pilot proxy has VOMS before adding it to the payload when updating it</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1859">
<h2>WMS</h2>
<div class="section" id="id1860">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>JobSanity - fixed misspelled method call SetParam -&gt; SetParameter</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r6p17">
<h1>Version v6r6p17</h1>
<div class="section" id="id1861">
<h2>Transformation</h2>
<div class="section" id="id1862">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationAgent - corrected  __getDataReplicasRM()</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r6p16">
<h1>Version v6r6p16</h1>
<div class="section" id="id1863">
<h2>DMS</h2>
<div class="section" id="id1864">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Agents - proper __init__ implementation with arguments passing to the super class</li>
<li>LcgFileCatalogClient - in removeReplica() reload PFN in case it has changed</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r6p15">
<h1>Version v6r6p15</h1>
<div class="section" id="id1865">
<h2>Framework</h2>
<div class="section" id="id1866">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ErrorMessageMonitor - corrected updateFields call</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1867">
<h2>DMS:</h2>
<div class="section" id="id1868">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>FTSMonitorAgent completely rewritten in a multithreaded way</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1869">
<h2>Transformation</h2>
<div class="section" id="id1870">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>InputDataAgent - proper instantiation of TransformationClient</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1871">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Transformation - several log message promoted from info to notice level</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r6p14">
<h1>Version v6r6p14</h1>
<div class="section" id="id1872">
<h2>Transformation</h2>
<div class="section" id="id1873">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Correct instantiation of agents inside several scripts</li>
<li>TransformationAgent - return an entry for all LFNs in __getDataReplicasRM</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1874">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>TransformationCleaningAgent - added verbosity to logs</li>
<li>TransformationAgent - missingLFC to MissingInFC as it could be the DFC as well</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1875">
<h2>DMS</h2>
<div class="section" id="id1876">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransferAgent - fix exception reason in registerFiles()</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r6p13">
<h1>Version v6r6p13</h1>
<div class="section" id="id1877">
<h2>DMS</h2>
<div class="section" id="id1878">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>TransferAgent - change RM call from getCatalogueReplicas to getActiveReplicas. Lowering log printouts here and there</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r6p12">
<h1>Version v6r6p12</h1>
<div class="section" id="id1879">
<h2>DMS</h2>
<div class="section" id="id1880">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RemovalTask - Replacing &quot;'&quot; by &quot;&quot; in error str set as attribute for a subRequest file. Without that request cannot be updated when some nasty error occurs.</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r6p11">
<h1>Version v6r6p11</h1>
<div class="section" id="id1881">
<h2>RMS:</h2>
<div class="section" id="id1882">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RequestClient - log string formatting</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1883">
<h2>DMS</h2>
<div class="section" id="id1884">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RemovalTask - handling for files not existing in the catalogue</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1885">
<h2>Transformation</h2>
<div class="section" id="id1886">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationManager - ignore files in NotProcessed status to get the % of processed files</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1887">
<h2>Interfaces</h2>
<div class="section" id="id1888">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Fixes due to the recent changes in PromptUser utility</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r6p10">
<h1>Version v6r6p10</h1>
<div class="section" id="id1889">
<h2>RMS</h2>
<div class="section" id="id1890">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RequestDBMySQL - better escaping of queries</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1891">
<h2>WMS</h2>
<div class="section" id="id1892">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SiteDirector - get compatible platforms before checking Task Queues for a site</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r6p9">
<h1>Version v6r6p9</h1>
<div class="section" id="id1893">
<h2>Core</h2>
<div class="section" id="id1894">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Utilities/PromptUser.py - better user prompt</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1895">
<h2>Accounting</h2>
<div class="section" id="id1896">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Add some validation to the job records because of weird data coming from YANDEX.ru</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1897">
<h2>DMS</h2>
<div class="section" id="id1898">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ReplicaManager - typo errStr -&gt; infoStr in __replicate()</li>
<li>FTSRequest - fixed log message</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1899">
<h2>WMS</h2>
<div class="section" id="id1900">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SiteDirector - use CSGlobals.getVO() call instead of explicit CS option</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r6p8">
<h1>Version v6r6p8</h1>
<div class="section" id="id1901">
<h2>Transformation</h2>
<div class="section" id="id1902">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationDB - typo in getTransformationFiles(): iterValues -&gt; itervalues</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r6p7">
<h1>Version v6r6p7</h1>
<div class="section" id="id1903">
<h2>Resources</h2>
<div class="section" id="id1904">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>StorageFactory - uncommented line that was preventing the status to be returned</li>
<li>CE remote scripts - should return status and not call exit()</li>
<li>SSHComputingElement - wrong pilot ID reference</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r6p6">
<h1>Version v6r6p6</h1>
<div class="section" id="id1905">
<h2>WMS</h2>
<div class="section" id="id1906">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TaskQueueDB - in findOrphanJobs() retrieve orphaned jobs as list of ints instead of list of tuples</li>
<li>OptimizerExecutor - added import of datetime to cope with the old style optimizer parameters</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1907">
<h2>Transformation</h2>
<div class="section" id="id1908">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationAgent - fix finalization entering in an infinite loop</li>
<li>TransformationCleaningAgent - treating the archiving delay</li>
<li>TransformationDB - fix in getTransformationFiles() in case of empty file list</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1909">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>TransformationCLI - added resetProcessedFile command</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r6p5">
<h1>Version v6r6p5</h1>
<div class="section" id="id1910">
<h2>Transformation</h2>
<div class="section" id="id1911">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationAgent - type( transClient -&gt; transfClient )</li>
<li>TransformationAgent - self._logInfo -&gt; self.log.info</li>
<li>TransformationAgent - skip if no Unused files</li>
<li>TransformationAgent - Use CS option for replica cache lifetime</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1912">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>TransformationAgent - accept No new Unused files every [6] hours</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r6p4">
<h1>Version v6r6p4</h1>
<div class="section" id="id1913">
<h2>DMS</h2>
<div class="section" id="id1914">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransferAgent - protection for files that can not be scheduled</li>
<li>TransferDB - typo (instIDList - &gt; idList ) fixed</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1915">
<h2>Transformation</h2>
<div class="section" id="id1916">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationAgent - typo ( loginfo -&gt; logInfo )</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r6p3">
<h1>Version v6r6p3</h1>
<p>FIX: merged in patch v6r5p14</p>
<div class="section" id="id1917">
<h2>Core</h2>
<div class="section" id="id1918">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>X509Chain - return the right structure in getCredentials() in case of failure</li>
<li>dirac-deploy-scripts.py - allow short scripts starting from &quot;d&quot;</li>
<li>dirac-deploy-scripts.py - added DCOMMANDS_PPID env variable in the script wrapper</li>
<li>ExecutorReactor - reduced error message dropping redundant Task ID</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1919">
<h2>Interfaces</h2>
<div class="section" id="id1920">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Dirac.py - allow to pass LFN list to replicateFile()</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1921">
<h2>DMS</h2>
<div class="section" id="id1922">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FileManager - extra check if all files are available in _findFiles()</li>
<li>FileCatalogClientCLI - bug in DirectoryListing</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r6p2">
<h1>Version v6r6p2</h1>
<p>FIX: merged in patch v6r5p13</p>
<div class="section" id="id1923">
<h2>WMS</h2>
<div class="section" id="id1924">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SiteDirector - if no community set, look for DIRAC/VirtualOrganization setting</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1925">
<h2>Framework</h2>
<div class="section" id="id1926">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SystemLoggingDB - LogLevel made VARCHAR in the MessageRepository table</li>
<li>Logging - several log messages are split in fixed and variable parts</li>
<li>SystemLoggingDB - in insertMessage() do not insert new records in auxiliary tables if they are already there</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r6p1">
<h1>Version v6r6p1</h1>
<div class="section" id="id1927">
<h2>Core:</h2>
<div class="section" id="id1928">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>PromptUser - changed log level of the printout to NOTICE</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1929">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Base Client constructor arguments are passed to the RPCClient constructor</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1930">
<h2>DMS:</h2>
<div class="section" id="id1931">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>FTSRequest - added a prestage mechanism for source files</li>
<li>FileCatalogClientCLI - added -f switch to the size command to use raw faile tables instead of storage usage tables</li>
<li>FileCatalog - added orphan directory repair tool</li>
<li>FIleCatalog - more counters to control the catalog sanity</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1932">
<h2>WMS:</h2>
<div class="section" id="id1933">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SandboxStoreClient - no more kwargs tricks</li>
<li>SandboxStoreClient returns sandbox file name in case of upload failure to allow failover</li>
<li>dirac-pilot - fixed VO_%s_SW_DIR env variable in case of OSG</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1934">
<h2>TS:</h2>
<div class="section" id="id1935">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationManagerHandler - avoid multiple Operations() instantiation in getTransformationSummaryWeb()</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r6">
<h1>Version v6r6</h1>
<div class="section" id="id1936">
<h2>Core</h2>
<div class="section" id="id1937">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-install - properly parse += in .cfg files</li>
<li>Graphs.Utilities - allow two lines input in makeDataFromCVS()</li>
<li>Graphs - allow Graphs package usage if even matplotlib is not installed</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1938">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>getDNForUsername helper migrated from Core.Security.CS to Registry helper</li>
<li>The DIRAC.Core.Security.CS is replaced by the Registry helper</li>
<li>MessageClient(Factor) - added msgClient attribute to messages</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1939">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>SiteSEMapping - new utilities getSitesGroupedByTierLevel(), getTier1WithAttachedTier2(), getTier1WithTier2</li>
<li>dirac-compile-externals will retrieve the Externals compilation scripts from it's new location in github (DIRACGrid/Externals)</li>
<li>Possibility to define a thread-global credentials for DISET connections (for web framework)</li>
<li>Logger - color output ( configurable )</li>
<li>dirac-admin-sort-cs-sites - to sort sites in the CS</li>
<li>Core.Security.Properties - added JOB_MONITOR and USER_MANAGER properties</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1940">
<h2>Configuration</h2>
<div class="section" id="id1941">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Registry - added getAllGroups() method</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1942">
<h2>Framework</h2>
<div class="section" id="id1943">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>SystemAdministratorClientCLI - possibility to define roothPath and lcgVersion when updating software</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1944">
<h2>Accounting</h2>
<div class="section" id="id1945">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>DBUtils - plots going to greater granularity</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1946">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>JobPlotter - added Normalized CPU plots to Job accounting</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1947">
<h2>DMS</h2>
<div class="section" id="id1948">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FileCatalog - addMetadataField() allow generic types, e.g. string</li>
<li>FileCatalog - path argument is normalized before usage in multiple methods</li>
<li>FileCatalog - new metadata for files(directories) should not be there before for directories(files)</li>
<li>FileCatalogClientCLI - in do_ls() check properly the path existence</li>
<li>FileCatalogClientCLI - protection against non-existing getCatalogCounters method in the LFC client</li>
<li>DMS Agents - properly call superclass constructor with loadName argument</li>
<li>ReplicaManager - in removeFile() non-existent file is marked as failed</li>
<li>Make several classes pylint compliant: DataIntegrityHandler, DataLoggingHandler, FileCatalogHandler, StorageElementHandler, StorageElementProxyHandler, TransferDBMonitoringHandler</li>
<li>LogUploadAgent - remove the OSError exception in __replicate()</li>
<li>FileCatalogClientCLI - multiple check of proper command inputs, automatic completion of several commands with subcommands, automatic completion of file names</li>
<li>dirac-admin-ban-se - allow to go over all options read/write/check for each SE</li>
<li>ReplicaManager - removed usage of obsolete &quot;/Resources/StorageElements/BannedTarget&quot;</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1949">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>FileCatalog - forbid removing non-empty directories</li>
<li>FileCatalogClientCLI - reformat the output of size command</li>
<li>removed StorageUsageClient.py</li>
<li>removed obsoleted ProcessingDBAgent.py</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1950">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>FileCatalog - storage usage info stored in all the directories, not only those with files</li>
<li>FileCatalog - added utility to rebuild storage usage info from scratch</li>
<li>FileCatalog - added method for rebuilding DirectoryUsage data from scratch</li>
<li>FileCatalog - Use DirectoryUsage mechanism for both logical and physical storage</li>
<li>StrategyHandler - new implementation to speed up file scheduling + better error reporting</li>
<li>LcgFileCatalogProxy - moved from from LHCbDirac to DIRAC</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1951">
<h2>WMS</h2>
<div class="section" id="id1952">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SiteDirector - provide list of sites to the Matcher in the initial query</li>
<li>SiteDirector - present a list of all groups of a community to match TQs</li>
<li>Matcher - proper reporting pilot site and CE</li>
<li>PilotStatusAgent - use getPilotProxyFromDIRACGroup() instead of getPilotProxyFromVOMSGroup()</li>
<li>WMSAdministrator, SiteDirector - store only non-empty pilot output to the PilotDB</li>
<li>JobManager - reconnect to the OptimizationMind in background if not yet connected</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1953">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>RunNumber job parameter was removed from all the relevant places ( JDL, JobDB, etc )</li>
<li>Get rid of LHCbPlatform everywhere except TaskQueueDB</li>
<li>dirac-boinc-pilot dropped</li>
<li>TaskQueueDirector does not depend on /LocalSite section any more</li>
<li>reduced default delays for JobCleaningAgent</li>
<li>limit the number of jobs received by JobCleaningAgent</li>
<li>JobDB - use insertFields instead of _insert</li>
<li>Matcher, TaskQueueDB - switch to use Platform rather than LHCbPlatform retaining LHCbPlatform compatibility</li>
<li>JobManager - improved job Killing/Deleting logic</li>
<li>dirac-pilot - treat the OSG case when jobs on the same WN all run in the same directory</li>
<li>JobMonitoringHandler - add cutDate and condDict parameters to getJobGroup()</li>
<li>JobManifest - use Operations helper</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1954">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>dirac-pilot - add environment setting for SSH and BOINC CEs</li>
<li>WMSAdministrator - get output for non-grid CEs if not yet in the DB</li>
<li>JobAgent - job publishes BOINC parameters if any</li>
<li>JobWrapper - added more status reports on different failures</li>
<li>JobMonitoringHandler - check access rights with JobPolicy when accessing job info from the web</li>
<li>JobManager,JobWrapper - report to accounting jobs in Rescheduled final state if rescheduling is successful</li>
<li>added killPilot() to the WMSAdministrator interface, DiracAdmin and dirac-admin-kill-pilot command</li>
<li>TimeLeft - renormalize time left using DIRAC Normalization if available</li>
<li>JobCleaningAgent - delete logging records from JobLoggingDB when deleting jobs</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1955">
<h2>RMS</h2>
<div class="section" id="id1956">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RequestDBFile - better exception handling in case no JobID supplied</li>
<li>RequestManagerHandler - make it pylint compliant</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1957">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Major revision of the code</li>
<li>RequestDB - added index on SubRequestID in the Files table</li>
<li>RequestClient - readRequestForJobs updated to the new RequetsClient structure</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1958">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>RequestProxyHandler - is forwarding requests from voboxes to central RequestManager. If central RequestManager is down, requests are dumped into file cache and a separate thread running in background is trying to push them into the central.</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1959">
<h2>RSS</h2>
<div class="section" id="id1960">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>CS.py - Space Tokens were hardcoded, now are obtained after scanning the StorageElements.</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1961">
<h2>Resources</h2>
<div class="section" id="id1962">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SSHComputingElement - enabled multiple hosts in one queue, more debugging</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1963">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>SSHXXX Computing Elements - define SSH class once in the SSHComputingElement</li>
<li>Get rid of legacy methods in ComputingElement</li>
<li>put common functionality into SSHComputingElement base class for all SSHxxx CEs</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1964">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>SSHComputingElement - added option to define private key location</li>
<li>enable definition of ChecksumType per SE</li>
<li>SSHBatch, SSHCondor Computing Elements</li>
<li>SSHxxx Computing Elements - using remote control scripts to better capture remote command errors</li>
<li>added killJob() method tp all the CEs</li>
<li>FileCatalog - take the catalog information info from /Operations CS section, if defined there, to allow specifications per VO</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1965">
<h2>Interfaces</h2>
<div class="section" id="id1966">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Dirac.py - when running in mode=&quot;local&quot; any directory in the ISB would not get untarred, contrary to what is done in the JobWrapper</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1967">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Removed Script.initialize() from the API initialization</li>
<li>Some general API polishing</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1968">
<h2>TS</h2>
<div class="section" id="id1969">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TaskManager - bug fixed in treating tasks with input data</li>
<li>TransformationCleaningAgent - properly call superclass constructor with loadName argument</li>
<li>TransformationDB - wrong SQL statement generation in setFileStatusForTransformation()</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1970">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>TransformationCleaningAgent - removed usage of StorageUsageClient</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1971">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>TransformationCleaningAgent - added _addExtraDirectories() method to extend the list of directories to clean in a subclass if needed</li>
<li>TransformationAgent is multithreaded now ( implementation moved from LHCbDIRAC )</li>
<li>added unit tests</li>
<li>InputDataAgent - possibility to refresh only data registered in the last predefined period of time</li>
<li>TransformationAgent(Client) - management of derived transformations and more ported from LHCbDIRAC</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r5p14">
<h1>Version v6r5p14</h1>
<div class="section" id="id1972">
<h2>Core</h2>
<div class="section" id="id1973">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Utilities - added Backports utility</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1974">
<h2>WMS</h2>
<div class="section" id="id1975">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Use /Operations/JobScheduling section consistently, drop /Operations/Matching section</li>
<li>Executors - several fixes</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1976">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Allow VO specific share correction plugins from extensions</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r5p13">
<h1>Version v6r5p13</h1>
<div class="section" id="id1977">
<h2>WMS</h2>
<div class="section" id="id1978">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Executors - VOPlugin will properly send and receive the params</li>
<li>Correctors - Properly retrieve info from the CS using the ops helper</li>
</ul>
</blockquote>
</div>
<div class="section" id="id1979">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Correctors can be defined in an extension</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r5p12">
<h1>Version v6r5p12</h1>
<p>FIX: merged in patch v6r4p34</p>
</div>
<div class="section" id="version-v6r5p11">
<h1>Version v6r5p11</h1>
<p>FIX: merged in patch v6r4p33</p>
<div class="section" id="id1980">
<h2>Core</h2>
<div class="section" id="id1981">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>MySQL - added offset argument to buildConditions()</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r5p10">
<h1>Version v6r5p10</h1>
<p>FIX: merged in patch v6r4p32</p>
</div>
<div class="section" id="version-v6r5p9">
<h1>Version v6r5p9</h1>
<p>FIX: merged in patch v6r4p30</p>
</div>
<div class="section" id="version-v6r5p8">
<h1>Version v6r5p8</h1>
<p>FIX: merged in patch v6r4p29</p>
</div>
<div class="section" id="version-v6r5p7">
<h1>Version v6r5p7</h1>
<p>FIX: merged in patch v6r4p28</p>
</div>
<div class="section" id="version-v6r5p6">
<h1>Version v6r5p6</h1>
<p>FIX: merged in patch v6r4p27</p>
<div class="section" id="id1982">
<h2>Transformation</h2>
<div class="section" id="id1983">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationDB - StringType must be imported before it can be used</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1984">
<h2>RSS</h2>
<div class="section" id="id1985">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>CS.py - Space Tokens were hardcoded, now are obtained after scanning the StorageElements.</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r5p5">
<h1>Version v6r5p5</h1>
<p>FIX: merged in patch v6r4p26</p>
</div>
<div class="section" id="version-v6r5p4">
<h1>Version v6r5p4</h1>
<p>FIX: merged in patch v6r4p25</p>
</div>
<div class="section" id="version-v6r5p3">
<h1>Version v6r5p3</h1>
<div class="section" id="id1986">
<h2>Transformation</h2>
<div class="section" id="id1987">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>merged in patch v6r4p24</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r5p2">
<h1>Version v6r5p2</h1>
<div class="section" id="web">
<h2>Web</h2>
<div class="section" id="id1988">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>includes DIRACWeb tag web2012092101</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r5p1">
<h1>Version v6r5p1</h1>
<div class="section" id="id1989">
<h2>Core</h2>
<div class="section" id="id1990">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ExecutorMindHandler - return S_OK() in the initializeHandler</li>
<li>OptimizationMindHandler - if the manifest is not dirty it will not be updated by the Mind</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1991">
<h2>Configuration</h2>
<div class="section" id="id1992">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Resources helper - added getCompatiblePlatform(), getDIRACPlatform() methods</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1993">
<h2>Resources</h2>
<div class="section" id="id1994">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SSHComputingElement - add -q option to ssh command to avoid banners in the output</li>
<li>BOINCComputingElement - removed debugging printout</li>
<li>ComputingElement - use Platform CS option which will be converted to LHCbPlatform for legacy compatibility</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1995">
<h2>DMS</h2>
<div class="section" id="id1996">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RequestAgentBase - lowering loglevel from ALWAYS to INFO to avoid flooding SystemLogging</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id1997">
<h2>WMS:</h2>
<div class="section" id="id1998">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SiteDirector - provide CE platform parameter when interrogating the TQ</li>
<li>GridPilotDirector - publish pilot OwnerGroup rather than VOMS role</li>
<li>WMSUtilities - add new error string into the parsing of the job output retrieval</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r5">
<h1>Version v6r5</h1>
<p>NEW: Executor framework</p>
<div class="section" id="id1999">
<h2>Core</h2>
<div class="section" id="id2000">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ProcessPool - killing stuck workers after timeout</li>
<li>dirac-install - add -T/--Timeout option to define timeout for distribution downloads</li>
<li>avoid PathFinder.getServiceURL and use Client class ( DataLoggingClient,LfcFileCatalogProxyClient )</li>
<li>MySQL - added TIMESTAMPADD and TIMESTAMPDIFF to special values not to be scaped by MySQL</li>
<li>Convert to string before trying to escape value in MySQL</li>
<li>X509Chain - avoid a return of error when the group is not valid</li>
<li>MySQL - reduce verbosity of log messages when high level methods are used</li>
<li>Service.py - check all return values from all initializers</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2001">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>DB will throw a RuntimeException instead of a sys.exit in case it can't contact the DB</li>
<li>Several improvements on DISET</li>
<li>Fixed all DOS endings to UNIX</li>
<li>Agents, Services and Executors know how to react to CSSection/Module and react accordingly</li>
<li>dirac-distribution - added global defaults flag and changed the flag to -M or --defaultsURL</li>
<li>Component installation procedure updated to cope with components inheriting Modules</li>
<li>InstallTools - use dirac- command in runit run scripts</li>
<li>Several DB classes have been updated to use the MySQL buildCondition method</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2002">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>MySQL.py - added Test case for Time.dateTime time stamps</li>
<li>MySQL.py - insertFields and updateFields can get values via Lists or Dicts</li>
<li>DataIntegrityDB - use the new methods from MySQL and add test cases</li>
<li>DataIntegrityHandler - check connection to DB and create tables (or update their schema)</li>
<li>DataLoggingDB - use the new methods from MySQL and add test cases</li>
<li>DataLoggingHandler - check connection to DB and create tables (or update their schema)</li>
<li>install tools are updated to deal with executors</li>
<li>dirac-install - added possibility of defining dirac-install's global defaults by command line switch</li>
<li>ObjectLoader utility</li>
<li>DISET Services - added PacketTimeout option</li>
<li>SystemLoggingDB - updated to use the renewed MySQL interface and SQL schema</li>
<li>Added support for multiple entries in /Registry/DefaultGroup, for multi-VO installations</li>
<li>MySQL - provide support for greater and smaller arguments to all MySQL high level methods</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2003">
<h2>Configuration</h2>
<div class="section" id="id2004">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>By default return option and section lists ordered as in the CS</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2005">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>ConfigurationClient - added function to refresh remote configuration</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2006">
<h2>Framework</h2>
<div class="section" id="id2007">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Registry.findDefaultGroup will never return False</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2008">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>ProxyManager does not accept proxies without explicit group</li>
<li>SystemAdministratorHandler - force refreshing the configuration after new component setup</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2009">
<h2>RSS</h2>
<div class="section" id="id2010">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>removed code execution from __init__</li>
<li>removed unused methods</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2011">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Log all policy results</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2012">
<h2>Resources</h2>
<div class="section" id="id2013">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SGETimeLeft - better parsing of the batch system commands output</li>
<li>InProcessComputingElement - when starting a new job discard renewal of the previous proxy</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2014">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>updated SSHComputingElement which allows multiple job submission</li>
<li>BOINCComputingElement - new CE client to work with the BOINC desktop grid infrastructure</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2015">
<h2>WMS</h2>
<div class="section" id="id2016">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>typo in JobLoggingDB</li>
<li>DownloadInputData - when not enough disk space, message was using &quot;buffer&quot; while it should be using &quot;data&quot;</li>
<li>the sandboxmetadataDB explosion when using the sandboxclient without direct access to the DB</li>
<li>InputDataResolution - just quick mod for easier extensibility, plus removed some LHCb specific stuff</li>
<li>StalledJobAgent - use cpuNormalization as float, not string</li>
<li>Don't kill an executor if a task has been taken out from it</li>
<li>SiteDirector - better handling of tokens and filling mode</li>
<li>StalledJobAgent - default startTime and endTime to &quot;now&quot;, avoid None value</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2017">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>WMS Optimizers are now executors</li>
<li>SandboxStoreClient can directly access the DB if available</li>
<li>Moved JobDescription and improved into JobManifest</li>
<li>Whenever a DB is not properly initialized it will raise a catchable RuntimeError exception instead of silently returning</li>
<li>Natcher - refactor to simpify the logic, introduced Limiter class</li>
<li>Treat MaxCPUTime and CPUTime the same way in the JDL to avoid confusion</li>
<li>JobAgent - provide resource description as a dictionary to avoid extra JDL parsing by the Matcher</li>
<li>Matcher - report pilot info once instead of sending it several times from the job</li>
<li>Matcher - set the job site instead of making a separate call to JobStateUpdate</li>
<li>Disabled TQs can also be matched, if no jobs are there, a retry will be triggered</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2018">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>JobState/CachedJobState allow access to the Job via DB/JobStateSync Service automatically</li>
<li>Added support for reset/reschedule in the OptimizationMind</li>
<li>allow jobids in a file in dirac-wms-job-get-output</li>
<li>JobManager - zfill in %n parameter substitution to allow alphabetical sorting</li>
<li>Directors - added checking of the TaskQueue limits when getting eligible queues</li>
<li>SiteDirector - added options PilotScript, MaxPilotsToSubmit, MaxJobsInFillMode</li>
<li>dirac-boinc-pilot - pilot script to be used on the BOINC volunteer nodes</li>
<li>Generic pilot identities are automatically selected by the TQD and the SiteDirector if not explicitly defined in /Pilot/GenericDN and GenericGroup</li>
<li>Generic pilot groups can have a VO that will be taken into account when selecting generic credentials to submit pilots</li>
<li>Generic pilots that belong to a VO can only match jobs from that VO</li>
<li>StalledJobAgent - added rescheduling of jobs stuck in Matched or Rescheduled status</li>
<li>JobAgent - stop after N failed matching attempts (nothing to do), use StopAfterFailedMatches option</li>
<li>Matcher - added Matches done and matches OK statistics</li>
<li>TaskQueue - don't delete fresh task queues. Wait 5 minutes to do so.</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2019">
<h2>Transformation</h2>
<div class="section" id="id2020">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationAgent - a small improvement: now can pick the prods status to handle from the CS, plus few minor corrections (e.g. logger messages)</li>
<li>TransformationCLI - take into accout possible failures in resetFile command</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2021">
<h2>Accounting</h2>
<div class="section" id="id2022">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>AccountingDB - fixed some logic for readonly cases</li>
<li>Calculate the rebucket ETA using remaining records to be processed instead of the total records to be processed</li>
<li>Plots with no data still carry the plot name</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2023">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Added new simpler and faster bucket insertion mechanism</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2024">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>AccountingDB - added retrieving RAW records for internal stuff</li>
<li>Added more info when rebucketing</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2025">
<h2>DMS</h2>
<div class="section" id="id2026">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>DataLoggingClient and DataLoggingDB - tests moved to separate files</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2027">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>request agents cleanup</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2028">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>SRM2Storage - added retry in the gfal calls</li>
<li>added new FTSCleaningAgent cleaning up TransferDB tables</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2029">
<h2>RMS</h2>
<div class="section" id="id2030">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Stop using RequestAgentMixIn in the request agents</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p34">
<h1>Version v6r4p34</h1>
<div class="section" id="id2031">
<h2>DMS</h2>
<div class="section" id="id2032">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FileCatalogCLI - fixed wrong indentation</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2033">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>RegistrationTask - removed some LHCb specific defaults</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p33">
<h1>Version v6r4p33</h1>
<div class="section" id="id2034">
<h2>DMS</h2>
<div class="section" id="id2035">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>FTSRequest - be more verbose if something is wrong with file</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p32">
<h1>Version v6r4p32</h1>
<div class="section" id="id2036">
<h2>WMS</h2>
<div class="section" id="id2037">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>StalledJobAgent - avoid exceptions in the stalled job accounting reporting</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2038">
<h2>DMS</h2>
<div class="section" id="id2039">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>FTSMonitorAgent - handling of expired FTS jobs</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2040">
<h2>Interfaces</h2>
<div class="section" id="id2041">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Dirac.py - attempt to retrieve output sandbox also for Completed jobs in retrieveRepositorySandboxes()</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p30">
<h1>Version v6r4p30</h1>
<div class="section" id="id2042">
<h2>Core</h2>
<div class="section" id="id2043">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-admin-bdii-ce-voview - proper check of the result structure</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2044">
<h2>Interfaces</h2>
<div class="section" id="id2045">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Dirac.py, Job.py - allow to pass environment variables with special characters</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2046">
<h2>DMS</h2>
<div class="section" id="id2047">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>FileCatalogCLI - possibility to sort output in the ls command</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2048">
<h2>WMS:</h2>
<div class="section" id="id2049">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>JobWrapper - interpret environment variables with special characters</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p29">
<h1>Version v6r4p29</h1>
<div class="section" id="id2050">
<h2>RMS</h2>
<div class="section" id="id2051">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RequestDBMySQL - wrong indentation in __updateSubRequestFiles()</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p28">
<h1>Version v6r4p28</h1>
<div class="section" id="id2052">
<h2>Interfaces</h2>
<div class="section" id="id2053">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Dirac.py, DiracAdmin.py - remove explicit timeout on RPC client instantiation</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2054">
<h2>RSS</h2>
<div class="section" id="id2055">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>CS.py - fix for updated CS location (backward compatible)</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2056">
<h2>DMS</h2>
<div class="section" id="id2057">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>StrategyHandler - bug fixed determineReplicationTree()</li>
<li>FTSRequest - add checksum string to SURLs file before submitting an FTS job</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2058">
<h2>WMS</h2>
<div class="section" id="id2059">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>JobWrapper - protection for double quotes in JobName</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2060">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>SiteDirector - switched some logging messages from verbose to info level</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2061">
<h2>RMS</h2>
<div class="section" id="id2062">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Request(Client,DBMySQL,Manager) - added readRequestsForJobs() method</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p27">
<h1>Version v6r4p27</h1>
<div class="section" id="id2063">
<h2>DMS</h2>
<div class="section" id="id2064">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SRM2Storage - removed hack for EOS (fixed server-side)</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2065">
<h2>Transformation</h2>
<div class="section" id="id2066">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>TransformationClient - limit to 100 the number of transformations in getTransformations()</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2067">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>TransformationAgent - define the transformations type to use in the configuration</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2068">
<h2>Interfaces</h2>
<div class="section" id="id2069">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Job.py -  fix for empty environmentDict (setExecutionEnv)</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p26">
<h1>Version v6r4p26</h1>
<div class="section" id="id2070">
<h2>Transformation</h2>
<div class="section" id="id2071">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationClient - fixed calling sequence in rpcClient.getTransformationTasks()</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2072">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>TransformationClient - added log messages in verbose level.</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p25">
<h1>Version v6r4p25</h1>
<div class="section" id="id2073">
<h2>DMS</h2>
<div class="section" id="id2074">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>StrategyHandler - sanity check for wrong replication tree</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p24">
<h1>Version v6r4p24</h1>
<div class="section" id="id2075">
<h2>Core</h2>
<div class="section" id="id2076">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>MySQL - add 'offset' argument to the buildCondition()</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2077">
<h2>Transformation</h2>
<div class="section" id="id2078">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationAgent - randomize the LFNs for removal/replication case when large number of those</li>
<li>TransformationAgent(DB) - do not return redundant LFNs in getTransformationFiles()</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2079">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>TransformationClient(DB,Manager) - get transformation files in smaller chunks to improve performance</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p23">
<h1>Version v6r4p23</h1>
<div class="section" id="id2080">
<h2>Web</h2>
<div class="section" id="id2081">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>includes DIRACWeb tag web2012092101</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p22">
<h1>Version v6r4p22</h1>
<div class="section" id="id2082">
<h2>DMS</h2>
<div class="section" id="id2083">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SRM2Storage - fix the problem with the CERN-EOS storage</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p21">
<h1>Version v6r4p21</h1>
<div class="section" id="id2084">
<h2>Core</h2>
<div class="section" id="id2085">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SGETimeLeft - take into account dd:hh:mm:ss format of the cpu consumed</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p20">
<h1>Version v6r4p20</h1>
<div class="section" id="id2086">
<h2>WMS</h2>
<div class="section" id="id2087">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>PilotDirector, GridPilotDirector - make sure that at least 1 pilot is to be submitted</li>
<li>GridPilotDirector - bug on how pilots are counted when there is an error in the submit loop.</li>
<li>dirac-pilot - proper install script installation on OSG sites</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p19">
<h1>Version v6r4p19</h1>
<div class="section" id="id2088">
<h2>RMS</h2>
<div class="section" id="id2089">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RequestDBMySQL - optimized request selection query</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p18">
<h1>Version v6r4p18</h1>
<div class="section" id="id2090">
<h2>Configuration</h2>
<div class="section" id="id2091">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>CE2CSAgent.py - the default value must be set outside the loop</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2092">
<h2>DMS</h2>
<div class="section" id="id2093">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-dms-fts-submit, dirac-dms-fts-monitor - print out error messages</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2094">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>dirac-dms-create-replication-request</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2095">
<h2>Resources</h2>
<div class="section" id="id2096">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TorqueComputingElement.py, plus add UserName for shared Queues</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2097">
<h2>WMS</h2>
<div class="section" id="id2098">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>JobManagerHandler - default value for pStart (to avoid Exception)</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p17">
<h1>Version v6r4p17</h1>
<div class="section" id="id2099">
<h2>Core</h2>
<div class="section" id="id2100">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-configure - setup was not updated in dirac.cfg even with -F option</li>
<li>RequestHandler - added fix for Missing ConnectionError</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2101">
<h2>DMS</h2>
<div class="section" id="id2102">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-dms-clean-directory - command fails with <cite>KeyError: 'Replicas'</cite>.</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2103">
<h2>WMS</h2>
<div class="section" id="id2104">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SiteDirector - adapt to the new method in the Matcher getMatchingTaskQueue</li>
<li>SiteDirector - added all SubmitPools to TQ requests</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p16">
<h1>Version v6r4p16</h1>
<div class="section" id="id2105">
<h2>Core:</h2>
<div class="section" id="id2106">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-install - bashrc/cshrc were wrongly created when using versionsDir</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2107">
<h2>Accounting</h2>
<div class="section" id="id2108">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Added new simpler and faster bucket insertion mechanism</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2109">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Added more info when rebucketing</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2110">
<h2>WMS</h2>
<div class="section" id="id2111">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Matcher - bad codition if invalid result</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2112">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Matcher - refactored to take into account job limits when providing info to directors</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2113">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>JoAgent - reports SubmitPool parameter if applicable</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p15">
<h1>Version v6r4p15</h1>
<div class="section" id="id2114">
<h2>WMS</h2>
<div class="section" id="id2115">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>gLitePilotDirector - fix the name of the MyProxy server to avoid crasehs of the gLite WMS</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2116">
<h2>Transformation</h2>
<div class="section" id="id2117">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TaskManager - when the file is on many SEs, wrong results were generated</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p13">
<h1>Version v6r4p13</h1>
<div class="section" id="id2118">
<h2>DMS</h2>
<div class="section" id="id2119">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-admin-allow-se - added missing interpreter line</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p12">
<h1>Version v6r4p12</h1>
<div class="section" id="id2120">
<h2>DMS</h2>
<div class="section" id="id2121">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>RemovalTask - for DataManager shifter change creds after failure of removal with her/his proxy.</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2122">
<h2>RSS</h2>
<div class="section" id="id2123">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ResourceManagementClient  - Fixed wrong method name</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2124">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Added RssConfiguration class</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p11">
<h1>Version v6r4p11</h1>
<div class="section" id="id2125">
<h2>Core</h2>
<div class="section" id="id2126">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>GGUSTicketsClient - GGUS SOAP URL updated</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2127">
<h2>DMS</h2>
<div class="section" id="id2128">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ReplicaManager - wrong for loop</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="requestmanagement">
<h2>RequestManagement</h2>
<div class="section" id="id2129">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RequestClient - bug fix in finalizeRequest()</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2130">
<h2>Transformation</h2>
<div class="section" id="id2131">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TaskManager - fix for correctly setting the sites (as list)</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p10">
<h1>Version v6r4p10</h1>
<div class="section" id="id2132">
<h2>RequestManagement</h2>
<div class="section" id="id2133">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RequestContainer - in addSubrequest() function</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2134">
<h2>Resources</h2>
<div class="section" id="id2135">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SRM2Storage - in checksum type evaluation</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="resourcestatussystem">
<h2>ResourceStatusSystem</h2>
<div class="section" id="id2136">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>InfoGetter - wrong import statement</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2137">
<h2>WMS</h2>
<div class="section" id="id2138">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SandboxMetadataDB - __init__() can not return a value</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p9">
<h1>Version v6r4p9</h1>
<div class="section" id="id2139">
<h2>DMS</h2>
<div class="section" id="id2140">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>FailoverTransfer - ensure the correct execution order of the subrequests</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p8">
<h1>Version v6r4p8</h1>
<p>Bring in fixes from v6r3p17</p>
<div class="section" id="id2141">
<h2>Core:</h2>
<div class="section" id="id2142">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Don't have the __init__ return True for all DBs</li>
<li>Operations will now look in 'Defaults' instead of 'Default'</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2143">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Added more protection for exceptions thrown in callbacks for the ProcessPool</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="datamanagement">
<h2>DataManagement:</h2>
<div class="section" id="id2144">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Put more protection in StrategyHandler for neither channels  not throughput read out of TransferDB</li>
<li>No JobIDs supplied in getRequestForJobs function for RequestDBMySQL taken into account</li>
<li>Fix on getRequestStatus</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2145">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>RequestClient proper use of getRequestStatus in finalizeRequest</li>
<li>Refactored RequestDBFile</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p7">
<h1>Version v6r4p7</h1>
<div class="section" id="workloadmanagement">
<h2>WorkloadManagement</h2>
<div class="section" id="id2146">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SandboxMetadataDB won't explode DIRAC when there's no access to the DB</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2147">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Whenever a DB fails to initialize it raises a catchable exception instead of just returning silently</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2148">
<h2>DataManagement</h2>
<div class="section" id="id2149">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Added Lost and Unavailable to the file metadata</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p6">
<h1>Version v6r4p6</h1>
<p>Bring fixes from v6r4p6</p>
</div>
<div class="section" id="version-v6r4p5">
<h1>Version v6r4p5</h1>
<div class="section" id="id2150">
<h2>Configuration</h2>
<div class="section" id="id2151">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Added function to generate Operations CS paths</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2152">
<h2>Core</h2>
<div class="section" id="id2153">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Added proper ProcessPool checks and finalisation</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2154">
<h2>DataManagement</h2>
<div class="section" id="id2155">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>don't set Files.Status to Failed for non-existign files, failover transfers won't go</li>
<li>remove classmethods here and there to unblock requestHolder</li>
<li>sorting replication tree by Ancestor, not hopAncestorgit add DataManagementSystem/Agent/TransferAgent.py</li>
<li>if there is no failed files, put an empty dict</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2156">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>RAB, TA: change task timeout: 180 and 600 (was 600 and 900 respectively)</li>
<li>TransferAgent: add AcceptableFailedFiles to StrategyHandler to ban FTS channel from scheduling</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2157">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>TA: add finalize</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2158">
<h2>RSS</h2>
<div class="section" id="id2159">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RSS is setting Allowed but the StorageElement checks for Active</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="workflows">
<h2>Workflows</h2>
<div class="section" id="id2160">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Part of WorfklowTask rewritten to fix some issues and allow 'ANY' as site</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2161">
<h2>Transformation</h2>
<div class="section" id="id2162">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Wrong calls to TCA::cleanMetadataCatalogFiles</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p4">
<h1>Version v6r4p4</h1>
<div class="section" id="id2163">
<h2>Core</h2>
<div class="section" id="id2164">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Platform.py - check if Popen.terminate is available (only from 2.6)</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p3">
<h1>Version v6r4p3</h1>
<div class="section" id="id2165">
<h2>Core</h2>
<div class="section" id="id2166">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ProcessPool with watchdog and timeouts - applied in v6r3 first</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p2">
<h1>Version v6r4p2</h1>
<div class="section" id="id2167">
<h2>StorageManagement</h2>
<div class="section" id="id2168">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>StorageElement - staging is a Read operation and should be allowed as such</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2169">
<h2>WMS</h2>
<div class="section" id="id2170">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>InProcessComputingElement, JobAgent - proper return status code from the job wrapper</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2171">
<h2>Core</h2>
<div class="section" id="id2172">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Platform - manage properly the case of exception in the ldconfig execution</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4p1">
<h1>Version v6r4p1</h1>
<div class="section" id="id2173">
<h2>DMS</h2>
<div class="section" id="id2174">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransferDB.getChannelObservedThroughput - the channelDict was created in a wrong way</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2175">
<h2>RSS</h2>
<div class="section" id="id2176">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ResourceStatus was not returning Allowed by default</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r4">
<h1>Version v6r4</h1>
<div class="section" id="id2177">
<h2>Core</h2>
<div class="section" id="id2178">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-install-db.py: addDatabaseOptionsToCS has added a new keyed argument</li>
<li>If several extensions are installed, merge ConfigTemplate.cfg</li>
<li>ProcessPool - fixes in the locking mechanism with LockRing, stopping workers when the parent process is finished</li>
<li>Added more locks to the LockRing</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2179">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>SGETimeLeft.py: Support for SGE backend</li>
<li>Service framework - added monitoring of file descriptors open</li>
<li>Service framework - Reduced handshake timeout to prevent stuck threads</li>
<li>MySQL class with new high level methods - buildCondition,insertFields,updateFields deleteEntries, getFields, getCounters, getDistinctAttributeValues</li>
<li>The installation tools are updated to install components by name with the components module specified as an option</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2180">
<h2>DMS</h2>
<div class="section" id="id2181">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransferDB.py - speed up the Throughput determination</li>
<li>FileCatalogCLI - replicate operation does a proper replica registration ( closes #5 )</li>
<li>ReplicaManager - __cleanDirectory now working and thus dirac-dms-clean-directory</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2182">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>dirac-dms-add-files: script similar to dirac-dms-remove-files, allows for 1 file specification on the command line, using the usual dirac-dms-add-file options, but also can take a text file in input to upload a bunch of files. Exit code is 0 only if all was fine and is different for every error found.</li>
<li>StorageElementProxy- support for data downloading with http protocol from arbitrary storage, needed for the web data download</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2183">
<h2>WMS</h2>
<div class="section" id="id2184">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>StalledJobAgent - StalledTimeHours and FailedTimeHours are read each cycle, refer to the Watchdog heartBeat period (should be renamed); add NormCPUTime to Accounting record</li>
<li>StalledJobAgent - get ProcessingType from JDL if defined</li>
<li>dirac-wms-job-peek - missing printout in the command</li>
<li>properly report CPU usage when the Watchdog kill the payload.</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2185">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>CPU normalization script to run a quick test in the pilot, used by the JobWrapper to report the CPU consumption to the accounting</li>
<li>SiteDirector - support for the operation per VO in multi-VO installations</li>
<li>SiteDirector - take into account the number of already waiting pilots when evaluating the number of pilots to submit</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2186">
<h2>RSS</h2>
<div class="section" id="id2187">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Result in ClientCache table is a varchar, but the method was getting a datetime</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2188">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>RSS components get operational parameters from the Operations handler</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2189">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>CacheFeederAgent - VOBOX and SpaceTokenOccupancy commands added (ported from LHCbDIRAC)</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2190">
<h2>DataManagement</h2>
<div class="section" id="id2191">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>if there is no failed files, put an empty dict</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2192">
<h2>Transformation</h2>
<div class="section" id="id2193">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Wrong calls to TCA::cleanMetadataCatalogFiles</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r3p19">
<h1>Version v6r3p19</h1>
<div class="section" id="id2194">
<h2>WMS</h2>
<div class="section" id="id2195">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>gLitePilotDirector - fix the name of the MyProxy server to avoid crashes of the gLite WMS</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r3p18">
<h1>Version v6r3p18</h1>
<div class="section" id="id2196">
<h2>Resources</h2>
<div class="section" id="id2197">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SRM2Storage - in checksum type evaluation</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r3p17">
<h1>Version v6r3p17</h1>
<div class="section" id="id2198">
<h2>DataManagement</h2>
<div class="section" id="id2199">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Fixes issues #783 and #781. Bugs in ReplicaManager removePhisicalReplica and getFilesFromDirectory</li>
<li>Return S_ERROR if missing jobid arguments</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2200">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Checksum can be verified during FTS and SRM2Storage</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r3p16">
<h1>Version v6r3p16</h1>
<div class="section" id="id2201">
<h2>DataManagement</h2>
<div class="section" id="id2202">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>better monitoring of FTS channels</li>
<li>Handle properly None value for channels and bandwidths</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2203">
<h2>Core</h2>
<div class="section" id="id2204">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Properly calculate the release notes if there are newer releases in the release.notes file</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r3p15">
<h1>Version v6r3p15</h1>
<div class="section" id="id2205">
<h2>DataManagement</h2>
<div class="section" id="id2206">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>if there is no failed files, put an empty dict</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2207">
<h2>Transformation</h2>
<div class="section" id="id2208">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Wrong calls to TCA::cleanMetadataCatalogFiles</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r3p14">
<h1>Version v6r3p14</h1>
<div class="section" id="id2209">
<h2>Core</h2>
<div class="section" id="id2210">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ProcessPool.py: clean processing and finalisation</li>
<li>Pfn.py: don't check for 'FileName' in pfnDict</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2211">
<h2>DMS</h2>
<div class="section" id="id2212">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransferAgent.py,RemovalAgent.py,RegistrationAgent.py - unlinking of temp proxy files, corection of values sent to gMonitor</li>
<li>StrategyHandler - new config option 'AcceptableFailedFiles' to unblock scheduling for channels if problematic transfers occured for few files</li>
<li>ReplicaManager.py - reverse sort of LFNs when deleting files and directories to avoid blocks</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2213">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>dirac-dms-show-fts-status.py: script showing last hour history for FTS channels</li>
<li>TransferDBMonitoringHandler.py: new function exporting FST channel queues</li>
<li>TransferAgent,RemovalAgent,RegistrationAgent - new confing options for setting timeouts for tasks and ProcessPool finalisation</li>
<li>moved StrategyHandler class def to separate file under DMS/private</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2214">
<h2>TMS</h2>
<div class="section" id="id2215">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationCleaningAgent.py: some refactoring, new way of disabling/enabline execution by 'EnableFlag' config option</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r3p13">
<h1>Version v6r3p13</h1>
<div class="section" id="id2216">
<h2>Core</h2>
<div class="section" id="id2217">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Added proper ProcessPool checks and finalisation</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2218">
<h2>DataManagement</h2>
<div class="section" id="id2219">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>don't set Files.Status to Failed for non-existign files, failover transfers won't go</li>
<li>remove classmethods here and there to unblock requestHolder</li>
<li>sorting replication tree by Ancestor, not hopAncestorgit add DataManagementSystem/Agent/TransferAgent.py</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2220">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>RAB, TA: change task timeout: 180 and 600 (was 600 and 900 respectively)</li>
<li>TransferAgent: add AcceptableFailedFiles to StrategyHandler to ban FTS channel from scheduling</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2221">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>TA: add finalize</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r3p12">
<h1>Version v6r3p12</h1>
<div class="section" id="id2222">
<h2>Core</h2>
<div class="section" id="id2223">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Platform.py - check if Popen.terminate is available (only from 2.6)</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r3p11">
<h1>Version v6r3p11</h1>
<div class="section" id="id2224">
<h2>Core</h2>
<div class="section" id="id2225">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ProcessPool with watchdog and timeouts</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r3p10">
<h1>Version v6r3p10</h1>
<div class="section" id="id2226">
<h2>StorageManagement</h2>
<div class="section" id="id2227">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>StorageElement - staging is a Read operation and should be allowed as such</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2228">
<h2>WMS</h2>
<div class="section" id="id2229">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>InProcessComputingElement, JobAgent - proper return status code from the job wrapper</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2230">
<h2>Core</h2>
<div class="section" id="id2231">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Platform - manage properly the case of exception in the ldconfig execution</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r3p9">
<h1>Version v6r3p9</h1>
<div class="section" id="id2232">
<h2>DMS</h2>
<div class="section" id="id2233">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransferDB.getChannelObservedThroughput - the channelDict was created in a wrong way</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r3p8">
<h1>Version v6r3p8</h1>
<div class="section" id="id2234">
<h2>Web</h2>
<div class="section" id="id2235">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>return back to the release web2012041601</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r3p7">
<h1>Version v6r3p7</h1>
<div class="section" id="id2236">
<h2>Transformation</h2>
<div class="section" id="id2237">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationCleaningAgent - protection from deleting requests with jobID 0</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r3p6">
<h1>Version v6r3p6</h1>
<div class="section" id="id2238">
<h2>Core</h2>
<div class="section" id="id2239">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-install-db - proper key argument (follow change in InstallTools)</li>
<li>ProcessPool - release all locks every time WorkignProcess.run is executed, more fixes to come</li>
<li>dirac-configure - for Multi-Community installations, all vomsdir/vomses files are now created</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2240">
<h2>WMS</h2>
<div class="section" id="id2241">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-pilot - SGE batch ID was overwriting the CREAM ID</li>
<li>PilotDirector - protect the CS master if there are at least 3 slaves</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2242">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>SiteDirector - add pilot option with CE name to allow matching of SAM jobs.</li>
<li>Watchdog - set LocalJobID in the SGE case</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r3p5">
<h1>Version v6r3p5</h1>
<div class="section" id="id2243">
<h2>Core:</h2>
<div class="section" id="id2244">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ProcessPool - bug making TaskAgents hang after max cycles</li>
<li>Graphs - proper handling plots with data containing empty string labels</li>
<li>GateWay - transfers were using an old API</li>
<li>GateWay - properly calculate the gateway URL</li>
<li>Utilities/Pfn.py - bug in pfnunparse() when concatenating Path and FileName</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2245">
<h2>Accounting</h2>
<div class="section" id="id2246">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>DataCache - set daemon the datacache thread</li>
<li>BasePlotter - proper handling of the Petabyte scale data</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2247">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>ReportGenerator - make AccountingDB readonly</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2248">
<h2>DMS:</h2>
<div class="section" id="id2249">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransferAgent, RegistrationTask - typos</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r3p4">
<h1>Version v6r3p4</h1>
<div class="section" id="id2250">
<h2>DMS:</h2>
<div class="section" id="id2251">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransferAgent - wrong value for failback in TA:execute</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r3p3">
<h1>Version v6r3p3</h1>
<div class="section" id="id2252">
<h2>Configuration</h2>
<div class="section" id="id2253">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Operations helper - typo</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2254">
<h2>DMS:</h2>
<div class="section" id="id2255">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransferAgent - change the way of redirecting request to task</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r3p2">
<h1>Version v6r3p2</h1>
<div class="section" id="id2256">
<h2>DMS</h2>
<div class="section" id="id2257">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FTSRequest - updating metadata for accouting when finalizing FTS requests</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2258">
<h2>Core</h2>
<div class="section" id="id2259">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>DIRAC/__init__.py - default version is set to v6r3</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r3p1">
<h1>Version v6r3p1</h1>
<div class="section" id="id2260">
<h2>WMS</h2>
<div class="section" id="id2261">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Use ResourcesStatus and Resources helpers in the InputDataAgent logic</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2262">
<h2>Configuration</h2>
<div class="section" id="id2263">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>added getStorageElementOptions in Resources helper</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2264">
<h2>DMS</h2>
<div class="section" id="id2265">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>resourceStatus object created in TransferAgent instead of StrategyHandler</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r3">
<h1>Version v6r3</h1>
<div class="section" id="id2266">
<h2>Core</h2>
<div class="section" id="id2267">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Added protections due to the process pool usage in the locking logic</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2268">
<h2>Resources</h2>
<div class="section" id="id2269">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>LcgFileCatalogClient - reduce the number of retries: LFC_CONRETRY = 5 to avoid combined catalog to be stuck on a faulty LFC server</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2270">
<h2>RSS</h2>
<div class="section" id="id2271">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ResourceStatus - reworked helper to keep DB connections</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2272">
<h2>DMS</h2>
<div class="section" id="id2273">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ReplicaManager::CatalogBase::_callFileCatalogFcnSingleFile() - wrong argument</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2274">
<h2>RequestManagement</h2>
<div class="section" id="id2275">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TaskAgents - set timeOut for task to 10 min (15 min)</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2276">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>TaskAgents - fill in Error fields in case of failing operations</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2277">
<h2>Interfaces</h2>
<div class="section" id="id2278">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-wms-select-jobs - wrong use of the Dirac API</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r2p9">
<h1>Version v6r2p9</h1>
<div class="section" id="id2279">
<h2>Core</h2>
<div class="section" id="id2280">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-configure - make use of getSEsForSite() method to determine LocalSEs</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2281">
<h2>WMS</h2>
<div class="section" id="id2282">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Matcher - add Stalled to &quot;Running&quot; Jobs when JobLimits are applied</li>
<li>JobDB - allow to specify required platform as Platform JDL parameter, the specified platform is taken into account even without /Resources/Computing/OSCompatibility section</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2283">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>DownloadInputData,InputDataByProtocol - check Files on Tape SEs are on Disk cache before Download or getturl calls from Wrapper</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2284">
<h2>DMS</h2>
<div class="section" id="id2285">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TaskAgents - fix for non-existing files</li>
<li>change verbosity in failoverReplication</li>
<li>FileCatalog - remove properly metadata indices</li>
<li>FileManagerBase - bugfix in the descendants evaluation logic</li>
<li>TransferAgent and TransferTask - update Files.Status to Failed when ReplicaManager.replicateAndRegister will fail completely; when no replica is available at all.</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2286">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>dirac-admin-allow(ban)-se - removed lhcb-grid email account by default, and added switch to avoid sending email</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2287">
<h2>Core</h2>
<div class="section" id="id2288">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-pilot - default lcg bindings version set to 2012-02-20</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r2p8">
<h1>Version v6r2p8</h1>
<div class="section" id="id2289">
<h2>DMS:</h2>
<div class="section" id="id2290">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>TransferAgent - fallback to task execution if replication tree is not found</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r2p7">
<h1>Version v6r2p7</h1>
<div class="section" id="id2291">
<h2>WMS</h2>
<div class="section" id="id2292">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SiteDirector - wrong CS option use: BundleProxy -&gt; HttpProxy</li>
<li>SiteDirector - use short lines in compressed/encoded files in the executable python script</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r2p6">
<h1>Version v6r2p6</h1>
<div class="section" id="id2293">
<h2>DataManagement</h2>
<div class="section" id="id2294">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Bad logic in StrategyHandler:MinimiseTotalWait</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2295">
<h2>Core</h2>
<div class="section" id="id2296">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>updated GGUS web portal URL</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2297">
<h2>RSS</h2>
<div class="section" id="id2298">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>meta key cannot be reused, it is popped from dictionary</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2299">
<h2>Framework</h2>
<div class="section" id="id2300">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>The Gateway service does not have a handler</li>
<li>distribution notes allow for word wrap</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2301">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>ConfingTemplate entry for Gateway</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2302">
<h2>WorkloadManagement</h2>
<div class="section" id="id2303">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>avoid unnecessary call if no LFN is left in one of the SEs</li>
<li>When Uploading job outputs, try first Local SEs, if any</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r2p5">
<h1>Version v6r2p5</h1>
<div class="section" id="id2304">
<h2>RSS</h2>
<div class="section" id="id2305">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>several minor bug fixes</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2306">
<h2>RequestManagement</h2>
<div class="section" id="id2307">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RequestDBMySQL - removed unnecessary request type check</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2308">
<h2>DMS</h2>
<div class="section" id="id2309">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FileCatalogClienctCLI - wrong evaluation of the operation in the find command</li>
<li>ReplicaManager - wrong operation order causing failure of UploadLogFile module</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2310">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>FileCatalog - added possibility to remove specified metadata for a given path</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2311">
<h2>Core</h2>
<div class="section" id="id2312">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>dirac-install - generate cshrc DIRAC environment setting file for the (t)csh</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2313">
<h2>Interfaces</h2>
<div class="section" id="id2314">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Job - added InputData to each element in the ParametricInputData</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2315">
<h2>WMS</h2>
<div class="section" id="id2316">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>dirac-jobexec - pass ParametericInputData to the workflow as a semicolon separated string</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r2p4">
<h1>Version v6r2p4</h1>
<div class="section" id="id2317">
<h2>WMS</h2>
<div class="section" id="id2318">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>StalledJobAgent - protection against jobs with no PilotReference in their parameters</li>
<li>WMSAdministratorHandler - wrong argument type specification for getPilotInfo method</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2319">
<h2>StorageManagement</h2>
<div class="section" id="id2320">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RequestFinalizationAgent - no method existence check when calling RPC method</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r2p3">
<h1>Version v6r2p3</h1>
<div class="section" id="id2321">
<h2>WMS</h2>
<div class="section" id="id2322">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Matcher - fixed the credentials check in requestJob() to simplify it</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="configurationsystem">
<h2>ConfigurationSystem</h2>
<div class="section" id="id2323">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Operations helper - fix that allow no VO to be defined for components that do not need it</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2324">
<h2>Core</h2>
<div class="section" id="id2325">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>InstallTools - when applying runsvctrl to a list of components make sure that the config server is treated first and the sysadmin service - last</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r2p2">
<h1>Version v6r2p2</h1>
<div class="section" id="id2326">
<h2>WMS</h2>
<div class="section" id="id2327">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Matcher - restored logic for checking private pilot asking for a given DN for belonging to the same group with JOB_SHARING property.</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r2p1">
<h1>Version v6r2p1</h1>
<div class="section" id="requestmanagementsystem">
<h2>RequestManagementSystem</h2>
<div class="section" id="id2328">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RequestCleaningAgent - missing import of the &quot;second&quot; interval definition</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r2">
<h1>Version v6r2</h1>
<div class="section" id="general">
<h2>General</h2>
<div class="section" id="id2329">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>replaced use of exec() python statement in favor of object method execution</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2330">
<h2>Accounting</h2>
<div class="section" id="id2331">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Accounting 'byte' units are in powers of 1000 instead of powers of 1024 (closes #457)</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2332">
<h2>Core</h2>
<div class="section" id="id2333">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>DISET Clients are now thread-safe. Same clients used twice in different threads was not closing the previous connection</li>
<li>TransferClient closes connections properly</li>
<li>DISET Clients are now thread-safe. Same client used twice in different threads will not close the previous connection</li>
<li>dirac-install - execute dirac-fix-mysql-script, if available, to fix the mysql.server startup script</li>
<li>dirac-distribution - Changed obsoleted tar.list file URL</li>
<li>typo in dirac-admin-add-host in case of error</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2334">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Pfn.py - pfnparse function rewritten for speed up and mem usage, unit test case added</li>
<li>Beautification and reduce wait times to improve performance</li>
<li>Add deprecated sections in the CS Operations helper to ease the transition</li>
<li>dirac-admin-allow(ban)-se - use diracAdmin.sendMail() instead of NotificationClient.sendMail()</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2335">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>reduce wait times in DISET protocol machinery to improve performance</li>
<li>dirac-fix-mysql-script command to fix the mysql start-up script for the given installation</li>
<li>ProcessPool - added functionality to kill all children processes properly when destroying ProcessPool objects</li>
<li>CS Helper for LocalSite section, with gridEnv method</li>
<li>Grid module will use Local.gridEnv if nothing passed in the arguments</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2336">
<h2>Framework</h2>
<div class="section" id="id2337">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>UserProfileDB - no more use of &quot;type&quot; variable as it is a reserved keyword</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2338">
<h2>RequestManagement:</h2>
<div class="section" id="id2339">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RequestDBFile - more consistent treatment of requestDB Path</li>
<li>RequestMySQL - Execution order is evaluated based on not Done state of subrequests</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2340">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>RequestCleaningAgent - resetting Assigned requests to Waiting after a configurable period of time</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2341">
<h2>RSS</h2>
<div class="section" id="id2342">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>CacheFeederAgent - too verbose messages moved to debug instead of info level</li>
<li>fixed a bug preventing RSS clients to connect to the services</li>
<li>Proper services synchronization</li>
<li>Better handling of exceptions due to timeouts in GOCDBClient</li>
<li>RSS.Notification emails are sent again</li>
<li>Commands have been modified to return S_OK, S_ERROR inside the Result dict. This way, policies get a S_ERROR / S_OK object. CacheFeederAgent has been updated accordingly.</li>
<li>allow clients, if db connection fails, to reconnect ( or at least try ) to the servers.</li>
<li>MySQLMonkey - properly escaped all parameters of the SQL queries, other fixes.</li>
<li>Minor bugfixes spotted on the Web development</li>
<li>Removed useless decorator from RSS handlers</li>
<li>_checkFloat() checks INTEGERS, not datetimes</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2343">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>RSS Action now inherits from a base class, and Actions are more homogeneous, they all take a uniform set of arguments. The name of modules has been changed from PolType to Action as well.</li>
<li>access control using CS Authentication options. Default is SiteManager, and get methods are all.</li>
<li>ResourceStatus helper tool moved to RSS/Client directory, no RSS objects created if the system is InActive</li>
<li>Removed ClientFastDec decorator, using a more verbose alternative.</li>
<li>Removed useless usage of kwargs on helper functions.</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2344">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>CleanerAgent renamed to CacheCleanerAgent</li>
<li>Updated RSS scripts, to set element statuses and / or tokens.</li>
<li>Added a new script, dirac-rss-synch</li>
<li>added getSESitesList method to RSSClient</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2345">
<h2>DataManagement</h2>
<div class="section" id="id2346">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-dms-user-lfns - fixed the case when the baseDir is specified</li>
<li>FTS testing scripts were using sys.argv and getting confused if options are passed</li>
<li>DFC - avoid crash if no directories or files found in metadata query</li>
<li>FTSMonitor, FTSRequest - fixes in handling replica registration, setting registration requests in FileToCat table for later retry</li>
<li>Failover registration request in the FTS agents.</li>
<li>FTSMonitor - enabled to register new replicas if even the corresponding request were removed from the RequestManagement</li>
<li>StorageElement - check if SE has been properly initialized before executing any method</li>
<li>LFC client - protect against getting None in lfc.lfc_readdirxr( oDirectory, &quot;&quot; )</li>
<li>add extra protection in dump method of StorageElement base class</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2347">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>refactoring of DMS agents executing requests, allow requests from arbitrary users</li>
<li>DFC - optimization of the directory size evaluation</li>
<li>DFC - getCatalogCounters() update to show numbers of directories</li>
<li>LFC client getReplica() - make use of the new bulk method lfc.lfc_getreplicasl()</li>
<li>FailoverTransfer - create subrequest per catalog if more than one catalog</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2348">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>DFC - allow to specify multiple replicas, owner, mode when adding files</li>
<li>Added CREATE TEMPORARY TABLES privilege to FileCatalogDB</li>
<li>lfc_dfc_copy script to migrate data from LFC to DFC</li>
<li>DFC - use DirectoryUsage tables for the storage usage evaluations</li>
<li>DFC - search by metadata can be limited to a given directory subtree</li>
<li>DFC - search by both directory and file indexed metadata</li>
<li>DFC FileCatalogHandler - define database location in the configuration</li>
<li>DFC - new FileCatalogFactory class, possibility to use named DFC services</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2349">
<h2>Interface</h2>
<div class="section" id="id2350">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Dirac.py - fix some type checking things</li>
<li>Dirac.py - the addFile() method can now register to more than 1 catalog.</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2351">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Job.py - added method to handle the parametric parameters in the workflow. They are made available to the workflow_commons via the key 'GenericParameters'.</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2352">
<h2>WMS</h2>
<div class="section" id="id2353">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>removed dependency of the JobSchedulingAgent on RSS. Move the getSiteTier functionality to a new CS Helper.</li>
<li>WMSAdministratorHandler - Replace StringType by StringTypes in the export methods argument type</li>
<li>JobAgent - Set explicitly UseServerCertificate to &quot;no&quot; for the job executable</li>
<li>SiteDirector passes jobExecDir to pilot, this defaults to &quot;.&quot; for CREAM CEs. It can be set in the CS. It will not make use of $TMPDIR in this case.</li>
<li>Set proper project and release version to the SiteDirector</li>
<li>Added installation as an option to the pilots and random MyProxyServer</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2354">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>dirac-pilot - change directory to $OSG_WN_TMP on OSG sites</li>
<li>Added &quot;JobDelay&quot; option for the matching, refactored and added CS options to the matcher</li>
<li>Support for parametric jobs with parameters that can be of List type</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2355">
<h2>Resources</h2>
<div class="section" id="id2356">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>make sure lfc client will not try to connect for several days</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2357">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Added SSH Grid Engine Computing Element</li>
<li>Added SSH Computing Element</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2358">
<h2>Transformation</h2>
<div class="section" id="id2359">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationDB - in setFileStatusForTransformation() reset ErrorCount to zero if &quot;force&quot; flag and    the new status is &quot;unused&quot;</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2360">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>TransformationDB - added support for dictionary in metadata for the InputDataQuery mechanism</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r1p13">
<h1>Version v6r1p13</h1>
<div class="section" id="id2361">
<h2>WMS</h2>
<div class="section" id="id2362">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>JobSchedulingAgent - backported from v6r2 use of Resources helper</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r1p12">
<h1>Version v6r1p12</h1>
<div class="section" id="id2363">
<h2>Accounting</h2>
<div class="section" id="id2364">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Properly delete cached plots</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2365">
<h2>Core</h2>
<div class="section" id="id2366">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-install - run externals post install after generating the versions dir</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r1p11">
<h1>Version v6r1p11</h1>
<div class="section" id="id2367">
<h2>Core</h2>
<div class="section" id="id2368">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-distribution - properly generate releasehistory and releasenotes</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2369">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>dirac-install - caches locally the externals and the grid bundle</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r1p10">
<h1>Version v6r1p10</h1>
<div class="section" id="worloadmanagement">
<h2>WorloadManagement</h2>
<div class="section" id="id2370">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>JobAgent - set UseServerCertificate option &quot;no&quot; for the job executable</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r1p9">
<h1>Version v6r1p9</h1>
<div class="section" id="id2371">
<h2>Core</h2>
<div class="section" id="id2372">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-configure - set the proper /DIRAC/Hostname when defining /LocalInstallation/Host</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2373">
<h2>DataManagement</h2>
<div class="section" id="id2374">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>dirac-dms-user-lfns - fixed the case when the baseDir is specified</li>
<li>dirac-dms-remove-files - fixed crash in case of returned error report in a form of dictionary</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r1p8">
<h1>Version v6r1p8</h1>
<div class="section" id="id2375">
<h2>Web</h2>
<div class="section" id="id2376">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>restored Run panel in the production monitor</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2377">
<h2>Resources</h2>
<div class="section" id="id2378">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FileCatalog - do not check existence of the catalog client module file</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r1p7">
<h1>Version v6r1p7</h1>
<div class="section" id="id2379">
<h2>Web</h2>
<div class="section" id="id2380">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>fixed scroll bar in the Monitoring plots view</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r1p6">
<h1>Version v6r1p6</h1>
<div class="section" id="id2381">
<h2>Core</h2>
<div class="section" id="id2382">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransferClient closes connections properly</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r1p5">
<h1>Version v6r1p5</h1>
<div class="section" id="id2383">
<h2>Core</h2>
<div class="section" id="id2384">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>DISET Clients are now thread-safe. Same clients used twice in different threads was not closing the previous connection</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2385">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>reduce wait times in DISET protocol machinery to improve performance</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r1p4">
<h1>Version v6r1p4</h1>
<div class="section" id="id2386">
<h2>RequestManagement</h2>
<div class="section" id="id2387">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RequestContainer - in isSubRequestDone() treat special case for subrequests with files</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2388">
<h2>Transformation</h2>
<div class="section" id="id2389">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationCleaningAgent - do not clear requests for tasks with no associated jobs</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r1p3">
<h1>Version v6r1p3</h1>
<div class="section" id="id2390">
<h2>Framework</h2>
<div class="section" id="id2391">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Define the service location for the monitor</li>
<li>Close some connections that DISET was leaving open</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2392">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Pass the monitor down to the request RequestHandler</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r1p2">
<h1>Version v6r1p2</h1>
<div class="section" id="id2393">
<h2>WorkloadManagement</h2>
<div class="section" id="id2394">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>JobSchedulingAgent - use getSiteTiers() with returned direct value and not S_OK</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2395">
<h2>Transformation</h2>
<div class="section" id="id2396">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Uniform use of the TaskManager in the RequestTaskAgent and WorkflowTaskAgent</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r1p1">
<h1>Version v6r1p1</h1>
<div class="section" id="id2397">
<h2>RSS</h2>
<div class="section" id="id2398">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Alarm_PolType now really send mails instead of crashing silently.</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r1">
<h1>Version v6r1</h1>
<div class="section" id="id2399">
<h2>RSS</h2>
<div class="section" id="id2400">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ResourceStatusHandler - getStorageElementStatusWeb(), access mode by default is Read</li>
<li>RSS __init__.py will not crash anymore if no CS info provided</li>
<li>CS.getSiteTier now behaves correctly when a site is passed as a string</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2401">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Major refactoring of the RSS system</li>
<li>DB.ResourceStatusDB has been refactored, making it a simple wrapper round ResourceStatusDB.sql with only four methods by table ( insert, update, get &amp; delete )</li>
<li>DB.ResourceStatusDB.sql has been modified to support different statuses per granularity.</li>
<li>DB.ResourceManagementDB has been refactored, making it a simple wrapper round ResourceStatusDB.sql with only four methods by table ( insert, update, get &amp; delete )</li>
<li>Service.ResourceStatusHandler has been refactored, removing all data processing, making it an intermediary between client and DB.</li>
<li>Service.ResourceManagementHandler has been refactored, removing all data processing, making it an intermediary between client and DB.</li>
<li>Client.ResourceStatusClient has been refactorerd. It connects automatically to DB or to the Service. Exposes DB and booster functions.</li>
<li>Client.ResourceManagementClient has been refactorerd. It connects automatically to DB or to the Service. Exposes DB and booster functions.</li>
<li>Agent.ClientsCacheFeederAgent renamed to CacheFeederAgent. The name was not accurate, as it also feeds Accouting Cache tables.</li>
<li>Agent.InspectorAgent, makes use of automatic API initialization.</li>
<li>Command. refactor and usage of automatic API initialization.</li>
<li>PolicySystem.PEP has reusable client connections, which increase significantly performance.</li>
<li>PolicySystem.PDP has reusable client connections, which increase significantly performance.</li>
<li>Utilities.Synchronizer syncs users and DIRAC sites</li>
<li>cosmetic changes everywhere, added HeadURL and RCSID</li>
<li>Removed all the VOExtension logic on RSS</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2402">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Utilities.ResourceStatusBooster makes use of the 'DB primitives' exposed on the client and does some useful data processing, exposing the new functions on the client.</li>
<li>Utilities.ResourceManagementBooster makes use of the 'DB primitives' exposed on the client and does some useful data processing, exposing the new functions on the client.</li>
<li>Utilities.Decorators are syntactic sugar for DB, Handler and Clients.</li>
<li>Utilities.MySQLMonkey is a mixture of laziness and refactoring, in order to generate the SQL statements automatically. Not anymore sqlStatemens hardcoded on the RSS.</li>
<li>Utilities.Validator are common checks done through RSS modules</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="dirac-setup-site">
<h2>dirac-setup-site</h2>
<div class="section" id="id2403">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>fixed typos in the Script class name</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2404">
<h2>Transformation</h2>
<div class="section" id="id2405">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Missing logger in the TaskManager Client (was using agent's one)</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2406">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Added UnitTest class for TaskManager Client</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="dirac-api">
<h2>DIRAC API</h2>
<div class="section" id="id2407">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Dirac.py. If /LocalSite/FileCatalog is not define the default Catalog was not properly set.</li>
<li>Dirac.py - fixed __printOutput to properly interpret the first argument: 0:stdout, 1:stderr</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2408">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Dirac.py - added getConfigurationValue() method</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2409">
<h2>Framework</h2>
<div class="section" id="id2410">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>UsersAndGroups agent to synchronize users from VOMRS server.</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="dirac-install">
<h2>dirac-install</h2>
<div class="section" id="id2411">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>make Platform.py able to run with python2.3 to be used inside dirac-install</li>
<li>protection against the old or pro links pointing to non-existent directories</li>
<li>fixed the logic of creating links to /opt/dirac directories to take into account webRoot subdirs</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2412">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>make use of the HTTP proxies if available</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2413">
<h2>WorkloadManagement</h2>
<div class="section" id="id2414">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SiteDirector - change getVO() function call to getVOForGroup()</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2415">
<h2>Core:</h2>
<div class="section" id="id2416">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Pfn.py - check the sanity of the pfn and catch the erroneous case</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2417">
<h2>RequestManagement:</h2>
<div class="section" id="id2418">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RequestContainer.isSubrequestDone() - return 0 if Done check fails</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2419">
<h2>DataManagement</h2>
<div class="section" id="id2420">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>FileCatalog - possibility to configure multiple FileCatalog services of the same type</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r0p4">
<h1>Version v6r0p4</h1>
<div class="section" id="id2421">
<h2>Framework</h2>
<div class="section" id="id2422">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Define the service location for the monitor</li>
<li>Close some connections that DISET was leaving open</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2423">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Pass the monitor down to the request RequestHandler</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r0p3">
<h1>Version v6r0p3</h1>
<div class="section" id="id2424">
<h2>Framework</h2>
<div class="section" id="id2425">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>ProxyManager - Registry.groupHasProperties() wasn't returning a result</li>
<li>typo dirac-proxy-info -&gt; dirac-proxy-init in the expiration mail contents</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2426">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>Groups without AutoUploadProxy won't receive expiration notifications</li>
<li>DISET - directly close the connection after a failed handshake</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r0p2">
<h1>Version v6r0p2</h1>
<div class="section" id="id2427">
<h2>Framework</h2>
<div class="section" id="id2428">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>in services logs change ALWAYS log level for query messages to NOTICE</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r0p1">
<h1>Version v6r0p1</h1>
<div class="section" id="id2429">
<h2>Core</h2>
<div class="section" id="id2430">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>List.uniqueElements() preserves the other of the remaining elements</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2431">
<h2>Framework</h2>
<div class="section" id="id2432">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Use all required arguments in read access data for UserProfileDB</li>
<li>NotificationClient - dropped LHCb-Production setup by default in the __getRPSClient()</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2433">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>By default set authorization rules to authenticated instead of all</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div class="section" id="version-v6r0">
<h1>Version v6r0</h1>
<div class="section" id="id2434">
<h2>Framework</h2>
<div class="section" id="id2435">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Never use the host certificate if there is one for dirac-proxy-init</li>
<li>ProxyManager - calculate properly the dates for credentials about to expire</li>
<li>Utilities/Security - hash VOMS Attributes as string</li>
<li>Utilities/Security - Generate a chain hash to discover if two chains are equal</li>
<li>SystemAdministrator - Do not set  a default lcg version</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2436">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>By default log level for agents and services is INFO</li>
<li>Disable the log headers by default before initializing</li>
<li>Proxy upload by default is one month with dirac-proxy-upload</li>
<li>ProxyManager will autoexpire old proxies, also auto purge logs</li>
<li>Rename dirac-proxy-upload to dirac-admin-proxy-upload</li>
<li>SecurityLogging - security log level to verbose</li>
<li>SysAdmin CLI - will try to connect to the service when setting the host</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2437">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>DISET Framework modified client/server protocol, messaging mechanism to be used for optimizers</li>
<li>move functions in DIRAC.Core.Security.Misc to DIRAC.Core.Security.ProxyInfo</li>
<li>dirac-proxy-init modification according to issue #29: -U flag will upload a long lived proxy to the ProxyManager If /Registry/DefaultGroup is defined, try to generate a proxy that has that group Replaced params.debugMessage by gLogger.verbose. Closes #65 If AutoUploadProxy = true in the CS, the proxy will automatically be uploaded</li>
<li>Added upload of pilot proxies automatically</li>
<li>Print info after creating a proxy</li>
<li>Added setting VOMS extensions automatically</li>
<li>dirac-proxy-info can also print the information of the uploaded proxies</li>
<li>dirac-proxy-init will check that the lifetime of the certificate is less than one month and advise to renew it</li>
<li>dirac-proxy-init will check that the certificate has at least one month of validity</li>
<li>Proxy manager will send notifications when the uploaded proxies are about to expire (configurable via CS)</li>
<li>Now the proxyDB also has a knowledge of user names. Queries can use the user name as a query key</li>
<li>dirac-proxy-init will complain if the user certificate has less than 30 days</li>
<li>OracleDB - added Array type</li>
<li>MySQL - allow definition of the port number in the configuration</li>
<li>Use chain has to discover if it has already been dumped</li>
<li>SystemAdministrator - added Project support for the sysadmin</li>
<li>SysAdmin CLI - colorization of errors in the cli</li>
<li>Logger - added showing the thread id in the logger if enabled</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2438">
<h2>Configuration</h2>
<div class="section" id="id2439">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>CE2CSAgent - update the CEType only if there is a relevant info in the BDII</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2440">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>added getVOfromProxyGroup() utility</li>
<li>added getVoForGroup() utility, use it in the code as appropriate</li>
<li>added Registry and Operations Configuration helpers</li>
<li>dirac-configuration-shell - a configuration script for CS that behaves like an UNIX shellCHANGE: CSAPI - added more functionality required by updated configuration console</li>
<li>Added possibility to define LocalSE to any Site using the SiteLocalSEMapping section on the Operations Section</li>
<li>introduce Registry/VO section, associate groups to VOs, define SubmitPools per VO</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="releasemanagement">
<h2>ReleaseManagement</h2>
<div class="section" id="id2441">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Install tools won't write HostDN to the configuration if the Admin username is not set</li>
<li>Properly set /DIRAC/Configuration/Servers when installing a CS Master</li>
<li>install_site.sh - missing option in wget for https download: --no-check-certificate</li>
<li>dirac-install-agent(service) - If the component being installed already has corresponding CS section, it is not overwritten unless explicitly asked for</li>
<li>dirac-install - define DYLD_LIBRARY_PATH ( for Mac installations )</li>
<li>dirac-install - Properly search for the LcgVer</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2442">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>dirac-install - write the defaults if any under defaults-.cfg so dirac-configure can pick it up</li>
<li>use new dirac_install from gothub/integration branch in install_site.sh</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2443">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>release preparations and installation tools based on installation packages</li>
<li>dirac-compile-externals will try go get a DIRAC-free environment before compiling</li>
<li>dirac-disctribution - upload command can be defined via defaults file</li>
<li>dirac-disctribution - try to find if the version name is a branch or a tag in git and act accordingly</li>
<li>dirac-disctribution - added keyword substitution when creating a a distribution from git</li>
<li>dirac-install functionality enhancement: start using the switches as defined in issue #26;</li>
<li>dirac-install - put all the goodness under a function so scripts like lhcb-proxy-init can use it easily</li>
<li>dirac-install will write down the releases files in -d mode</li>
<li>Extensions can request custom external dependencies to be installed via pip when installing DIRAC.</li>
<li>LCG bundle version can be defined on a per release basis in the releases.cfg</li>
<li>dirac-deploy-scripts - when setting the lib path in the deploy scripts. Also search for subpaths of the libdir and include them</li>
<li>Install tools - plainly separate projects from installations</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2444">
<h2>Accounting</h2>
<div class="section" id="id2445">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Modified buckets width of 1week to 1 week + 1 day to fix summer time end week (1 hour more )</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2446">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>For the WMSHistory type, send as JobSplitType the JobType</li>
<li>Reduced the size of the max key length to workaround mysql max bytes for index problem</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2447">
<h2>WorkloadManagement</h2>
<div class="section" id="id2448">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>SiteDirector - do not download pilot output if the flag getPilotOutput is not set</li>
<li>SSHTorque - retrieve job status by chunks of 100 jobs to avoid too long</li>
<li>JobDB - properly treat Site parameter in the job JDL while rescheduling jobs</li>
<li>PBSTimeLeft - proper handling of (p)cput parameter in the batch system output, recovery of the incomplete batch system output</li>
<li>ComputingElement - fixed proxy renewal logic for generic and private pilots</li>
<li>DownloadInputData - bug fixed in the naming of downloaded files</li>
<li>Matcher - set the group and DN when a request gets to the matcher if the request is not coming from a pilot</li>
<li>Matcher = take into account JobSharing when checking the owner for the request</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2449">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>SiteDirector - simplified executable generation</li>
<li>TimeLeft - call batch system commands with the ( default ) timeout 120 sec</li>
<li>PBSTimeLeft - uses default CPU/WallClock if not present in the output</li>
<li>PilotDirector, dirac-pilot - interpret -V flag of the pilot as Installation name</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2450">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>SiteDirector - few more checks of error conditions</li>
<li>SiteDirector - limit the queue max length to the value of MaxQueueLengthOption ( 3 days be default )</li>
<li>JobDB will extract the VO when applying DIRAC/VOPolicy from the proper VO</li>
<li>glexecComputingElement - allow glexecComputingElement to &quot;Reschedule&quot; jobs if the Test of the glexec fails, instead of defaulting to InProcess. Controlled by RescheduleOnError Option of the glexecComputingElement</li>
<li>SandboxStore - create a different SBPath with the group included</li>
<li>JobSchedulingAgent - set the job Site attribute to the name of a group of sites corresponding to a SE chosen by the data staging procedure</li>
<li>automatically add SubmitPools JDL option of the job owner's VO defines it</li>
<li>JobManager - add MaxParametericJobs option to the service configuration</li>
<li>PilotDirector - each SubmitPool or Middleware can define TargetGrids</li>
<li>JobAgent - new StopOnApplicationFailure option to make the agent exiting the loop on application failure</li>
<li>PilotAgentsDB - on demand retrieval of the CREAM pilot output</li>
<li>Pilot - proper job ID evaluation for the OSG sites</li>
<li>JDL - added %j placeholder in the JDL to be replaced by the JobID</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2451">
<h2>DataManagement</h2>
<div class="section" id="id2452">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>FileCatalog/DiractoryLevelTree - consistent application of the max directory level using global MAX_LEVELS variable</li>
<li>FileCatalog - Directory metadata is deleted together with the directory deletion, issue #40</li>
<li>LcgFileCatalog - use lfcthr and call lfcthr.init() to allow multithread try the import only once and just when LcgFileCatalogClient class is intantiated</li>
<li>StorageElement - get service CS options with getCSOption() method ( closes #97 )</li>
<li>retrieve FileCatalogs as ordered list, to have a proper default.</li>
<li>FileCatalog - bug fixes in the directory removal methods (closes #98)</li>
<li>RemovalAgent - TypeError when getting JobID in RemovalAgent</li>
<li>RemovalAgent - put a limit to be sure the execute method will end after a certain number of iterations</li>
<li>DownloadInputData - when files have been uploaded with lcg_util, the PFN filename might not match the LFN file name</li>
<li>putting FTSMonitor web page back</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2453">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>FileCatalog - the logic of the files query by metadata revisited to increase efficiency</li>
<li>FileCatalog - allow up to 15 levels of directories</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2454">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>LcgFileCatalogClient - new version of getPathPermissions relying on the lfc_access method to solve the problem of multiple user DNs in LFC.</li>
<li>The default file catalog is now determined using /LocalSite/FileCatalog. The old behavior is provided as a fallback solution</li>
<li>ReplicaManager - can now deal with multiple catalogs. Makes sure the surl used for removal is the same as the one used for registration.</li>
<li>PoolXMLCatalog - added getTypeByPfn() function to get the type of the given PFN</li>
<li>dirac-dms-ban(allow)-se - added possibility to use CheckAccess property of the SE</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2455">
<h2>StorageManagement</h2>
<div class="section" id="id2456">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Stager - updateJobFromStager(): only return S_ERROR if the Status sent is not recognized or if a state update fails. If the jobs has been removed or has moved forward to another status, the Stager will get an S_OK and should forget about the job.</li>
<li>Requests older than 1 day, which haven't been staged are retried. Tasks older than &quot;daysOld&quot; number of days are set to Failed. These tasks have already been retried &quot;daysOld&quot; times for staging.</li>
<li>CacheReplicas and StageRequests records are kept until the pin has expired. This way the StageRequest agent will have proper accounting of the amount of staged data in cache.</li>
<li>Update Stager code in v6 to the same point as v5r13p37</li>
<li>StorageManager - avoid race condition by ensuring that Links=0 in the query while removing replicas</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2457">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>new option in the StorageElement configuration &quot;CheckAccess&quot;</li>
<li>FTSCleaningAgent will allow to fix transient errors in RequestDB. At the moment it's only fixing Requests for which SourceTURL is equal to TargetSURL.</li>
<li>Stager - added new command dirac-stager-stage-files</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2458">
<h2>RequestManagement</h2>
<div class="section" id="id2459">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>RequestDBFile - get request in chronological order (closes issue #84)</li>
<li>RequestDBFile - make getRequest return value for getRequest the same as for</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2460">
<h2>ResourceStatusSystem</h2>
<div class="section" id="id2461">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Cleaned RSS scripts, they are still prototypes</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2462">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>command caller looks on the extension for commands.</li>
<li>RSS use now the CS instead of getting info from Python modules.</li>
<li>PEP actions now reside in separate modules outside PEP module.</li>
<li>Updating various RSS tests to make them compatible with changes in the system.</li>
<li>Mostly trivial changes, typos, etc in various files in RSS</li>
<li>TokenAgent sends e-mails with current status</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2463">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>Major code refacoring. First refactoring of RSS's PEP. Actions are now function defined in modules residing in directory &quot;Actions&quot;.</li>
<li>methods to store cached environment on a DB and ge them.</li>
<li>RSS CS module add facilities to extract info from CS.</li>
<li>CS is used instead of ad-hoc configuration module in most places.</li>
<li>Adding various helper functions in RSS Utils module. These are functions used by RSS developers, including mainly myself, and are totally independant from the rest of DIRAC.</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2464">
<h2>Transformation</h2>
<div class="section" id="id2465">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>TransformationDB - not removing task when site is not set</li>
<li>TransformationCleaningAgent - archiving instead of cleaning Removal and Replication transformations</li>
<li>TransformationCleaningAgent - kill jobs before deleting them</li>
</ul>
</blockquote>
</div>
<div class="section" id="id2466">
<h3>Change</h3>
<blockquote>
<ul class="simple">
<li>allow Target SE specification for jobs, Site parameter is not set in this case</li>
<li>TransformationAgent  - add new file statuses in production monitoring display</li>
<li>TransformationAgent - limit the number of files to be treated in TransformationAgent for replication and removal (default 5000)</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="id2467">
<h2>Workflow</h2>
<div class="section" id="id2468">
<h3>Feature</h3>
<blockquote>
<ul class="simple">
<li>allow modules to define Input and Output parameters that can be used instead of the step_commons/workflow_commons (Workflow.py, Step.py, Module.py)</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="various-fixes">
<h2>Various fixes</h2>
<div class="section" id="id2469">
<h3>Bugfix</h3>
<blockquote>
<ul class="simple">
<li>Mail.py uses SMTP class rather than inheriting it</li>
<li>Platform utility will properly discover libc version even for the new Ubuntu</li>
<li>Removed old sandbox and other obsoleted components</li>
</ul>
</blockquote>
</div>
</div>
</div>
</div>
</body>
</html>
